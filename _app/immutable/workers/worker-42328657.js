(function(){"use strict";function A(t){let e=(t[0]+16)/116,r=t[1]/500+e,a=e-t[2]/200,n,o,s;return r=.95047*(r*r*r>.008856?r*r*r:(r-16/116)/7.787),e=1*(e*e*e>.008856?e*e*e:(e-16/116)/7.787),a=1.08883*(a*a*a>.008856?a*a*a:(a-16/116)/7.787),n=r*3.2406+e*-1.5372+a*-.4986,o=r*-.9689+e*1.8758+a*.0415,s=r*.0557+e*-.204+a*1.057,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:12.92*s,[Math.max(0,Math.min(1,n))*255,Math.max(0,Math.min(1,o))*255,Math.max(0,Math.min(1,s))*255]}function P(t){var e=t[0]/255,r=t[1]/255,a=t[2]/255,n,o,s;return e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=(e*.4124+r*.3576+a*.1805)/.95047,o=(e*.2126+r*.7152+a*.0722)/1,s=(e*.0193+r*.1192+a*.9505)/1.08883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,[116*o-16,500*(n-o),200*(o-s)]}function _(t,e){var r=t[0]-e[0],a=t[1]-e[1],n=t[2]-e[2],o=Math.sqrt(t[1]*t[1]+t[2]*t[2]),s=Math.sqrt(e[1]*e[1]+e[2]*e[2]),l=o-s,u=a*a+n*n-l*l;u=u<0?0:Math.sqrt(u);var i=1+.045*o,c=1+.015*o,g=r/1,f=l/i,d=u/c,v=g*g+f*f+d*d;return v<0?0:Math.sqrt(v)}function H(t){const e=t.map(P),r=new ImageData(64,64);for(let a=0;a<16;a++)for(let n=0;n<16;n++)for(let o=0;o<16;o++){const s=[a*16,n*16,o*16],[l,u]=I(s),i=N(s,e),c=4*(u*r.width+l);r.data[c]=i[0],r.data[c+1]=i[1],r.data[c+2]=i[2],r.data[c+3]=255}return r}function I(t){const[e,r,a]=t,n=Math.floor((e+r*16+a*16*16)/16),o=Math.floor(n/64),s=Math.floor(n%64);return[o,s]}function N(t,e){const r=P(t);let a=[0,0,0],n=1/0;for(const o of e){const s=_(r,o);s<n&&(a=o,n=s)}return A(a)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C=Symbol("Comlink.proxy"),W=Symbol("Comlink.endpoint"),D=Symbol("Comlink.releaseProxy"),x=Symbol("Comlink.finalizer"),y=Symbol("Comlink.thrown"),L=t=>typeof t=="object"&&t!==null||typeof t=="function",V={canHandle:t=>L(t)&&t[C],serialize(t){const{port1:e,port2:r}=new MessageChannel;return b(t,e),[r,[r]]},deserialize(t){return t.start(),U(t)}},j={canHandle:t=>L(t)&&y in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},S=new Map([["proxy",V],["throw",j]]);function q(t,e){for(const r of t)if(e===r||r==="*"||r instanceof RegExp&&r.test(e))return!0;return!1}function b(t,e=globalThis,r=["*"]){e.addEventListener("message",function a(n){if(!n||!n.data)return;if(!q(r,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:o,type:s,path:l}=Object.assign({path:[]},n.data),u=(n.data.argumentList||[]).map(h);let i;try{const c=l.slice(0,-1).reduce((f,d)=>f[d],t),g=l.reduce((f,d)=>f[d],t);switch(s){case"GET":i=g;break;case"SET":c[l.slice(-1)[0]]=h(n.data.value),i=!0;break;case"APPLY":i=g.apply(c,u);break;case"CONSTRUCT":{const f=new g(...u);i=$(f)}break;case"ENDPOINT":{const{port1:f,port2:d}=new MessageChannel;b(t,d),i=X(f,[f])}break;case"RELEASE":i=void 0;break;default:return}}catch(c){i={value:c,[y]:0}}Promise.resolve(i).catch(c=>({value:c,[y]:0})).then(c=>{const[g,f]=E(c);e.postMessage(Object.assign(Object.assign({},g),{id:o}),f),s==="RELEASE"&&(e.removeEventListener("message",a),T(e),x in t&&typeof t[x]=="function"&&t[x]())}).catch(c=>{const[g,f]=E({value:new TypeError("Unserializable return value"),[y]:0});e.postMessage(Object.assign(Object.assign({},g),{id:o}),f)})}),e.start&&e.start()}function F(t){return t.constructor.name==="MessagePort"}function T(t){F(t)&&t.close()}function U(t,e){return k(t,[],e)}function w(t){if(t)throw new Error("Proxy has been released and is not useable")}function R(t){return m(t,{type:"RELEASE"}).then(()=>{T(t)})}const p=new WeakMap,M="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(p.get(t)||0)-1;p.set(t,e),e===0&&R(t)});function G(t,e){const r=(p.get(e)||0)+1;p.set(e,r),M&&M.register(t,e,t)}function Y(t){M&&M.unregister(t)}function k(t,e=[],r=function(){}){let a=!1;const n=new Proxy(r,{get(o,s){if(w(a),s===D)return()=>{Y(n),R(t),a=!0};if(s==="then"){if(e.length===0)return{then:()=>n};const l=m(t,{type:"GET",path:e.map(u=>u.toString())}).then(h);return l.then.bind(l)}return k(t,[...e,s])},set(o,s,l){w(a);const[u,i]=E(l);return m(t,{type:"SET",path:[...e,s].map(c=>c.toString()),value:u},i).then(h)},apply(o,s,l){w(a);const u=e[e.length-1];if(u===W)return m(t,{type:"ENDPOINT"}).then(h);if(u==="bind")return k(t,e.slice(0,-1));const[i,c]=O(l);return m(t,{type:"APPLY",path:e.map(g=>g.toString()),argumentList:i},c).then(h)},construct(o,s){w(a);const[l,u]=O(s);return m(t,{type:"CONSTRUCT",path:e.map(i=>i.toString()),argumentList:l},u).then(h)}});return G(n,t),n}function K(t){return Array.prototype.concat.apply([],t)}function O(t){const e=t.map(E);return[e.map(r=>r[0]),K(e.map(r=>r[1]))]}const z=new WeakMap;function X(t,e){return z.set(t,e),t}function $(t){return Object.assign(t,{[C]:!0})}function E(t){for(const[e,r]of S)if(r.canHandle(t)){const[a,n]=r.serialize(t);return[{type:"HANDLER",name:e,value:a},n]}return[{type:"RAW",value:t},z.get(t)||[]]}function h(t){switch(t.type){case"HANDLER":return S.get(t.name).deserialize(t.value);case"RAW":return t.value}}function m(t,e,r){return new Promise(a=>{const n=J();t.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==n||(t.removeEventListener("message",o),a(s.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:n},e),r)})}function J(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}b({generatePalette:H})})();
