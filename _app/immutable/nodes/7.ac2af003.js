import{S as Lo,i as Ho,s as Ro,k as o,q as i,a as r,l as p,m as l,r as c,h as n,c as u,n as k,b as e,G as t,H as Za}from"../chunks/index.fae6157f.js";function Uo(co){let E,Z,kt,pn,g,dt,xs,ft,mt,ln,ss,ht,cn,H,ns,vt,rn,b,yt,Ds,wt,Et,un,R,ro=`<code class="language-js"><span class="token comment">/** @returns &#123;import('vite').Plugin&#125; */</span>
<span class="token keyword">const</span> <span class="token function-variable function">devtoolsPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"devtools"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span> <span class="token comment">//run before the vite's built-in transformations</span>
  <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">"serve"</span><span class="token punctuation">,</span> <span class="token comment">//only run in dev mode</span>
  <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>options<span class="token operator">?.</span>ssr<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">//Don't run in SSR mode</span>

    <span class="token comment">//Inject some code into the vite's client side entry point</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token string">"console.log('Hello World!')"</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code>`,kn,ts,_t,dn,U,as,gt,fn,es,bt,mn,os,jt,hn,W,uo=`<code class="language-js"><span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//How do we import our own modules?</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token string">"import(????)"</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,vn,ps,Pt,yn,m,Os,It,xt,Ts,Dt,Ot,Ms,Tt,wn,A,ls,Mt,En,is,Ct,_n,F,ko=`<code class="language-js"><span class="token comment">//in the entry point of our package</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bootstrapDevtools</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Devtool Browser code here</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//in the plugin</span>
<span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token string">'import("my-devtools-plugin").then(module => module.bootstrapDevtools())'</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,gn,cs,Lt,bn,j,Cs,Ht,Rt,Ls,Ut,jn,rs,Hs,Wt,Pn,q,us,At,In,h,Ft,Rs,qt,Bt,Us,St,Gt,xn,ks,Yt,Dn,ds,zt,On,B,fo=`<code class="language-undefined">src
|- plugin.js
|- devtools
   |- entry.js</code>`,Tn,P,Xt,Ws,$t,Jt,Mn,S,mo=`<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"my-devtools-plugin"</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"."</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./plugin.js"</span>
        <span class="token property">"types"</span><span class="token operator">:</span> <span class="token string">"./plugin.d.ts"</span> <span class="token comment">//If you have types. link to them here</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token property">"./internal"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"import"</span><span class="token operator">:</span> <span class="token string">"./devtools/entry.js"</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,Cn,I,Kt,As,Qt,Vt,Ln,G,ho=`<code class="language-js"><span class="token comment">//in the plugin</span>
<span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token string">'import("my-devtools-plugin/internal").then(module => module.bootstrap())'</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,Hn,v,Nt,Fs,Zt,sa,qs,na,ta,Rn,fs,f,aa,x,Bs,ea,oa,Ss,pa,la,Gs,ia,ca,Un,Y,ms,ra,Wn,D,ua,Ys,ka,da,An,hs,fa,Fn,y,ma,zs,ha,va,Xs,ya,wa,qn,O,Ea,$s,_a,ga,Bn,T,ba,Js,ja,Pa,Sn,z,vo=`<code class="language-undefined">src
|- plugin.js
|- devtools
   |- entry.js</code>`,Gn,X,yo=`<code class="language-js"><span class="token comment">//plugin.js </span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> dirname <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"node:path"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> fileURLToPath <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"node:url"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> normalizePath <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getDevtoolsEntryPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> srcFolderPath <span class="token operator">=</span> <span class="token function">normalizePath</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> srcFolderPath <span class="token operator">+</span> <span class="token string">"/devtools/entry.js"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,Yn,vs,Ia,zn,$,wo=`<code class="language-js"><span class="token comment">//plugin.js</span>
<span class="token comment">//...</span>

<span class="token keyword">const</span> <span class="token constant">MAGIC_MODULE_ID</span> <span class="token operator">=</span> <span class="token string">"my-package:devtools"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">devtoolsPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"devtools"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">"serve"</span><span class="token punctuation">,</span>
    <span class="token function">resolveId</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">===</span> <span class="token constant">MAGIC_MODULE_ID</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token function">getDevtoolsEntryPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 
    <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">import("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token constant">MAGIC_MODULE_ID</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">").then(module => module.bootstrapDevtools())</span><span class="token template-punctuation string">&#96;</span></span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code>`,Xn,ys,xa,$n,J,K,Da,Ks,Oa,Jn,_,Qs,Ta,Ma,Vs,Ca,La,Kn,w,Ha,Ns,Ra,Ua,Zs,Wa,Aa,Qn,d,Fa,sn,qa,Ba,nn,Sa,Ga,tn,Ya,za,Vn,Q,Eo=`<code class="language-undefined">src
|- plugin.js
|- devtools
   |- entry.js
   |- imported-by-entry.js</code>`,Nn,ws,Xa,Zn,M,an,$a,Ja,en,Ka,st,V,_o=`<code class="language-js"><span class="token comment">//...</span>
<span class="token keyword">const</span> srcFolderPath <span class="token operator">=</span> <span class="token function">normalizePath</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">fileURLToPath</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devtoolsFolderPath <span class="token operator">=</span> srcFolderPath <span class="token operator">+</span> <span class="token string">"/devtools"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">MAGIC_MODULE_PREFIX</span> <span class="token operator">=</span> <span class="token string">"my-package:devtools"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">devtoolsPlugin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"devtools"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">"serve"</span><span class="token punctuation">,</span>

    <span class="token function">resolveId</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">MAGIC_MODULE_PREFIX</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> id<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token constant">MAGIC_MODULE_PREFIX</span><span class="token punctuation">,</span> devtoolsFolderPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> 

    <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>devtoolsFolderPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> cleanPath <span class="token operator">=</span> id<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">//remove query params</span>
            cleanPath <span class="token operator">=</span> cleanId<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">//remove hash</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>cleanPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>cleanPath<span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Could not find file </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>cleanPath<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> id<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"vite/dist/client/client.mjs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">code</span><span class="token operator">:</span> code <span class="token operator">+</span> <span class="token string">"&#92;n"</span> <span class="token operator">+</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">import("</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token constant">MAGIC_MODULE_ID</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/entry.js").then(module => module.bootstrap())</span><span class="token template-punctuation string">&#96;</span></span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></code>`,nt,N,Es,Qa,tt,_s,Va;return{c(){E=o("h1"),Z=o("a"),kt=i("Adding Devtools to Vite plugins"),pn=r(),g=o("p"),dt=i("One of my favorite features in any framework is the "),xs=o("em"),ft=i("Svelte Inspector"),mt=i(". It allows you to click on a component and then it magically opens the relevant file in your editor."),ln=r(),ss=o("p"),ht=i("In order to accomplish this, without the user’s having to do additional setup, they have to inject their devtool code into the browser during development. Today we will learn how to do that, so that you too can build great devtools!"),cn=r(),H=o("h2"),ns=o("a"),vt=i("Getting a Foothold - Injecting JS into the Browser"),rn=r(),b=o("p"),yt=i("The key is to inject code into vite’s client side entry point. This is surprisingly straight forward since a vite-plugin can just modify any js file using the "),Ds=o("code"),wt=i("transform"),Et=i(" hook."),un=r(),R=o("pre"),kn=r(),ts=o("p"),_t=i(`Opening the dev-site now shows the message in the console.
That’s the foothold we need.`),dn=r(),U=o("h2"),as=o("a"),gt=i("Importing our own modules"),fn=r(),es=o("p"),bt=i("But to ship non-trivial devtools, we need more than just a foothold. We need more than just appending some code at the end of a file. We need to import our own modules."),mn=r(),os=o("p"),jt=i("Unfortunately, this isn’t so straight forward. Our plugin is likely part of an external package and we don’t know where that package will be installed, so we can’t import our own modules using relative paths."),hn=r(),W=o("pre"),vn=r(),ps=o("p"),Pt=i("I offer a few solutions here:"),yn=r(),m=o("ol"),Os=o("li"),It=i("Export the devtools browser code from the plugin package"),xt=r(),Ts=o("li"),Dt=i("Use a sub-package"),Ot=r(),Ms=o("li"),Tt=i("Magic Module Resolution (preferred)"),wn=r(),A=o("h3"),ls=o("a"),Mt=i("Option 1: Exporting the runtime code from the package"),En=r(),is=o("p"),Ct=i("This one is very straight forward. We just export the entry point of our devtools from our package. This way all we need to do is to inject an import statement to it in the client side js."),_n=r(),F=o("pre"),gn=r(),cs=o("p"),Lt=i("This works and is very simple, but it has some downsides."),bn=r(),j=o("ul"),Cs=o("li"),Ht=i("It clutters up the exports of our package."),Rt=r(),Ls=o("li"),Ut=i("It mixes browser code with plugin code."),jn=r(),rs=o("blockquote"),Hs=o("p"),Wt=i("It’s probably possible to hide the export from the IDE by modifying the package’s type definitions, but that’s more work than the other solutions."),Pn=r(),q=o("h3"),us=o("a"),At=i("Option 2: Using a sub-package"),In=r(),h=o("p"),Ft=i("Sub packages are a feature of npm that allow you to have multiple entry points in a single package. For example, the "),Rs=o("code"),qt=i("svelte"),Bt=i(" package has a sub-package "),Us=o("code"),St=i("svelte/stores"),Gt=i(" which contains store implementations."),xn=r(),ks=o("p"),Yt=i("In this approach, we still export the runtime code from our package, but we give it it’s own entry point. This way we don’t clutter up the exports and we don’t mix concerns."),Dn=r(),ds=o("p"),zt=i("Here is the setup:"),On=r(),B=o("pre"),Tn=r(),P=o("p"),Xt=i("Then, in the "),Ws=o("code"),$t=i("package.json"),Jt=i(", add an exports field with two entries: one for the plugin and one for the devtools."),Mn=r(),S=o("pre"),Cn=r(),I=o("p"),Kt=i("You can then inject an import statement to "),As=o("code"),Qt=i("my-devtools-plugin/internal"),Vt=i(" in the client side js."),Ln=r(),G=o("pre"),Hn=r(),v=o("p"),Nt=i(`This eliminates the code-mixing problem, but does not quite eliminated the import cluttering.
While the `),Fs=o("code"),Zt=i("my-devtools-plugin"),sa=i(" package does not have private exports, IDEs might still suggest "),qs=o("code"),na=i("my-devtools-plugin/internal"),ta=i(" as an import option. Developers are unlikely to use it, but it’s still a bit annoying."),Rn=r(),fs=o("blockquote"),f=o("p"),aa=i("If you generate your type definitions using "),x=o("a"),Bs=o("code"),ea=i("dts-buddy"),oa=i(" instead of "),Ss=o("code"),pa=i("tsc"),la=i(", you can sidestep this problem by not generating type declarations for the "),Gs=o("code"),ia=i("internal"),ca=i(" sub-package. Otherwise use Option 3."),Un=r(),Y=o("h3"),ms=o("a"),ra=i("Option 3: Magic Module Resolution (preferred)"),Wn=r(),D=o("p"),ua=i("If you "),Ys=o("em"),ka=i("really"),da=i(" don’t want to clutter your exports, this is the best way to go, but it’s a bit of work to set up."),An=r(),hs=o("p"),fa=i("The idea is to define a magic module-id that our plugin resolves to the absolute path of our entry point."),Fn=r(),y=o("p"),ma=i("(Eg: "),zs=o("code"),ha=i('import("my-package:devtools")'),va=i(" resolves to "),Xs=o("code"),ya=i('import("/home/user/project/node_modules/my-package/devtools/entry.js")'),wa=i(" or whatever)"),qn=r(),O=o("p"),Ea=i("But how can we know the absolute path of our entry point? The trick is that we know the relative path to the entry point "),$s=o("em"),_a=i("from"),ga=i(" our plugin file."),Bn=r(),T=o("p"),ba=i("We can get the absolute path of our plugin’s file using "),Js=o("code"),ja=i("import.meta.url"),Pa=i(". We can then combine that with the relative path to our entry point to get the absolute path to our entry point."),Sn=r(),z=o("pre"),Gn=r(),X=o("pre"),Yn=r(),vs=o("p"),Ia=i("Using this, we can then resolve our magic module id to the absolute path of our entry point."),zn=r(),$=o("pre"),Xn=r(),ys=o("p"),xa=i("If you’re going to use this, make sure that the relative path to your entry point is correct. Compiling or Bundling your plugin code may change the relative path."),$n=r(),J=o("h4"),K=o("a"),Da=i("Addendum: Dealing with "),Ks=o("code"),Oa=i("fs.allow"),Jn=r(),_=o("p"),Qs=o("code"),Ta=i("vite"),Ma=i(" has a configuration option called "),Vs=o("code"),Ca=i("fs.allow"),La=i(". It decides which paths vite’s file-imports are allowed to read. This prevents path-traversal attacks. If your user’s use this and haven’t allowed paths inside your package folder the above code will break. You could just instruct them to allow these paths, but that’s not very user friendly."),Kn=r(),w=o("p"),Ha=i("We can sidestep this by loading the code ourselves using the "),Ns=o("code"),Ra=i("load"),Ua=i(" hook and "),Zs=o("code"),Wa=i("fs.readFile"),Aa=i(". We need to do this for all devtool files, not just the entry point."),Qn=r(),d=o("p"),Fa=i("To do this, we will not use a "),sn=o("em"),qa=i("magic id"),Ba=i(", but a "),nn=o("em"),Sa=i("magic prefix"),Ga=i(". We will check if an import id starts with the prefix, and if it does, replace the prefix with the path to our "),tn=o("em"),Ya=i("src/devtools/"),za=i(" folder and load the files ourselves."),Vn=r(),Q=o("pre"),Nn=r(),ws=o("p"),Xa=i("Eg:"),Zn=r(),M=o("ul"),an=o("li"),$a=i("“my-package:devtools/entry.js” -> “/home/user/project/node_modules/my-package/devtools/entry.js”"),Ja=r(),en=o("li"),Ka=i("“my-package:devtools/imported-by-entry.js” -> “/home/user/project/node_modules/my-package/devtools/imported-by-entry.js"),st=r(),V=o("pre"),nt=r(),N=o("h2"),Es=o("a"),Qa=i("In Conclusion"),tt=r(),_s=o("p"),Va=i("It’s not hard, but it’s a hassle. Fortunately, you only need to do this once."),this.h()},l(s){E=p(s,"H1",{id:!0});var a=l(E);Z=p(a,"A",{href:!0});var se=l(Z);kt=c(se,"Adding Devtools to Vite plugins"),se.forEach(n),a.forEach(n),pn=u(s),g=p(s,"P",{});var at=l(g);dt=c(at,"One of my favorite features in any framework is the "),xs=p(at,"EM",{});var ne=l(xs);ft=c(ne,"Svelte Inspector"),ne.forEach(n),mt=c(at,". It allows you to click on a component and then it magically opens the relevant file in your editor."),at.forEach(n),ln=u(s),ss=p(s,"P",{});var te=l(ss);ht=c(te,"In order to accomplish this, without the user’s having to do additional setup, they have to inject their devtool code into the browser during development. Today we will learn how to do that, so that you too can build great devtools!"),te.forEach(n),cn=u(s),H=p(s,"H2",{id:!0});var ae=l(H);ns=p(ae,"A",{href:!0});var ee=l(ns);vt=c(ee,"Getting a Foothold - Injecting JS into the Browser"),ee.forEach(n),ae.forEach(n),rn=u(s),b=p(s,"P",{});var et=l(b);yt=c(et,"The key is to inject code into vite’s client side entry point. This is surprisingly straight forward since a vite-plugin can just modify any js file using the "),Ds=p(et,"CODE",{});var oe=l(Ds);wt=c(oe,"transform"),oe.forEach(n),Et=c(et," hook."),et.forEach(n),un=u(s),R=p(s,"PRE",{class:!0});var go=l(R);go.forEach(n),kn=u(s),ts=p(s,"P",{});var pe=l(ts);_t=c(pe,`Opening the dev-site now shows the message in the console.
That’s the foothold we need.`),pe.forEach(n),dn=u(s),U=p(s,"H2",{id:!0});var le=l(U);as=p(le,"A",{href:!0});var ie=l(as);gt=c(ie,"Importing our own modules"),ie.forEach(n),le.forEach(n),fn=u(s),es=p(s,"P",{});var ce=l(es);bt=c(ce,"But to ship non-trivial devtools, we need more than just a foothold. We need more than just appending some code at the end of a file. We need to import our own modules."),ce.forEach(n),mn=u(s),os=p(s,"P",{});var re=l(os);jt=c(re,"Unfortunately, this isn’t so straight forward. Our plugin is likely part of an external package and we don’t know where that package will be installed, so we can’t import our own modules using relative paths."),re.forEach(n),hn=u(s),W=p(s,"PRE",{class:!0});var bo=l(W);bo.forEach(n),vn=u(s),ps=p(s,"P",{});var ue=l(ps);Pt=c(ue,"I offer a few solutions here:"),ue.forEach(n),yn=u(s),m=p(s,"OL",{});var gs=l(m);Os=p(gs,"LI",{});var ke=l(Os);It=c(ke,"Export the devtools browser code from the plugin package"),ke.forEach(n),xt=u(gs),Ts=p(gs,"LI",{});var de=l(Ts);Dt=c(de,"Use a sub-package"),de.forEach(n),Ot=u(gs),Ms=p(gs,"LI",{});var fe=l(Ms);Tt=c(fe,"Magic Module Resolution (preferred)"),fe.forEach(n),gs.forEach(n),wn=u(s),A=p(s,"H3",{id:!0});var me=l(A);ls=p(me,"A",{href:!0});var he=l(ls);Mt=c(he,"Option 1: Exporting the runtime code from the package"),he.forEach(n),me.forEach(n),En=u(s),is=p(s,"P",{});var ve=l(is);Ct=c(ve,"This one is very straight forward. We just export the entry point of our devtools from our package. This way all we need to do is to inject an import statement to it in the client side js."),ve.forEach(n),_n=u(s),F=p(s,"PRE",{class:!0});var jo=l(F);jo.forEach(n),gn=u(s),cs=p(s,"P",{});var ye=l(cs);Lt=c(ye,"This works and is very simple, but it has some downsides."),ye.forEach(n),bn=u(s),j=p(s,"UL",{});var ot=l(j);Cs=p(ot,"LI",{});var we=l(Cs);Ht=c(we,"It clutters up the exports of our package."),we.forEach(n),Rt=u(ot),Ls=p(ot,"LI",{});var Ee=l(Ls);Ut=c(Ee,"It mixes browser code with plugin code."),Ee.forEach(n),ot.forEach(n),jn=u(s),rs=p(s,"BLOCKQUOTE",{});var _e=l(rs);Hs=p(_e,"P",{});var ge=l(Hs);Wt=c(ge,"It’s probably possible to hide the export from the IDE by modifying the package’s type definitions, but that’s more work than the other solutions."),ge.forEach(n),_e.forEach(n),Pn=u(s),q=p(s,"H3",{id:!0});var be=l(q);us=p(be,"A",{href:!0});var je=l(us);At=c(je,"Option 2: Using a sub-package"),je.forEach(n),be.forEach(n),In=u(s),h=p(s,"P",{});var bs=l(h);Ft=c(bs,"Sub packages are a feature of npm that allow you to have multiple entry points in a single package. For example, the "),Rs=p(bs,"CODE",{});var Pe=l(Rs);qt=c(Pe,"svelte"),Pe.forEach(n),Bt=c(bs," package has a sub-package "),Us=p(bs,"CODE",{});var Ie=l(Us);St=c(Ie,"svelte/stores"),Ie.forEach(n),Gt=c(bs," which contains store implementations."),bs.forEach(n),xn=u(s),ks=p(s,"P",{});var xe=l(ks);Yt=c(xe,"In this approach, we still export the runtime code from our package, but we give it it’s own entry point. This way we don’t clutter up the exports and we don’t mix concerns."),xe.forEach(n),Dn=u(s),ds=p(s,"P",{});var De=l(ds);zt=c(De,"Here is the setup:"),De.forEach(n),On=u(s),B=p(s,"PRE",{class:!0});var Po=l(B);Po.forEach(n),Tn=u(s),P=p(s,"P",{});var pt=l(P);Xt=c(pt,"Then, in the "),Ws=p(pt,"CODE",{});var Oe=l(Ws);$t=c(Oe,"package.json"),Oe.forEach(n),Jt=c(pt,", add an exports field with two entries: one for the plugin and one for the devtools."),pt.forEach(n),Mn=u(s),S=p(s,"PRE",{class:!0});var Io=l(S);Io.forEach(n),Cn=u(s),I=p(s,"P",{});var lt=l(I);Kt=c(lt,"You can then inject an import statement to "),As=p(lt,"CODE",{});var Te=l(As);Qt=c(Te,"my-devtools-plugin/internal"),Te.forEach(n),Vt=c(lt," in the client side js."),lt.forEach(n),Ln=u(s),G=p(s,"PRE",{class:!0});var xo=l(G);xo.forEach(n),Hn=u(s),v=p(s,"P",{});var js=l(v);Nt=c(js,`This eliminates the code-mixing problem, but does not quite eliminated the import cluttering.
While the `),Fs=p(js,"CODE",{});var Me=l(Fs);Zt=c(Me,"my-devtools-plugin"),Me.forEach(n),sa=c(js," package does not have private exports, IDEs might still suggest "),qs=p(js,"CODE",{});var Ce=l(qs);na=c(Ce,"my-devtools-plugin/internal"),Ce.forEach(n),ta=c(js," as an import option. Developers are unlikely to use it, but it’s still a bit annoying."),js.forEach(n),Rn=u(s),fs=p(s,"BLOCKQUOTE",{});var Le=l(fs);f=p(Le,"P",{});var C=l(f);aa=c(C,"If you generate your type definitions using "),x=p(C,"A",{href:!0,rel:!0,target:!0});var He=l(x);Bs=p(He,"CODE",{});var Re=l(Bs);ea=c(Re,"dts-buddy"),Re.forEach(n),He.forEach(n),oa=c(C," instead of "),Ss=p(C,"CODE",{});var Ue=l(Ss);pa=c(Ue,"tsc"),Ue.forEach(n),la=c(C,", you can sidestep this problem by not generating type declarations for the "),Gs=p(C,"CODE",{});var We=l(Gs);ia=c(We,"internal"),We.forEach(n),ca=c(C," sub-package. Otherwise use Option 3."),C.forEach(n),Le.forEach(n),Un=u(s),Y=p(s,"H3",{id:!0});var Ae=l(Y);ms=p(Ae,"A",{href:!0});var Fe=l(ms);ra=c(Fe,"Option 3: Magic Module Resolution (preferred)"),Fe.forEach(n),Ae.forEach(n),Wn=u(s),D=p(s,"P",{});var it=l(D);ua=c(it,"If you "),Ys=p(it,"EM",{});var qe=l(Ys);ka=c(qe,"really"),qe.forEach(n),da=c(it," don’t want to clutter your exports, this is the best way to go, but it’s a bit of work to set up."),it.forEach(n),An=u(s),hs=p(s,"P",{});var Be=l(hs);fa=c(Be,"The idea is to define a magic module-id that our plugin resolves to the absolute path of our entry point."),Be.forEach(n),Fn=u(s),y=p(s,"P",{});var Ps=l(y);ma=c(Ps,"(Eg: "),zs=p(Ps,"CODE",{});var Se=l(zs);ha=c(Se,'import("my-package:devtools")'),Se.forEach(n),va=c(Ps," resolves to "),Xs=p(Ps,"CODE",{});var Ge=l(Xs);ya=c(Ge,'import("/home/user/project/node_modules/my-package/devtools/entry.js")'),Ge.forEach(n),wa=c(Ps," or whatever)"),Ps.forEach(n),qn=u(s),O=p(s,"P",{});var ct=l(O);Ea=c(ct,"But how can we know the absolute path of our entry point? The trick is that we know the relative path to the entry point "),$s=p(ct,"EM",{});var Ye=l($s);_a=c(Ye,"from"),Ye.forEach(n),ga=c(ct," our plugin file."),ct.forEach(n),Bn=u(s),T=p(s,"P",{});var rt=l(T);ba=c(rt,"We can get the absolute path of our plugin’s file using "),Js=p(rt,"CODE",{});var ze=l(Js);ja=c(ze,"import.meta.url"),ze.forEach(n),Pa=c(rt,". We can then combine that with the relative path to our entry point to get the absolute path to our entry point."),rt.forEach(n),Sn=u(s),z=p(s,"PRE",{class:!0});var Do=l(z);Do.forEach(n),Gn=u(s),X=p(s,"PRE",{class:!0});var Oo=l(X);Oo.forEach(n),Yn=u(s),vs=p(s,"P",{});var Xe=l(vs);Ia=c(Xe,"Using this, we can then resolve our magic module id to the absolute path of our entry point."),Xe.forEach(n),zn=u(s),$=p(s,"PRE",{class:!0});var To=l($);To.forEach(n),Xn=u(s),ys=p(s,"P",{});var $e=l(ys);xa=c($e,"If you’re going to use this, make sure that the relative path to your entry point is correct. Compiling or Bundling your plugin code may change the relative path."),$e.forEach(n),$n=u(s),J=p(s,"H4",{id:!0});var Je=l(J);K=p(Je,"A",{href:!0});var Na=l(K);Da=c(Na,"Addendum: Dealing with "),Ks=p(Na,"CODE",{});var Ke=l(Ks);Oa=c(Ke,"fs.allow"),Ke.forEach(n),Na.forEach(n),Je.forEach(n),Jn=u(s),_=p(s,"P",{});var on=l(_);Qs=p(on,"CODE",{});var Qe=l(Qs);Ta=c(Qe,"vite"),Qe.forEach(n),Ma=c(on," has a configuration option called "),Vs=p(on,"CODE",{});var Ve=l(Vs);Ca=c(Ve,"fs.allow"),Ve.forEach(n),La=c(on,". It decides which paths vite’s file-imports are allowed to read. This prevents path-traversal attacks. If your user’s use this and haven’t allowed paths inside your package folder the above code will break. You could just instruct them to allow these paths, but that’s not very user friendly."),on.forEach(n),Kn=u(s),w=p(s,"P",{});var Is=l(w);Ha=c(Is,"We can sidestep this by loading the code ourselves using the "),Ns=p(Is,"CODE",{});var Ne=l(Ns);Ra=c(Ne,"load"),Ne.forEach(n),Ua=c(Is," hook and "),Zs=p(Is,"CODE",{});var Ze=l(Zs);Wa=c(Ze,"fs.readFile"),Ze.forEach(n),Aa=c(Is,". We need to do this for all devtool files, not just the entry point."),Is.forEach(n),Qn=u(s),d=p(s,"P",{});var L=l(d);Fa=c(L,"To do this, we will not use a "),sn=p(L,"EM",{});var so=l(sn);qa=c(so,"magic id"),so.forEach(n),Ba=c(L,", but a "),nn=p(L,"EM",{});var no=l(nn);Sa=c(no,"magic prefix"),no.forEach(n),Ga=c(L,". We will check if an import id starts with the prefix, and if it does, replace the prefix with the path to our "),tn=p(L,"EM",{});var to=l(tn);Ya=c(to,"src/devtools/"),to.forEach(n),za=c(L," folder and load the files ourselves."),L.forEach(n),Vn=u(s),Q=p(s,"PRE",{class:!0});var Mo=l(Q);Mo.forEach(n),Nn=u(s),ws=p(s,"P",{});var ao=l(ws);Xa=c(ao,"Eg:"),ao.forEach(n),Zn=u(s),M=p(s,"UL",{});var ut=l(M);an=p(ut,"LI",{});var eo=l(an);$a=c(eo,"“my-package:devtools/entry.js” -> “/home/user/project/node_modules/my-package/devtools/entry.js”"),eo.forEach(n),Ja=u(ut),en=p(ut,"LI",{});var oo=l(en);Ka=c(oo,"“my-package:devtools/imported-by-entry.js” -> “/home/user/project/node_modules/my-package/devtools/imported-by-entry.js"),oo.forEach(n),ut.forEach(n),st=u(s),V=p(s,"PRE",{class:!0});var Co=l(V);Co.forEach(n),nt=u(s),N=p(s,"H2",{id:!0});var po=l(N);Es=p(po,"A",{href:!0});var lo=l(Es);Qa=c(lo,"In Conclusion"),lo.forEach(n),po.forEach(n),tt=u(s),_s=p(s,"P",{});var io=l(_s);Va=c(io,"It’s not hard, but it’s a hassle. Fortunately, you only need to do this once."),io.forEach(n),this.h()},h(){k(Z,"href","#adding-devtools-to-vite-plugins"),k(E,"id","adding-devtools-to-vite-plugins"),k(ns,"href","#getting-a-foothold---injecting-js-into-the-browser"),k(H,"id","getting-a-foothold---injecting-js-into-the-browser"),k(R,"class","language-js"),k(as,"href","#importing-our-own-modules"),k(U,"id","importing-our-own-modules"),k(W,"class","language-js"),k(ls,"href","#option-1-exporting-the-runtime-code-from-the-package"),k(A,"id","option-1-exporting-the-runtime-code-from-the-package"),k(F,"class","language-js"),k(us,"href","#option-2-using-a-sub-package"),k(q,"id","option-2-using-a-sub-package"),k(B,"class","language-undefined"),k(S,"class","language-json"),k(G,"class","language-js"),k(x,"href","https://www.github.com/Rich-Harris/dts-buddy"),k(x,"rel","noopener noreferrer"),k(x,"target","_blank"),k(ms,"href","#option-3-magic-module-resolution-preferred"),k(Y,"id","option-3-magic-module-resolution-preferred"),k(z,"class","language-undefined"),k(X,"class","language-js"),k($,"class","language-js"),k(K,"href","#addendum-dealing-with-fsallow"),k(J,"id","addendum-dealing-with-fsallow"),k(Q,"class","language-undefined"),k(V,"class","language-js"),k(Es,"href","#in-conclusion"),k(N,"id","in-conclusion")},m(s,a){e(s,E,a),t(E,Z),t(Z,kt),e(s,pn,a),e(s,g,a),t(g,dt),t(g,xs),t(xs,ft),t(g,mt),e(s,ln,a),e(s,ss,a),t(ss,ht),e(s,cn,a),e(s,H,a),t(H,ns),t(ns,vt),e(s,rn,a),e(s,b,a),t(b,yt),t(b,Ds),t(Ds,wt),t(b,Et),e(s,un,a),e(s,R,a),R.innerHTML=ro,e(s,kn,a),e(s,ts,a),t(ts,_t),e(s,dn,a),e(s,U,a),t(U,as),t(as,gt),e(s,fn,a),e(s,es,a),t(es,bt),e(s,mn,a),e(s,os,a),t(os,jt),e(s,hn,a),e(s,W,a),W.innerHTML=uo,e(s,vn,a),e(s,ps,a),t(ps,Pt),e(s,yn,a),e(s,m,a),t(m,Os),t(Os,It),t(m,xt),t(m,Ts),t(Ts,Dt),t(m,Ot),t(m,Ms),t(Ms,Tt),e(s,wn,a),e(s,A,a),t(A,ls),t(ls,Mt),e(s,En,a),e(s,is,a),t(is,Ct),e(s,_n,a),e(s,F,a),F.innerHTML=ko,e(s,gn,a),e(s,cs,a),t(cs,Lt),e(s,bn,a),e(s,j,a),t(j,Cs),t(Cs,Ht),t(j,Rt),t(j,Ls),t(Ls,Ut),e(s,jn,a),e(s,rs,a),t(rs,Hs),t(Hs,Wt),e(s,Pn,a),e(s,q,a),t(q,us),t(us,At),e(s,In,a),e(s,h,a),t(h,Ft),t(h,Rs),t(Rs,qt),t(h,Bt),t(h,Us),t(Us,St),t(h,Gt),e(s,xn,a),e(s,ks,a),t(ks,Yt),e(s,Dn,a),e(s,ds,a),t(ds,zt),e(s,On,a),e(s,B,a),B.innerHTML=fo,e(s,Tn,a),e(s,P,a),t(P,Xt),t(P,Ws),t(Ws,$t),t(P,Jt),e(s,Mn,a),e(s,S,a),S.innerHTML=mo,e(s,Cn,a),e(s,I,a),t(I,Kt),t(I,As),t(As,Qt),t(I,Vt),e(s,Ln,a),e(s,G,a),G.innerHTML=ho,e(s,Hn,a),e(s,v,a),t(v,Nt),t(v,Fs),t(Fs,Zt),t(v,sa),t(v,qs),t(qs,na),t(v,ta),e(s,Rn,a),e(s,fs,a),t(fs,f),t(f,aa),t(f,x),t(x,Bs),t(Bs,ea),t(f,oa),t(f,Ss),t(Ss,pa),t(f,la),t(f,Gs),t(Gs,ia),t(f,ca),e(s,Un,a),e(s,Y,a),t(Y,ms),t(ms,ra),e(s,Wn,a),e(s,D,a),t(D,ua),t(D,Ys),t(Ys,ka),t(D,da),e(s,An,a),e(s,hs,a),t(hs,fa),e(s,Fn,a),e(s,y,a),t(y,ma),t(y,zs),t(zs,ha),t(y,va),t(y,Xs),t(Xs,ya),t(y,wa),e(s,qn,a),e(s,O,a),t(O,Ea),t(O,$s),t($s,_a),t(O,ga),e(s,Bn,a),e(s,T,a),t(T,ba),t(T,Js),t(Js,ja),t(T,Pa),e(s,Sn,a),e(s,z,a),z.innerHTML=vo,e(s,Gn,a),e(s,X,a),X.innerHTML=yo,e(s,Yn,a),e(s,vs,a),t(vs,Ia),e(s,zn,a),e(s,$,a),$.innerHTML=wo,e(s,Xn,a),e(s,ys,a),t(ys,xa),e(s,$n,a),e(s,J,a),t(J,K),t(K,Da),t(K,Ks),t(Ks,Oa),e(s,Jn,a),e(s,_,a),t(_,Qs),t(Qs,Ta),t(_,Ma),t(_,Vs),t(Vs,Ca),t(_,La),e(s,Kn,a),e(s,w,a),t(w,Ha),t(w,Ns),t(Ns,Ra),t(w,Ua),t(w,Zs),t(Zs,Wa),t(w,Aa),e(s,Qn,a),e(s,d,a),t(d,Fa),t(d,sn),t(sn,qa),t(d,Ba),t(d,nn),t(nn,Sa),t(d,Ga),t(d,tn),t(tn,Ya),t(d,za),e(s,Vn,a),e(s,Q,a),Q.innerHTML=Eo,e(s,Nn,a),e(s,ws,a),t(ws,Xa),e(s,Zn,a),e(s,M,a),t(M,an),t(an,$a),t(M,Ja),t(M,en),t(en,Ka),e(s,st,a),e(s,V,a),V.innerHTML=_o,e(s,nt,a),e(s,N,a),t(N,Es),t(Es,Qa),e(s,tt,a),e(s,_s,a),t(_s,Va)},p:Za,i:Za,o:Za,d(s){s&&n(E),s&&n(pn),s&&n(g),s&&n(ln),s&&n(ss),s&&n(cn),s&&n(H),s&&n(rn),s&&n(b),s&&n(un),s&&n(R),s&&n(kn),s&&n(ts),s&&n(dn),s&&n(U),s&&n(fn),s&&n(es),s&&n(mn),s&&n(os),s&&n(hn),s&&n(W),s&&n(vn),s&&n(ps),s&&n(yn),s&&n(m),s&&n(wn),s&&n(A),s&&n(En),s&&n(is),s&&n(_n),s&&n(F),s&&n(gn),s&&n(cs),s&&n(bn),s&&n(j),s&&n(jn),s&&n(rs),s&&n(Pn),s&&n(q),s&&n(In),s&&n(h),s&&n(xn),s&&n(ks),s&&n(Dn),s&&n(ds),s&&n(On),s&&n(B),s&&n(Tn),s&&n(P),s&&n(Mn),s&&n(S),s&&n(Cn),s&&n(I),s&&n(Ln),s&&n(G),s&&n(Hn),s&&n(v),s&&n(Rn),s&&n(fs),s&&n(Un),s&&n(Y),s&&n(Wn),s&&n(D),s&&n(An),s&&n(hs),s&&n(Fn),s&&n(y),s&&n(qn),s&&n(O),s&&n(Bn),s&&n(T),s&&n(Sn),s&&n(z),s&&n(Gn),s&&n(X),s&&n(Yn),s&&n(vs),s&&n(zn),s&&n($),s&&n(Xn),s&&n(ys),s&&n($n),s&&n(J),s&&n(Jn),s&&n(_),s&&n(Kn),s&&n(w),s&&n(Qn),s&&n(d),s&&n(Vn),s&&n(Q),s&&n(Nn),s&&n(ws),s&&n(Zn),s&&n(M),s&&n(st),s&&n(V),s&&n(nt),s&&n(N),s&&n(tt),s&&n(_s)}}}class Ao extends Lo{constructor(E){super(),Ho(this,E,null,Uo,Ro,{})}}export{Ao as component};
