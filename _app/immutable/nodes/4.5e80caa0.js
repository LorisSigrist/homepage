import{S as we,i as Ae,s as Ie,k as v,q as K,a as y,y as ae,l as b,m as T,r as Q,h as m,c as U,z as se,n as o,b as $,G as c,A as le,N as j,g as ue,d as ce,B as fe,O as Re,P as ot,Q as Ce,u as xe,H as de,R as at,T as st,U as be,V as lt,K as Ge,L as Xe,W as Me,M as ze,w as _e,X as pe,J as ut,Y as ve,o as ct,Z as ft,_ as Ve,$ as dt,a0 as ht}from"../chunks/index.b929328e.js";import{I as tt,L as mt,A as gt}from"../chunks/Icon.56fc8cdb.js";function _t(e){let n,r,t,s,i,d,a,u,l,f,h,p,_,A,x,D,X,S,F,w,P,k,z,E,L,W;return _=new tt({props:{src:mt,class:"w-4 h-4",solid:!0}}),{c(){n=v("fieldset"),r=v("div"),t=v("label"),s=K("Width"),i=y(),d=v("div"),a=v("input"),u=y(),l=v("div"),f=K("px"),h=y(),p=v("span"),ae(_.$$.fragment),A=y(),x=v("div"),D=v("label"),X=K("Height"),S=y(),F=v("div"),w=v("input"),P=y(),k=v("div"),z=K("px"),this.h()},l(I){n=b(I,"FIELDSET",{class:!0});var R=T(n);r=b(R,"DIV",{class:!0});var q=T(r);t=b(q,"LABEL",{for:!0,class:!0});var ee=T(t);s=Q(ee,"Width"),ee.forEach(m),i=U(q),d=b(q,"DIV",{class:!0});var Z=T(d);a=b(Z,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),u=U(Z),l=b(Z,"DIV",{class:!0});var M=T(l);f=Q(M,"px"),M.forEach(m),Z.forEach(m),q.forEach(m),h=U(R),p=b(R,"SPAN",{class:!0});var N=T(p);se(_.$$.fragment,N),N.forEach(m),A=U(R),x=b(R,"DIV",{class:!0});var B=T(x);D=b(B,"LABEL",{for:!0,class:!0});var C=T(D);X=Q(C,"Height"),C.forEach(m),S=U(B),F=b(B,"DIV",{class:!0});var Y=T(F);w=b(Y,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),P=U(Y),k=b(Y,"DIV",{class:!0});var J=T(k);z=Q(J,"px"),J.forEach(m),Y.forEach(m),B.forEach(m),R.forEach(m),this.h()},h(){o(t,"for","width-"+e[4]),o(t,"class","block text-sm font-medium leading-6 text-gray-900"),o(a,"name","width"),o(a,"id","width-"+e[4]),o(a,"type","number"),o(a,"min","12"),o(a,"max","3000"),o(a,"step","1"),a.value=e[0],o(a,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),o(a,"placeholder","600"),o(l,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),o(d,"class","relative mt-2 rounded-md shadow-sm"),o(r,"class","w-full"),o(p,"class","text-gray-500 pb-2"),o(D,"for","height-"+e[5]),o(D,"class","block text-sm font-medium leading-6 text-gray-900"),o(w,"type","number"),o(w,"id","height-"+e[5]),o(w,"name","height"),o(w,"min","12"),o(w,"max","3000"),o(w,"step","1"),w.value=e[1],o(w,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),o(w,"placeholder","340"),o(k,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),o(F,"class","relative mt-2 rounded-md shadow-sm"),o(x,"class","w-full"),o(n,"class","flex gap-1 items-end justify-between")},m(I,R){$(I,n,R),c(n,r),c(r,t),c(t,s),c(r,i),c(r,d),c(d,a),c(d,u),c(d,l),c(l,f),c(n,h),c(n,p),le(_,p,null),c(n,A),c(n,x),c(x,D),c(D,X),c(x,S),c(x,F),c(F,w),c(F,P),c(F,k),c(k,z),E=!0,L||(W=[j(a,"input",e[2]),j(w,"input",e[3])],L=!0)},p(I,[R]){(!E||R&1&&a.value!==I[0])&&(a.value=I[0]),(!E||R&2&&w.value!==I[1])&&(w.value=I[1])},i(I){E||(ue(_.$$.fragment,I),E=!0)},o(I){ce(_.$$.fragment,I),E=!1},d(I){I&&m(n),fe(_),L=!1,Re(W)}}}function Oe(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function pt(e,n,r){let t,{width:s}=n,{aspectRatio:i}=n;function d(f){const h=f.target.value;h&&r(0,s=h)}function a(f){const h=f.target.value;h&&r(0,s=Math.round(i*h))}let u=Oe(),l=Oe();return e.$$set=f=>{"width"in f&&r(0,s=f.width),"aspectRatio"in f&&r(6,i=f.aspectRatio)},e.$$.update=()=>{e.$$.dirty&65&&r(1,t=Math.round(s/i))},[s,t,d,a,u,l,i]}class vt extends we{constructor(n){super(),Ae(this,n,pt,_t,Ie,{width:0,aspectRatio:6})}}function We(e,n,r){const t=e.slice();return t[6]=n[r],t}function Ye(e){let n,r=e[6].name+"",t,s,i;return{c(){n=v("option"),t=K(r),this.h()},l(d){n=b(d,"OPTION",{});var a=T(n);t=Q(a,r),a.forEach(m),this.h()},h(){n.__value=s=e[6].value,n.value=n.__value,n.selected=i=e[6].value===e[0]},m(d,a){$(d,n,a),c(n,t)},p(d,a){a&2&&r!==(r=d[6].name+"")&&xe(t,r),a&2&&s!==(s=d[6].value)&&(n.__value=s,n.value=n.__value),a&3&&i!==(i=d[6].value===d[0])&&(n.selected=i)},d(d){d&&m(n)}}}function bt(e){let n,r,t,s,i,d,a,u=e[1],l=[];for(let f=0;f<u.length;f+=1)l[f]=Ye(We(e,u,f));return{c(){n=v("div"),r=v("label"),t=K(e[2]),s=y(),i=v("select");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){n=b(f,"DIV",{});var h=T(n);r=b(h,"LABEL",{for:!0,class:!0});var p=T(r);t=Q(p,e[2]),p.forEach(m),s=U(h),i=b(h,"SELECT",{id:!0,name:!0,class:!0});var _=T(i);for(let A=0;A<l.length;A+=1)l[A].l(_);_.forEach(m),h.forEach(m),this.h()},h(){o(r,"for",e[4]),o(r,"class","block text-sm font-medium leading-6 text-gray-900"),o(i,"id",e[4]),o(i,"name",e[3]),o(i,"class","mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"),e[0]===void 0&&ot(()=>e[5].call(i))},m(f,h){$(f,n,h),c(n,r),c(r,t),c(n,s),c(n,i);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(i,null);Ce(i,e[0],!0),d||(a=j(i,"change",e[5]),d=!0)},p(f,[h]){if(h&4&&xe(t,f[2]),h&3){u=f[1];let p;for(p=0;p<u.length;p+=1){const _=We(f,u,p);l[p]?l[p].p(_,h):(l[p]=Ye(_),l[p].c(),l[p].m(i,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=u.length}h&8&&o(i,"name",f[3]),h&3&&Ce(i,f[0])},i:de,o:de,d(f){f&&m(n),at(l,f),d=!1,a()}}}function Et(e,n,r){let{options:t}=n,{selected:s}=n,{label:i}=n,{name:d=void 0}=n,a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function u(){s=st(this),r(0,s),r(1,t)}return e.$$set=l=>{"options"in l&&r(1,t=l.options),"selected"in l&&r(0,s=l.selected),"label"in l&&r(2,i=l.label),"name"in l&&r(3,d=l.name)},[s,t,i,d,a,u]}class Tt extends we{constructor(n){super(),Ae(this,n,Et,bt,Ie,{options:1,selected:0,label:2,name:3})}}function wt(e){let n,r,t,s,i,d,a;return{c(){n=v("div"),r=v("label"),t=K(e[1]),s=y(),i=v("input"),this.h()},l(u){n=b(u,"DIV",{});var l=T(n);r=b(l,"LABEL",{for:!0,class:!0});var f=T(r);t=Q(f,e[1]),f.forEach(m),s=U(l),i=b(l,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,name:!0,class:!0}),l.forEach(m),this.h()},h(){o(r,"for",e[6]),o(r,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),o(i,"id",e[6]),o(i,"type","range"),o(i,"min",e[3]),o(i,"max",e[4]),o(i,"step",e[5]),o(i,"name",e[2]),o(i,"class","w-full h-1.5 mb-6 bg-white ring-1 ring-gray-300 shadow-sm rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700")},m(u,l){$(u,n,l),c(n,r),c(r,t),c(n,s),c(n,i),be(i,e[0]),d||(a=[j(i,"change",e[7]),j(i,"input",e[7])],d=!0)},p(u,[l]){l&2&&xe(t,u[1]),l&8&&o(i,"min",u[3]),l&16&&o(i,"max",u[4]),l&32&&o(i,"step",u[5]),l&4&&o(i,"name",u[2]),l&1&&be(i,u[0])},i:de,o:de,d(u){u&&m(n),d=!1,Re(a)}}}function At(e,n,r){let{label:t}=n,{name:s=void 0}=n,{min:i=null}=n,{max:d=null}=n,{value:a=0}=n,{step:u=1}=n,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function f(){a=lt(this.value),r(0,a)}return e.$$set=h=>{"label"in h&&r(1,t=h.label),"name"in h&&r(2,s=h.name),"min"in h&&r(3,i=h.min),"max"in h&&r(4,d=h.max),"value"in h&&r(0,a=h.value),"step"in h&&r(5,u=h.step)},[a,t,s,i,d,u,l,f]}class He extends we{constructor(n){super(),Ae(this,n,At,wt,Ie,{label:1,name:2,min:3,max:4,value:0,step:5})}}const It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAARtJREFUGBkBEAHv/gQAgKB/aX+hf1t/oX9pf6F/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BBB1/XX8Nf01/HX9dfw1/TX8Ev4G/gb+Bv4G/gb+Bv4G/gQRxfzF/cX8xf3F/MX9xfzF/BL+Bv4G/gb+Bv4G/gb+Bv4EECH9Ifxh/WH8Ef0R/FH9UfwS/gb+Bv4G/gb+Bv4G/gb+BBHF/MX9xfzF/cX8xf3F/MX8Ev4G/gb+Bv4G/gb+Bv4G/gQQdf11/DX9Nfx1/XX8Nf01/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BIZOCkuKxtP8AAAAASUVORK5CYII=",Ke={width:16,height:16},Rt=""+new URL("../assets/blue_noise.b61cfddd.png",import.meta.url).href,Qe={width:470,height:470},St=""+new URL("../assets/white_noise.2f37d8a6.png",import.meta.url).href,qe={width:256,height:256},yt=`precision highp float;

attribute vec2 position;
varying vec2 fragCoord;

// Just a simple vertex shader that passes on the 2d position to the fragment shader
void main() {
    fragCoord.x = position.x * 0.5 + 0.5;
    fragCoord.y = position.y * 0.5 + 0.5;
    
    gl_Position = vec4(position, 0.0, 1.0);
}`,Ut=`precision highp float;
varying vec2 fragCoord;

uniform sampler2D uSampler;
uniform float uThreshold;
uniform sampler2D uNoiseSampler;
uniform vec2 uNoiseSamplerSize;

uniform float uNoise;
uniform float uMonochrome;

uniform vec2 uSize;

uniform vec3 uDarkColor;
uniform vec3 uLightColor;

void main(void) {
    //Map the current image pixel to the noise texture
    vec2 imgPixel = vec2(fragCoord.x * uSize.x, fragCoord.y * uSize.y);
    vec2 noisePixel = vec2( mod(imgPixel.x, uNoiseSamplerSize.x),  mod(imgPixel.y, uNoiseSamplerSize.y));
    
    vec2 noiseUV = vec2(noisePixel.x / uNoiseSamplerSize.x, noisePixel.y / uNoiseSamplerSize.y);
    float noise = (texture2D(uNoiseSampler, noiseUV).r - 0.5) * 2.0 * uNoise;

    //Get the color of the current pixel from the image
    vec4 color = texture2D(uSampler, fragCoord);

   // Convert to grayscale using the NTSC standard coefficients
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));    

    color.r = color.r * (1.0 - uMonochrome) + gray * uMonochrome;
    color.g = color.g * (1.0 - uMonochrome) + gray * uMonochrome;
    color.b = color.b * (1.0 - uMonochrome) + gray * uMonochrome;

    vec3 thresholds = vec3(
        step(uThreshold, color.r + noise),
        step(uThreshold, color.g + noise),
        step(uThreshold, color.b + noise)
    );

    if(uMonochrome > 0.0) {
        color.rgb = vec3(
            mix(uDarkColor.r, uLightColor.r, thresholds.r),
            mix(uDarkColor.g, uLightColor.g, thresholds.g),
            mix(uDarkColor.b, uLightColor.b, thresholds.b)
        );
    } else {
        color.rgb = thresholds;
    }

    gl_FragColor = color;
}`;function Bt(e,n,r){const t=Je(e,e.VERTEX_SHADER,n),s=Je(e,e.FRAGMENT_SHADER,r),i=e.createProgram();if(!i)throw new Error("Failed to create shader program");if(e.attachShader(i,t),e.attachShader(i,s),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw Error(`Unable to initialize the shader program: ${e.getProgramInfoLog(i)}`);return i}function Je(e,n,r){const t=e.createShader(n);if(!t)throw new Error("Failed to create shader");if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))throw Error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(t)}`);return t}function Le(e,n,r=()=>{}){const t=e.createTexture();if(!t)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,t);const s=0,i=e.RGBA,d=1,a=1,u=0,l=e.RGBA,f=e.UNSIGNED_BYTE,h=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,s,i,d,a,u,l,f,h);const p=new Image;return p.onload=()=>{e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,s,i,l,f,p),Ue(p.width)&&Ue(p.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r()},p.src=n,t}function Dt(e){const n=e.createTexture();if(!n)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,n);const r=0,t=e.RGBA,s=1,i=1,d=0,a=e.RGBA,u=e.UNSIGNED_BYTE,l=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,r,t,s,i,d,a,u,l),n}function Lt(e,n,r){const s=e.RGBA,i=e.RGBA,d=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,s,i,d,r),Ue(r.width)&&Ue(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))}function Ue(e){return(e&e-1)===0}function xt(e){const n=e.createBuffer(),r=e.createBuffer(),t=[-1,1,-1,-1,1,-1,1,1],s=[3,2,1,3,1,0];return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),e.STATIC_DRAW),{vertex_buffer:n,index_buffer:r}}function Pt(e,n){let r=n;const t=e.getContext("webgl",{preserveDrawingBuffer:!0});if(!t){alert("WebGL not supported");return}const s=()=>{Lt(t,S,r.image)};t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT);const i=Bt(t,yt,Ut),{vertex_buffer:d,index_buffer:a}=xt(t),u=t.getAttribLocation(i,"position");t.vertexAttribPointer(u,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(u);const l=t.getUniformLocation(i,"uSampler"),f=t.getUniformLocation(i,"uThreshold"),h=t.getUniformLocation(i,"uNoiseSampler"),p=t.getUniformLocation(i,"uNoise"),_=t.getUniformLocation(i,"uSize"),A=t.getUniformLocation(i,"uNoiseSamplerSize"),x=t.getUniformLocation(i,"uMonochrome"),D=t.getUniformLocation(i,"uDarkColor"),X=t.getUniformLocation(i,"uLightColor"),S=Dt(t);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),s();const F=Le(t,It,E);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0);const w=Le(t,Rt,E);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0);const P=Le(t,St,E);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.useProgram(i);let k=null;const z=()=>{switch(t.viewport(0,0,r.width,r.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.bindBuffer(t.ARRAY_BUFFER,d),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,S),t.uniform1i(l,0),r.mode){case"bayer":t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,F),t.uniform1i(h,1),t.uniform2f(A,Ke.width,Ke.height);break;case"blue_noise":t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,w),t.uniform1i(h,1),t.uniform2f(A,Qe.width,Qe.height);break;case"white_noise":t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,P),t.uniform1i(h,1),t.uniform2f(A,qe.width,qe.height);break}t.uniform1f(f,r.threshold),t.uniform1f(p,r.noiseIntensity),t.uniform2f(_,r.width,r.height),t.uniform1f(x,r.monochrome?1:0),t.uniform3f(D,...je(r.colorDark)),t.uniform3f(X,...je(r.colorLight)),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)};function E(){k=requestAnimationFrame(()=>{z(),k=null})}return E(),{update(L){const W=r.image!==L.image;r=L,W&&s(),E()},destroy(){k!==null&&cancelAnimationFrame(k)}}}function je(e){const n=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,t=parseInt(e.slice(5,7),16)/255;return[n,r,t]}function Nt(e){let n;return{c(){n=v("div"),this.h()},l(r){n=b(r,"DIV",{class:!0}),T(n).forEach(m),this.h()},h(){o(n,"class","flex justify-center rounded-lg border border-dashed border-gray-900/25 h-48")},m(r,t){$(r,n,t)},p:de,d(r){r&&m(n)}}}function Ft(e){let n,r;return{c(){n=v("img"),this.h()},l(t){n=b(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(n.src,r=e[0].src)||o(n,"src",r),o(n,"alt","Your selected image"),o(n,"class","w-full rounded-lg")},m(t,s){$(t,n,s)},p(t,s){s&1&&!ze(n.src,r=t[0].src)&&o(n,"src",r)},d(t){t&&m(n)}}}function kt(e){let n,r,t,s,i,d,a,u,l,f,h,p,_,A,x,D,X,S,F,w,P,k,z,E,L,W,I,R,q,ee;function Z(B,C){return B[0]?Ft:Nt}let M=Z(e),N=M(e);return{c(){n=v("div"),r=v("label"),t=K("Input Image"),s=y(),i=v("div"),N.c(),d=y(),a=v("div"),u=v("div"),l=Ge("svg"),f=Ge("path"),p=y(),_=v("div"),A=v("label"),x=v("span"),D=K("Choose an Image"),X=y(),S=v("input"),w=y(),P=v("p"),k=K("or drag and drop"),E=y(),L=v("p"),W=K("PNG, JPG, GIF, etc"),this.h()},l(B){n=b(B,"DIV",{class:!0});var C=T(n);r=b(C,"LABEL",{for:!0,class:!0});var Y=T(r);t=Q(Y,"Input Image"),Y.forEach(m),s=U(C),i=b(C,"DIV",{class:!0});var J=T(i);N.l(J),d=U(J),a=b(J,"DIV",{class:!0});var he=T(a);u=b(he,"DIV",{class:!0});var te=T(u);l=Xe(te,"svg",{class:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var Se=T(l);f=Xe(Se,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),T(f).forEach(m),Se.forEach(m),p=U(te),_=b(te,"DIV",{class:!0});var ie=T(_);A=b(ie,"LABEL",{for:!0,class:!0});var me=T(A);x=b(me,"SPAN",{});var Ee=T(x);D=Q(Ee,"Choose an Image"),Ee.forEach(m),X=U(me),S=b(me,"INPUT",{type:!0,class:!0,id:!0,accept:!0}),me.forEach(m),w=U(ie),P=b(ie,"P",{class:!0});var ye=T(P);k=Q(ye,"or drag and drop"),ye.forEach(m),ie.forEach(m),E=U(te),L=b(te,"P",{class:!0});var Te=T(L);W=Q(Te,"PNG, JPG, GIF, etc"),Te.forEach(m),te.forEach(m),he.forEach(m),J.forEach(m),C.forEach(m),this.h()},h(){o(r,"for","cover-photo"),o(r,"class","block text-sm font-medium leading-6 text-gray-900"),o(f,"fill-rule","evenodd"),o(f,"d","M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"),o(f,"clip-rule","evenodd"),o(l,"class",h="mx-auto h-12 w-12 "+(e[0]?"text-white":"text-gray-300")),o(l,"viewBox","0 0 24 24"),o(l,"fill","currentColor"),o(l,"aria-hidden","true"),o(S,"type","file"),o(S,"class","sr-only"),o(S,"id","image-input"),o(S,"accept","image/*"),o(A,"for","image-input"),o(A,"class",F="relative cursor-pointer rounded-md font-semibold "+(e[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"),o(P,"class","pl-1"),o(_,"class",z="mt-4 flex text-sm leading-6 "+(e[0]?"text-white":"text-gray-600")+" text-center w-fit"),o(L,"class",I="text-xs leading-5 "+(e[0]?"text-white":"text-gray-600")),o(u,"class","text-center w-fit h-fit"),o(a,"class",R="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(e[0]?"opacity-0 hover:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":"")),o(i,"class","mt-2 relative w-full"),o(n,"class","col-span-full")},m(B,C){$(B,n,C),c(n,r),c(r,t),c(n,s),c(n,i),N.m(i,null),c(i,d),c(i,a),c(a,u),c(u,l),c(l,f),c(u,p),c(u,_),c(_,A),c(A,x),c(x,D),c(A,X),c(A,S),c(_,w),c(_,P),c(P,k),c(u,E),c(u,L),c(L,W),q||(ee=[j(S,"input",e[1]),j(a,"drop",Me(e[2])),j(a,"dragover",Me(Ct))],q=!0)},p(B,[C]){M===(M=Z(B))&&N?N.p(B,C):(N.d(1),N=M(B),N&&(N.c(),N.m(i,d))),C&1&&h!==(h="mx-auto h-12 w-12 "+(B[0]?"text-white":"text-gray-300"))&&o(l,"class",h),C&1&&F!==(F="relative cursor-pointer rounded-md font-semibold "+(B[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500")&&o(A,"class",F),C&1&&z!==(z="mt-4 flex text-sm leading-6 "+(B[0]?"text-white":"text-gray-600")+" text-center w-fit")&&o(_,"class",z),C&1&&I!==(I="text-xs leading-5 "+(B[0]?"text-white":"text-gray-600"))&&o(L,"class",I),C&1&&R!==(R="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(B[0]?"opacity-0 hover:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":""))&&o(a,"class",R)},i:de,o:de,d(B){B&&m(n),N.d(),q=!1,Re(ee)}}}const Ct=()=>{};function Gt(e,n,r){let{image:t=null}=n;function s(a){const u=a.target.files[0];u&&i(u)}function i(a){if(!a.type.startsWith("image/")){alert("Please select an image file");return}const u=new FileReader;u.onload=l=>{if(typeof u.result!="string")return;const f=new Image;f.onload=()=>{r(0,t=f)},f.src=u.result},u.readAsDataURL(a)}function d(a){var l;const u=(l=a.dataTransfer)==null?void 0:l.files[0];u&&i(u)}return e.$$set=a=>{"image"in a&&r(0,t=a.image)},[t,s,d]}class Xt extends we{constructor(n){super(),Ae(this,n,Gt,kt,Ie,{image:0})}}const{document:Ze}=ft;function $e(e){let n,r,t,s,i,d;return{c(){n=v("fieldset"),r=v("input"),t=y(),s=v("input"),this.h()},l(a){n=b(a,"FIELDSET",{});var u=T(n);r=b(u,"INPUT",{type:!0,name:!0}),t=U(u),s=b(u,"INPUT",{type:!0,name:!0}),u.forEach(m),this.h()},h(){o(r,"type","color"),o(r,"name","color-light"),o(s,"type","color"),o(s,"name","color-dark")},m(a,u){$(a,n,u),c(n,r),be(r,e[6]),c(n,t),c(n,s),be(s,e[7]),i||(d=[j(r,"input",e[17]),j(s,"input",e[18])],i=!0)},p(a,u){u&64&&be(r,a[6]),u&128&&be(s,a[7])},d(a){a&&m(n),i=!1,Re(d)}}}function et(e){let n,r,t,s;return{c(){n=v("canvas"),this.h()},l(i){n=b(i,"CANVAS",{class:!0,width:!0,height:!0,"aria-label":!0}),T(n).forEach(m),this.h()},h(){o(n,"class","border svelte-1gkt69q"),o(n,"width",e[0]),o(n,"height",e[10]),o(n,"aria-label","Dithered Image"),Ve(n,"pixelated",e[8])},m(i,d){$(i,n,d),t||(s=dt(r=Pt.call(null,n,{image:e[1],threshold:e[3],noiseIntensity:e[4],monochrome:e[5],colorLight:e[6],colorDark:e[7],mode:e[9],width:e[0],height:e[10]})),t=!0)},p(i,d){d&1&&o(n,"width",i[0]),d&1024&&o(n,"height",i[10]),r&&ht(r.update)&&d&1787&&r.update.call(null,{image:i[1],threshold:i[3],noiseIntensity:i[4],monochrome:i[5],colorLight:i[6],colorDark:i[7],mode:i[9],width:i[0],height:i[10]}),d&256&&Ve(n,"pixelated",i[8])},d(i){i&&m(n),t=!1,s()}}}function Mt(e){let n,r,t,s,i,d,a,u,l,f,h,p,_,A,x,D,X,S,F,w,P,k,z,E,L,W,I,R,q,ee,Z,M,N,B,C,Y,J,he,te;function Se(g){e[12](g)}let ie={};e[1]!==void 0&&(ie.image=e[1]),s=new Xt({props:ie}),_e.push(()=>pe(s,"image",Se));function me(g){e[13](g)}let Ee={label:"Dither Mode",options:[{name:"Bayer",value:"bayer"},{name:"Blue Noise",value:"blue_noise"},{name:"White Noise",value:"white_noise"}]};e[9]!==void 0&&(Ee.selected=e[9]),a=new Tt({props:Ee}),_e.push(()=>pe(a,"selected",me));function ye(g){e[14](g)}let Te={label:"Threshold ("+e[3]+")",min:0,max:1,step:.01};e[3]!==void 0&&(Te.value=e[3]),f=new He({props:Te}),_e.push(()=>pe(f,"value",ye));function nt(g){e[15](g)}let Pe={label:"Noise Intensity ("+e[4]+")",min:0,max:1.5,step:.01};e[4]!==void 0&&(Pe.value=e[4]),_=new He({props:Pe}),_e.push(()=>pe(_,"value",nt));let V=e[5]&&$e(e);function rt(g){e[19](g)}function it(g){e[20](g)}let Be={};e[0]!==void 0&&(Be.width=e[0]),e[2]!==void 0&&(Be.aspectRatio=e[2]),R=new vt({props:Be}),_e.push(()=>pe(R,"width",rt)),_e.push(()=>pe(R,"aspectRatio",it)),N=new tt({props:{src:gt,class:"w-4 h-4"}});let O=e[1]&&et(e);return{c(){n=y(),r=v("main"),t=v("section"),ae(s.$$.fragment),d=y(),ae(a.$$.fragment),l=y(),ae(f.$$.fragment),p=y(),ae(_.$$.fragment),x=y(),D=v("div"),X=v("div"),S=v("input"),F=y(),w=v("div"),P=v("label"),k=K("Monochrome"),z=y(),E=v("p"),L=K("If the dither should be monochrome, or in color"),W=y(),V&&V.c(),I=y(),ae(R.$$.fragment),Z=y(),M=v("button"),ae(N.$$.fragment),B=K(`
				Save`),C=y(),Y=v("section"),O&&O.c(),this.h()},l(g){ut("svelte-1hm2pfs",Ze.head).forEach(m),n=U(g),r=b(g,"MAIN",{class:!0});var oe=T(r);t=b(oe,"SECTION",{class:!0});var G=T(t);se(s.$$.fragment,G),d=U(G),se(a.$$.fragment,G),l=U(G),se(f.$$.fragment,G),p=U(G),se(_.$$.fragment,G),x=U(G),D=b(G,"DIV",{class:!0});var ne=T(D);X=b(ne,"DIV",{class:!0});var ge=T(X);S=b(ge,"INPUT",{type:!0,class:!0}),ge.forEach(m),F=U(ne),w=b(ne,"DIV",{class:!0});var re=T(w);P=b(re,"LABEL",{for:!0,class:!0});var Ne=T(P);k=Q(Ne,"Monochrome"),Ne.forEach(m),z=U(re),E=b(re,"P",{id:!0,class:!0});var Fe=T(E);L=Q(Fe,"If the dither should be monochrome, or in color"),Fe.forEach(m),re.forEach(m),ne.forEach(m),W=U(G),V&&V.l(G),I=U(G),se(R.$$.fragment,G),Z=U(G),M=b(G,"BUTTON",{type:!0,class:!0});var De=T(M);se(N.$$.fragment,De),B=Q(De,`
				Save`),De.forEach(m),G.forEach(m),C=U(oe),Y=b(oe,"SECTION",{class:!0});var ke=T(Y);O&&O.l(ke),ke.forEach(m),oe.forEach(m),this.h()},h(){Ze.title="Dithering",o(S,"type","checkbox"),o(S,"class","h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"),o(X,"class","flex h-6 items-center"),o(P,"for","comments"),o(P,"class","font-medium text-gray-900"),o(E,"id","comments-description"),o(E,"class","text-gray-500"),o(w,"class","ml-3 text-sm leading-6"),o(D,"class","relative flex items-start"),o(M,"type","button"),o(M,"class","rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2"),o(t,"class","bg-white px-4 w-full max-w-md py-8 border-r border-gray-100 overflow-y-auto grid gap-4 shadow-md"),o(Y,"class","grid place-items-center bg-gray-300 flex-1 overflow-hidden touch-manipulation select-none"),o(r,"class","w-screen max-w-screen h-screen max-h-screen flex")},m(g,H){$(g,n,H),$(g,r,H),c(r,t),le(s,t,null),c(t,d),le(a,t,null),c(t,l),le(f,t,null),c(t,p),le(_,t,null),c(t,x),c(t,D),c(D,X),c(X,S),S.checked=e[5],c(D,F),c(D,w),c(w,P),c(P,k),c(w,z),c(w,E),c(E,L),c(t,W),V&&V.m(t,null),c(t,I),le(R,t,null),c(t,Z),c(t,M),le(N,M,null),c(M,B),c(r,C),c(r,Y),O&&O.m(Y,null),J=!0,he||(te=[j(S,"change",e[16]),j(M,"click",e[11])],he=!0)},p(g,[H]){const oe={};!i&&H&2&&(i=!0,oe.image=g[1],ve(()=>i=!1)),s.$set(oe);const G={};!u&&H&512&&(u=!0,G.selected=g[9],ve(()=>u=!1)),a.$set(G);const ne={};H&8&&(ne.label="Threshold ("+g[3]+")"),!h&&H&8&&(h=!0,ne.value=g[3],ve(()=>h=!1)),f.$set(ne);const ge={};H&16&&(ge.label="Noise Intensity ("+g[4]+")"),!A&&H&16&&(A=!0,ge.value=g[4],ve(()=>A=!1)),_.$set(ge),H&32&&(S.checked=g[5]),g[5]?V?V.p(g,H):(V=$e(g),V.c(),V.m(t,I)):V&&(V.d(1),V=null);const re={};!q&&H&1&&(q=!0,re.width=g[0],ve(()=>q=!1)),!ee&&H&4&&(ee=!0,re.aspectRatio=g[2],ve(()=>ee=!1)),R.$set(re),g[1]?O?O.p(g,H):(O=et(g),O.c(),O.m(Y,null)):O&&(O.d(1),O=null)},i(g){J||(ue(s.$$.fragment,g),ue(a.$$.fragment,g),ue(f.$$.fragment,g),ue(_.$$.fragment,g),ue(R.$$.fragment,g),ue(N.$$.fragment,g),J=!0)},o(g){ce(s.$$.fragment,g),ce(a.$$.fragment,g),ce(f.$$.fragment,g),ce(_.$$.fragment,g),ce(R.$$.fragment,g),ce(N.$$.fragment,g),J=!1},d(g){g&&m(n),g&&m(r),fe(s),fe(a),fe(f),fe(_),V&&V.d(),fe(R),fe(N),O&&O.d(),he=!1,Re(te)}}}function zt(e,n,r){let t,s,i=.33,d=.3,a=!1,u="#ede6cc",l="#21263f",f=!0,h=600,p="blue_noise",_=null;ct(()=>{r(8,f=Number.isInteger(window.devicePixelRatio))});function A(){const E=document.querySelector("canvas");if(!E)return;const L=document.createElement("canvas");L.width=E.width,L.height=E.height;const W=L.getContext("2d");if(!W)return;W.drawImage(E,0,0,h,t);const I=document.createElement("a");I.download="dithered.png",I.href=L.toDataURL("image/png"),I.click()}function x(E){_=E,r(1,_)}function D(E){p=E,r(9,p)}function X(E){i=E,r(3,i)}function S(E){d=E,r(4,d)}function F(){a=this.checked,r(5,a)}function w(){u=this.value,r(6,u)}function P(){l=this.value,r(7,l)}function k(E){h=E,r(0,h)}function z(E){s=E,r(2,s),r(1,_)}return e.$$.update=()=>{e.$$.dirty&2&&r(2,s=_!=null&&_.width&&(_!=null&&_.height)?_.width/_.height:1),e.$$.dirty&5&&r(10,t=h/s)},[h,_,s,i,d,a,u,l,f,p,t,A,x,D,X,S,F,w,P,k,z]}class Wt extends we{constructor(n){super(),Ae(this,n,zt,Mt,Ie,{})}}export{Wt as component};
