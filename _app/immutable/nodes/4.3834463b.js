import{S as Je,i as $e,s as et,k as T,q as le,a as q,y as Se,l as x,m as B,r as ue,h as w,c as W,z as Ie,n as d,b as he,G as g,A as Be,N as fe,g as Re,d as De,B as Le,O as qe,P as Gr,Q as Gt,u as wt,H as Ce,R as Xr,T as Vr,U as Xe,V as Zr,K as Xt,L as Vt,W as Zt,M as qt,w as ze,X as Oe,J as qr,Y as Ge,o as Wr,Z as Yr,_ as Wt,$ as Yt,a0 as Hr}from"../chunks/index.b929328e.js";import{I as wr,L as Kr,A as jr}from"../chunks/Icon.be925988.js";import{g as Qr}from"../chunks/_commonjsHelpers.725317a4.js";function Jr(e){let t,r,n,s,i,o,l,c,u,f,m,p,b,S,k,D,I,C,P,R,O,U,z,F,y,N;return b=new wr({props:{src:Kr,class:"w-4 h-4",solid:!0}}),{c(){t=T("fieldset"),r=T("div"),n=T("label"),s=le("Width"),i=q(),o=T("div"),l=T("input"),c=q(),u=T("div"),f=le("px"),m=q(),p=T("span"),Se(b.$$.fragment),S=q(),k=T("div"),D=T("label"),I=le("Height"),C=q(),P=T("div"),R=T("input"),O=q(),U=T("div"),z=le("px"),this.h()},l(L){t=x(L,"FIELDSET",{class:!0});var A=B(t);r=x(A,"DIV",{class:!0});var G=B(r);n=x(G,"LABEL",{for:!0,class:!0});var te=B(n);s=ue(te,"Width"),te.forEach(w),i=W(G),o=x(G,"DIV",{class:!0});var ie=B(o);l=x(ie,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),c=W(ie),u=x(ie,"DIV",{class:!0});var H=B(u);f=ue(H,"px"),H.forEach(w),ie.forEach(w),G.forEach(w),m=W(A),p=x(A,"SPAN",{class:!0});var X=B(p);Ie(b.$$.fragment,X),X.forEach(w),S=W(A),k=x(A,"DIV",{class:!0});var ae=B(k);D=x(ae,"LABEL",{for:!0,class:!0});var se=B(D);I=ue(se,"Height"),se.forEach(w),C=W(ae),P=x(ae,"DIV",{class:!0});var J=B(P);R=x(J,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),O=W(J),U=x(J,"DIV",{class:!0});var re=B(U);z=ue(re,"px"),re.forEach(w),J.forEach(w),ae.forEach(w),A.forEach(w),this.h()},h(){d(n,"for","width-"+e[4]),d(n,"class","block text-sm font-medium leading-6 text-gray-900"),d(l,"name","width"),d(l,"id","width-"+e[4]),d(l,"type","number"),d(l,"min","12"),d(l,"max","3000"),d(l,"step","1"),l.value=e[0],d(l,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),d(l,"placeholder","600"),d(u,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),d(o,"class","relative mt-2 rounded-md shadow-sm"),d(r,"class","w-full"),d(p,"class","text-gray-500 pb-2 cursor-not-allowed"),d(D,"for","height-"+e[5]),d(D,"class","block text-sm font-medium leading-6 text-gray-900"),d(R,"type","number"),d(R,"id","height-"+e[5]),d(R,"name","height"),d(R,"min","12"),d(R,"max","3000"),d(R,"step","1"),R.value=e[1],d(R,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),d(R,"placeholder","340"),d(U,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),d(P,"class","relative mt-2 rounded-md shadow-sm"),d(k,"class","w-full"),d(t,"class","flex gap-3 items-end justify-between")},m(L,A){he(L,t,A),g(t,r),g(r,n),g(n,s),g(r,i),g(r,o),g(o,l),g(o,c),g(o,u),g(u,f),g(t,m),g(t,p),Be(b,p,null),g(t,S),g(t,k),g(k,D),g(D,I),g(k,C),g(k,P),g(P,R),g(P,O),g(P,U),g(U,z),F=!0,y||(N=[fe(l,"input",e[2]),fe(R,"input",e[3])],y=!0)},p(L,[A]){(!F||A&1&&l.value!==L[0])&&(l.value=L[0]),(!F||A&2&&R.value!==L[1])&&(R.value=L[1])},i(L){F||(Re(b.$$.fragment,L),F=!0)},o(L){De(b.$$.fragment,L),F=!1},d(L){L&&w(t),Le(b),y=!1,qe(N)}}}function Ht(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function $r(e,t,r){let n,{width:s}=t,{aspectRatio:i}=t;function o(f){const m=f.target.value;m&&r(0,s=m)}function l(f){const m=f.target.value;m&&r(0,s=Math.round(i*m))}let c=Ht(),u=Ht();return e.$$set=f=>{"width"in f&&r(0,s=f.width),"aspectRatio"in f&&r(6,i=f.aspectRatio)},e.$$.update=()=>{e.$$.dirty&65&&r(1,n=Math.round(s/i))},[s,n,o,l,c,u,i]}class en extends Je{constructor(t){super(),$e(this,t,$r,Jr,et,{width:0,aspectRatio:6})}}function Kt(e,t,r){const n=e.slice();return n[6]=t[r],n}function jt(e){let t,r=e[6].name+"",n,s,i;return{c(){t=T("option"),n=le(r),this.h()},l(o){t=x(o,"OPTION",{});var l=B(t);n=ue(l,r),l.forEach(w),this.h()},h(){t.__value=s=e[6].value,t.value=t.__value,t.selected=i=e[6].value===e[0]},m(o,l){he(o,t,l),g(t,n)},p(o,l){l&2&&r!==(r=o[6].name+"")&&wt(n,r),l&2&&s!==(s=o[6].value)&&(t.__value=s,t.value=t.__value),l&3&&i!==(i=o[6].value===o[0])&&(t.selected=i)},d(o){o&&w(t)}}}function tn(e){let t,r,n,s,i,o,l,c=e[1],u=[];for(let f=0;f<c.length;f+=1)u[f]=jt(Kt(e,c,f));return{c(){t=T("div"),r=T("label"),n=le(e[2]),s=q(),i=T("select");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){t=x(f,"DIV",{});var m=B(t);r=x(m,"LABEL",{for:!0,class:!0});var p=B(r);n=ue(p,e[2]),p.forEach(w),s=W(m),i=x(m,"SELECT",{id:!0,name:!0,class:!0});var b=B(i);for(let S=0;S<u.length;S+=1)u[S].l(b);b.forEach(w),m.forEach(w),this.h()},h(){d(r,"for",e[4]),d(r,"class","block text-sm font-medium leading-6 text-gray-900"),d(i,"id",e[4]),d(i,"name",e[3]),d(i,"class","mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"),e[0]===void 0&&Gr(()=>e[5].call(i))},m(f,m){he(f,t,m),g(t,r),g(r,n),g(t,s),g(t,i);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(i,null);Gt(i,e[0],!0),o||(l=fe(i,"change",e[5]),o=!0)},p(f,[m]){if(m&4&&wt(n,f[2]),m&3){c=f[1];let p;for(p=0;p<c.length;p+=1){const b=Kt(f,c,p);u[p]?u[p].p(b,m):(u[p]=jt(b),u[p].c(),u[p].m(i,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}m&8&&d(i,"name",f[3]),m&3&&Gt(i,f[0])},i:Ce,o:Ce,d(f){f&&w(t),Xr(u,f),o=!1,l()}}}function rn(e,t,r){let{options:n}=t,{selected:s}=t,{label:i}=t,{name:o=void 0}=t,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function c(){s=Vr(this),r(0,s),r(1,n)}return e.$$set=u=>{"options"in u&&r(1,n=u.options),"selected"in u&&r(0,s=u.selected),"label"in u&&r(2,i=u.label),"name"in u&&r(3,o=u.name)},[s,n,i,o,l,c]}class nn extends Je{constructor(t){super(),$e(this,t,rn,tn,et,{options:1,selected:0,label:2,name:3})}}function on(e){let t,r,n,s,i,o,l;return{c(){t=T("div"),r=T("label"),n=le(e[1]),s=q(),i=T("input"),this.h()},l(c){t=x(c,"DIV",{});var u=B(t);r=x(u,"LABEL",{for:!0,class:!0});var f=B(r);n=ue(f,e[1]),f.forEach(w),s=W(u),i=x(u,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,name:!0,class:!0}),u.forEach(w),this.h()},h(){d(r,"for",e[6]),d(r,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),d(i,"id",e[6]),d(i,"type","range"),d(i,"min",e[3]),d(i,"max",e[4]),d(i,"step",e[5]),d(i,"name",e[2]),d(i,"class","w-full h-1.5 mb-6 bg-white ring-1 ring-gray-300 shadow-sm rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700")},m(c,u){he(c,t,u),g(t,r),g(r,n),g(t,s),g(t,i),Xe(i,e[0]),o||(l=[fe(i,"change",e[7]),fe(i,"input",e[7])],o=!0)},p(c,[u]){u&2&&wt(n,c[1]),u&8&&d(i,"min",c[3]),u&16&&d(i,"max",c[4]),u&32&&d(i,"step",c[5]),u&4&&d(i,"name",c[2]),u&1&&Xe(i,c[0])},i:Ce,o:Ce,d(c){c&&w(t),o=!1,qe(l)}}}function an(e,t,r){let{label:n}=t,{name:s=void 0}=t,{min:i=null}=t,{max:o=null}=t,{value:l=0}=t,{step:c=1}=t,u=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function f(){l=Zr(this.value),r(0,l)}return e.$$set=m=>{"label"in m&&r(1,n=m.label),"name"in m&&r(2,s=m.name),"min"in m&&r(3,i=m.min),"max"in m&&r(4,o=m.max),"value"in m&&r(0,l=m.value),"step"in m&&r(5,c=m.step)},[l,n,s,i,o,c,u,f]}class Qt extends Je{constructor(t){super(),$e(this,t,an,on,et,{label:1,name:2,min:3,max:4,value:0,step:5})}}var dt={exports:{}};dt.exports=Er;dt.exports.addWheelListener=Er;dt.exports.removeWheelListener=sn;function Er(e,t,r){e.addEventListener("wheel",t,r)}function sn(e,t,r){e.removeEventListener("wheel",t,r)}var ln=dt.exports,mt={exports:{}},un=4,cn=.001,fn=1e-7,dn=10,Qe=11,st=1/(Qe-1),mn=typeof Float32Array=="function";function yr(e,t){return 1-3*t+3*e}function Tr(e,t){return 3*t-6*e}function xr(e){return 3*e}function ct(e,t,r){return((yr(t,r)*e+Tr(t,r))*e+xr(t))*e}function Ar(e,t,r){return 3*yr(t,r)*e*e+2*Tr(t,r)*e+xr(t)}function hn(e,t,r,n,s){var i,o,l=0;do o=t+(r-t)/2,i=ct(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>fn&&++l<dn);return o}function vn(e,t,r,n){for(var s=0;s<un;++s){var i=Ar(t,r,n);if(i===0)return t;var o=ct(t,r,n)-e;t-=o/i}return t}function gn(e){return e}var pn=function(t,r,n,s){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===s)return gn;for(var i=mn?new Float32Array(Qe):new Array(Qe),o=0;o<Qe;++o)i[o]=ct(o*st,t,n);function l(c){for(var u=0,f=1,m=Qe-1;f!==m&&i[f]<=c;++f)u+=st;--f;var p=(c-i[f])/(i[f+1]-i[f]),b=u+p*st,S=Ar(b,t,n);return S>=cn?vn(c,b,t,n):S===0?b:hn(c,u,u+st,t,n)}return function(u){return u===0?0:u===1?1:ct(l(u),r,s)}},je=pn,Jt={ease:je(.25,.1,.25,1),easeIn:je(.42,0,1,1),easeOut:je(0,0,.58,1),easeInOut:je(.42,0,.58,1),linear:je(0,0,1,1)};mt.exports=bn;mt.exports.makeAggregateRaf=Sr;mt.exports.sharedScheduler=Sr();function bn(e,t,r){var n=Object.create(null),s=Object.create(null);r=r||{};var i=typeof r.easing=="function"?r.easing:Jt[r.easing];i||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),i=Jt.ease);var o=typeof r.step=="function"?r.step:$t,l=typeof r.done=="function"?r.done:$t,c=_n(r.scheduler),u=Object.keys(t);u.forEach(function(I){n[I]=e[I],s[I]=t[I]-e[I]});var f=typeof r.duration=="number"?r.duration:400,m=Math.max(1,f*.06),p,b=0;return p=c.next(k),{cancel:S};function S(){c.cancel(p),p=0}function k(){var I=i(b/m);b+=1,D(I),b<=m?(p=c.next(k),o(e)):(p=0,setTimeout(function(){l(e)},0))}function D(I){u.forEach(function(C){e[C]=s[C]*I+n[C]})}}function $t(){}function _n(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?wn():En()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function wn(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function En(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Sr(){var e=new Set,t=new Set,r=0;return{next:s,cancel:s,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function s(l){t.add(l),i()}function i(){r||(r=requestAnimationFrame(o))}function o(){r=0;var l=t;t=e,e=l,e.forEach(function(c){c()}),e.clear()}}var yn=mt.exports,Tn=function(t){An(t);var r=xn(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function xn(e){var t=Object.create(null);return{on:function(r,n,s){if(typeof n!="function")throw new Error("callback is expected to be a function");var i=t[r];return i||(i=t[r]=[]),i.push({callback:n,ctx:s}),e},off:function(r,n){var s=typeof r>"u";if(s)return t=Object.create(null),e;if(t[r]){var i=typeof n!="function";if(i)delete t[r];else for(var o=t[r],l=0;l<o.length;++l)o[l].callback===n&&o.splice(l,1)}return e},fire:function(r){var n=t[r];if(!n)return e;var s;arguments.length>1&&(s=Array.prototype.splice.call(arguments,1));for(var i=0;i<n.length;++i){var o=n[i];o.callback.apply(o.ctx,s)}return e}}}function An(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var Sn=In;function In(e,t,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,s=typeof r.amplitude=="number"?r.amplitude:.25,i=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:Bn(),o=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:Rn(),l,c,u=342,f,m,p,b,S,k,D,I;return{start:P,stop:O,cancel:C};function C(){i(f),i(I)}function P(){l=e(),b=D=m=S=0,c=new Date,i(f),i(I),f=o(R)}function R(){var z=Date.now(),F=z-c;c=z;var y=e(),N=y.x-l.x,L=y.y-l.y;l=y;var A=1e3/(1+F);m=.8*N*A+.2*m,S=.8*L*A+.2*S,f=o(R)}function O(){i(f),i(I);var z=e();p=z.x,k=z.y,c=Date.now(),(m<-n||m>n)&&(b=s*m,p+=b),(S<-n||S>n)&&(D=s*S,k+=D),I=o(U)}function U(){var z=Date.now()-c,F=!1,y=0,N=0;b&&(y=-b*Math.exp(-z/u),y>.5||y<-.5?F=!0:y=b=0),D&&(N=-D*Math.exp(-z/u),N>.5||N<-.5?F=!0:N=D=0),F&&(t(p+y,k+N),I=o(U))}}function Bn(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Rn(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var Dn=Ln;function Ln(e){if(e)return{capture:tr,release:tr};var t,r,n,s=!1;return{capture:i,release:o};function i(l){s=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=er,t=l,t.ondragstart=er}function o(){s&&(s=!1,window.document.onselectstart=r,t&&(t.ondragstart=n))}}function er(e){return e.stopPropagation(),!1}function tr(){}var gt,rr;function Cn(){if(rr)return gt;rr=1,gt=e;function e(){this.x=0,this.y=0,this.scale=1}return gt}var lt={exports:{}},nr;function kn(){if(nr)return lt.exports;nr=1,lt.exports=e,lt.exports.canAttach=t;function e(r,n){if(!t(r))throw new Error("svg element is required for svg.panzoom to work");var s=r.ownerSVGElement;if(!s)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");n.disableKeyboardInteraction||s.setAttribute("tabindex",0);var i={getBBox:l,getScreenCTM:c,getOwner:o,applyTransform:f,initTransform:u};return i;function o(){return s}function l(){var m=r.getBBox();return{left:m.x,top:m.y,width:m.width,height:m.height}}function c(){var m=s.getCTM();return m||s.getScreenCTM()}function u(m){var p=r.getCTM();p===null&&(p=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),m.x=p.e,m.y=p.f,m.scale=p.a,s.removeAttributeNS(null,"viewBox")}function f(m){r.setAttribute("transform","matrix("+m.scale+" 0 0 "+m.scale+" "+m.x+" "+m.y+")")}}function t(r){return r&&r.ownerSVGElement&&r.getCTM}return lt.exports}var ut={exports:{}},or;function Fn(){if(or)return ut.exports;or=1,ut.exports=e,ut.exports.canAttach=t;function e(r,n){var s=t(r);if(!s)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var i=r.parentElement;r.scrollTop=0,n.disableKeyboardInteraction||i.setAttribute("tabindex",0);var o={getBBox:c,getOwner:l,applyTransform:u};return o;function l(){return i}function c(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function u(f){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+f.scale+", 0, 0, "+f.scale+", "+f.x+", "+f.y+")"}}function t(r){return r&&r.parentElement&&r.style}return ut.exports}var ir=ln,pt=yn,Mn=Tn,Nn=Sn,Ir=Dn,Un=Ir(),Pn=Ir(!0),zn=Cn(),ar=kn(),sr=Fn(),On=1,Gn=1.75,lr=300,ur=200,Xn=Br;function Br(e,t){t=t||{};var r=t.controller;if(r||(ar.canAttach(e)?r=ar(e,t):sr.canAttach(e)&&(r=sr(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),s={x:0,y:0},i=!1,o=new zn;r.initTransform&&r.initTransform(o);var l=typeof t.filterKey=="function"?t.filterKey:Ze,c=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,u=t.bounds,f=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,m=typeof t.minZoom=="number"?t.minZoom:0,p=typeof t.boundsPadding=="number"?t.boundsPadding:.05,b=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Gn,S=t.beforeWheel||Ze,k=t.beforeMouseDown||Ze,D=typeof t.zoomSpeed=="number"?t.zoomSpeed:On,I=cr(t.transformOrigin),C=t.enableTextSelection?Pn:Un;Vn(u),t.autocenter&&pe();var P,R=0,O=0,U=0,z=null,F=new Date,y,N=!1,L=!1,A,G,te,ie,H,X;"smoothScroll"in t&&!t.smoothScroll?X=Zn():X=Nn(ve,Lr,t.smoothScroll);var ae,se,J,re=!1;yt();var $={dispose:Cr,moveBy:Ne,moveTo:ge,smoothMoveTo:Dr,centerOn:Rr,zoomTo:it,zoomAbs:rt,smoothZoom:ot,smoothZoomAbs:zr,showRectangle:xe,pause:Ee,resume:Te,isPaused:de,getTransform:K,getMinZoom:ke,setMinZoom:Fe,getMaxZoom:ye,setMaxZoom:j,getTransformOrigin:E,setTransformOrigin:ne,getZoomSpeed:be,setZoomSpeed:Q};Mn($);var Y=typeof t.initialX=="number"?t.initialX:o.x,ee=typeof t.initialY=="number"?t.initialY:o.y,we=typeof t.initialZoom=="number"?t.initialZoom:o.scale;return(Y!=o.x||ee!=o.y||we!=o.scale)&&rt(Y,ee,we),$;function Ee(){Tt(),re=!0}function Te(){re&&(yt(),re=!1)}function de(){return re}function xe(a){var h=n.getBoundingClientRect(),v=ce(h.width,h.height),_=a.right-a.left,M=a.bottom-a.top;if(!Number.isFinite(_)||!Number.isFinite(M))throw new Error("Invalid rectangle");var V=v.x/_,Z=v.y/M,oe=Math.min(V,Z);o.x=-(a.left+_/2)*oe+v.x/2,o.y=-(a.top+M/2)*oe+v.y/2,o.scale=oe}function ce(a,h){if(r.getScreenCTM){var v=r.getScreenCTM(),_=v.a,M=v.d,V=v.e,Z=v.f;s.x=a*_-V,s.y=h*M-Z}else s.x=a,s.y=h;return s}function pe(){var a,h,v=0,_=0,M=We();if(M)v=M.left,_=M.top,a=M.right-M.left,h=M.bottom-M.top;else{var V=n.getBoundingClientRect();a=V.width,h=V.height}var Z=r.getBBox();if(!(Z.width===0||Z.height===0)){var oe=h/Z.height,Pe=a/Z.width,Ae=Math.min(Pe,oe);o.x=-(Z.left+Z.width/2)*Ae+a/2+v,o.y=-(Z.top+Z.height/2)*Ae+h/2+_,o.scale=Ae}}function K(){return o}function ke(){return m}function Fe(a){m=a}function ye(){return f}function j(a){f=a}function E(){return I}function ne(a){I=cr(a)}function be(){return D}function Q(a){if(!Number.isFinite(a))throw new Error("Zoom speed should be a number");D=a}function ve(){return{x:o.x,y:o.y}}function ge(a,h){o.x=a,o.y=h,Me(),Ue("pan"),ht()}function me(a,h){ge(o.x+a,o.y+h)}function Me(){var a=We();if(a){var h=!1,v=Ye(),_=a.left-v.right;return _>0&&(o.x+=_,h=!0),_=a.right-v.left,_<0&&(o.x+=_,h=!0),_=a.top-v.bottom,_>0&&(o.y+=_,h=!0),_=a.bottom-v.top,_<0&&(o.y+=_,h=!0),h}}function We(){if(u){if(typeof u=="boolean"){var a=n.getBoundingClientRect(),h=a.width,v=a.height;return{left:h*p,top:v*p,right:h*(1-p),bottom:v*(1-p)}}return u}}function Ye(){var a=r.getBBox(),h=tt(a.left,a.top);return{left:h.x,top:h.y,right:a.width*o.scale+h.x,bottom:a.height*o.scale+h.y}}function tt(a,h){return{x:a*o.scale+o.x,y:h*o.scale+o.y}}function ht(){i=!0,P=window.requestAnimationFrame(kr)}function Et(a,h,v){if(bt(a)||bt(h)||bt(v))throw new Error("zoom requires valid numbers");var _=o.scale*v;if(_<m){if(o.scale===m)return;v=m/o.scale}if(_>f){if(o.scale===f)return;v=f/o.scale}var M=ce(a,h);if(o.x=M.x-v*(M.x-o.x),o.y=M.y-v*(M.y-o.y),u&&p===1&&m===1)o.scale*=v,Me();else{var V=Me();V||(o.scale*=v)}Ue("zoom"),ht()}function rt(a,h,v){var _=v/o.scale;Et(a,h,_)}function Rr(a){var h=a.ownerSVGElement;if(!h)throw new Error("ui element is required to be within the scene");var v=a.getBoundingClientRect(),_=v.left+v.width/2,M=v.top+v.height/2,V=h.getBoundingClientRect(),Z=V.width/2-_,oe=V.height/2-M;Ne(Z,oe,!0)}function Dr(a,h){Ne(a-o.x,h-o.y,!0)}function Ne(a,h,v){if(!v)return me(a,h);ae&&ae.cancel();var _={x:0,y:0},M={x:a,y:h},V=0,Z=0;ae=pt(_,M,{step:function(oe){me(oe.x-V,oe.y-Z),V=oe.x,Z=oe.y}})}function Lr(a,h){at(),ge(a,h)}function Cr(){Tt()}function yt(){n.addEventListener("mousedown",Lt,{passive:!1}),n.addEventListener("dblclick",Dt,{passive:!1}),n.addEventListener("touchstart",At,{passive:!1}),n.addEventListener("keydown",xt,{passive:!1}),ir.addWheelListener(n,Nt,{passive:!1}),ht()}function Tt(){ir.removeWheelListener(n,Nt),n.removeEventListener("mousedown",Lt),n.removeEventListener("keydown",xt),n.removeEventListener("dblclick",Dt),n.removeEventListener("touchstart",At),P&&(window.cancelAnimationFrame(P),P=0),X.cancel(),Ft(),Mt(),C.release(),vt()}function kr(){i&&Fr()}function Fr(){i=!1,r.applyTransform(o),Ue("transform"),P=0}function xt(a){var h=0,v=0,_=0;if(a.keyCode===38?v=1:a.keyCode===40?v=-1:a.keyCode===37?h=1:a.keyCode===39?h=-1:a.keyCode===189||a.keyCode===109?_=1:(a.keyCode===187||a.keyCode===107)&&(_=-1),!l(a,h,v,_)){if(h||v){a.preventDefault(),a.stopPropagation();var M=n.getBoundingClientRect(),V=Math.min(M.width,M.height),Z=.05,oe=V*Z*h,Pe=V*Z*v;Ne(oe,Pe)}if(_){var Ae=Ut(_*100),V=I?Ke():Mr();it(V.x,V.y,Ae)}}}function Mr(){var a=n.getBoundingClientRect();return{x:a.width/2,y:a.height/2}}function At(a){if(Nr(a),He(),a.touches.length===1)return Pr(a,a.touches[0]);a.touches.length===2&&(H=Rt(a.touches[0],a.touches[1]),J=!0,St())}function Nr(a){t.onTouch&&!t.onTouch(a)||(a.stopPropagation(),a.preventDefault())}function Ur(a){He(),!(t.onDoubleClick&&!t.onDoubleClick(a))&&(a.preventDefault(),a.stopPropagation())}function Pr(a){O=new Date;var h=a.touches[0],v=_e(h);y=v;var _=ce(v.x,v.y);A=_.x,G=_.y,te=A,ie=G,X.cancel(),St()}function St(){N||(N=!0,document.addEventListener("touchmove",It),document.addEventListener("touchend",nt),document.addEventListener("touchcancel",nt))}function It(a){if(a.touches.length===1){a.stopPropagation();var h=a.touches[0],v=_e(h),_=ce(v.x,v.y),M=_.x-A,V=_.y-G;M!==0&&V!==0&&Pt(),A=_.x,G=_.y,Ne(M,V)}else if(a.touches.length===2){J=!0;var Z=a.touches[0],oe=a.touches[1],Pe=Rt(Z,oe),Ae=1+(Pe/H-1)*c,zt=_e(Z),Ot=_e(oe);if(A=(zt.x+Ot.x)/2,G=(zt.y+Ot.y)/2,I){var v=Ke();A=v.x,G=v.y}it(A,G,Ae),H=Pe,a.stopPropagation(),a.preventDefault()}}function He(){U&&(clearTimeout(U),U=0)}function Bt(a){if(t.onClick){He();var h=A-te,v=G-ie,_=Math.sqrt(h*h+v*v);_>5||(U=setTimeout(function(){U=0,t.onClick(a)},lr))}}function nt(a){if(He(),a.touches.length>0){var h=_e(a.touches[0]),v=ce(h.x,h.y);A=v.x,G=v.y}else{var _=new Date;if(_-R<lr)if(I){var h=Ke();ot(h.x,h.y,b)}else ot(y.x,y.y,b);else _-O<ur&&Bt(a);R=_,vt(),Mt()}}function Rt(a,h){var v=a.clientX-h.clientX,_=a.clientY-h.clientY;return Math.sqrt(v*v+_*_)}function Dt(a){Ur(a);var h=_e(a);I&&(h=Ke()),ot(h.x,h.y,b)}function Lt(a){if(He(),!k(a)){if(z=a,F=new Date,N)return a.stopPropagation(),!1;var h=a.button===1&&window.event!==null||a.button===0;if(h){X.cancel();var v=_e(a),_=ce(v.x,v.y);return te=A=_.x,ie=G=_.y,document.addEventListener("mousemove",Ct),document.addEventListener("mouseup",kt),C.capture(a.target||a.srcElement),!1}}}function Ct(a){if(!N){Pt();var h=_e(a),v=ce(h.x,h.y),_=v.x-A,M=v.y-G;A=v.x,G=v.y,Ne(_,M)}}function kt(){var a=new Date;a-F<ur&&Bt(z),C.release(),vt(),Ft()}function Ft(){document.removeEventListener("mousemove",Ct),document.removeEventListener("mouseup",kt),L=!1}function Mt(){document.removeEventListener("touchmove",It),document.removeEventListener("touchend",nt),document.removeEventListener("touchcancel",nt),L=!1,J=!1,N=!1}function Nt(a){if(!S(a)){X.cancel();var h=a.deltaY;a.deltaMode>0&&(h*=100);var v=Ut(h);if(v!==1){var _=I?Ke():_e(a);it(_.x,_.y,v),a.preventDefault()}}}function _e(a){var h,v,_=n.getBoundingClientRect();return h=a.clientX-_.left,v=a.clientY-_.top,{x:h,y:v}}function ot(a,h,v){var _=o.scale,M={scale:_},V={scale:v*_};X.cancel(),at(),se=pt(M,V,{step:function(Z){rt(a,h,Z.scale)},done:Or})}function zr(a,h,v){var _=o.scale,M={scale:_},V={scale:v};X.cancel(),at(),se=pt(M,V,{step:function(Z){rt(a,h,Z.scale)}})}function Ke(){var a=n.getBoundingClientRect();return{x:a.width*I.x,y:a.height*I.y}}function it(a,h,v){return X.cancel(),at(),Et(a,h,v)}function at(){se&&(se.cancel(),se=null)}function Ut(a){var h=Math.sign(a),v=Math.min(.25,Math.abs(D*a/128));return 1-h*v}function Pt(){L||(Ue("panstart"),L=!0,X.start())}function vt(){L&&(J||X.stop(),Ue("panend"))}function Or(){Ue("zoomend")}function Ue(a){$.fire(a,$)}}function cr(e){if(e){if(typeof e=="object")return(!Ve(e.x)||!Ve(e.y))&&fr(e),e;fr()}}function fr(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Ze(){}function Vn(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var r=Ve(e.left)&&Ve(e.top)&&Ve(e.bottom)&&Ve(e.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Ve(e){return Number.isFinite(e)}function bt(e){return Number.isNaN?Number.isNaN(e):e!==e}function Zn(){return{start:Ze,stop:Ze,cancel:Ze}}function qn(){if(typeof document>"u")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,r=0;r<e.length;++r){var n=e[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){t=n;break}}if(!t)return;var s=t.getAttribute("query");if(!s)return;var i=t.getAttribute("name")||"pz",o=Date.now();l();function l(){var f=document.querySelector(s);if(!f){var m=Date.now(),p=m-o;if(p<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",i);return}var b=c(t);console.log(b),window[i]=Br(f,b)}function c(f){for(var m=f.attributes,p={},b=0;b<m.length;++b){var S=m[b],k=u(S);k&&(p[k.name]=k.value)}return p}function u(f){if(f.name){var m=f.name[0]==="p"&&f.name[1]==="z"&&f.name[2]==="-";if(m){var p=f.name.substr(3),b=JSON.parse(f.value);return{name:p,value:b}}}}}qn();const Wn=Qr(Xn),Yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAARtJREFUGBkBEAHv/gQAgKB/aX+hf1t/oX9pf6F/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BBB1/XX8Nf01/HX9dfw1/TX8Ev4G/gb+Bv4G/gb+Bv4G/gQRxfzF/cX8xf3F/MX9xfzF/BL+Bv4G/gb+Bv4G/gb+Bv4EECH9Ifxh/WH8Ef0R/FH9UfwS/gb+Bv4G/gb+Bv4G/gb+BBHF/MX9xfzF/cX8xf3F/MX8Ev4G/gb+Bv4G/gb+Bv4G/gQQdf11/DX9Nfx1/XX8Nf01/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BIZOCkuKxtP8AAAAASUVORK5CYII=",dr={width:16,height:16},Hn=""+new URL("../assets/blue_noise.b61cfddd.png",import.meta.url).href,mr={width:470,height:470},Kn=""+new URL("../assets/white_noise.2f37d8a6.png",import.meta.url).href,hr={width:256,height:256};var jn="precision highp float;attribute vec2 position;varying vec2 fragCoord;void main(){fragCoord.x=position.x*0.5+0.5;fragCoord.y=position.y*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}",Qn="precision highp float;varying vec2 fragCoord;uniform sampler2D uSampler;uniform float uThreshold;uniform sampler2D uNoiseSampler;uniform vec2 uNoiseSamplerSize;uniform float uNoise;uniform float uMonochrome;uniform vec2 uSize;uniform vec3 uDarkColor;uniform vec3 uLightColor;void main(void){vec2 imgPixel=vec2(fragCoord.x*uSize.x,fragCoord.y*uSize.y);vec2 noisePixel=vec2(mod(imgPixel.x,uNoiseSamplerSize.x),mod(imgPixel.y,uNoiseSamplerSize.y));vec2 noiseUV=vec2(noisePixel.x/uNoiseSamplerSize.x,noisePixel.y/uNoiseSamplerSize.y);float noise=(texture2D(uNoiseSampler,noiseUV).r-0.5)*2.0*uNoise;vec4 color=texture2D(uSampler,fragCoord);float gray=dot(color.rgb,vec3(0.299,0.587,0.114));color.r=color.r*(1.0-uMonochrome)+gray*uMonochrome;color.g=color.g*(1.0-uMonochrome)+gray*uMonochrome;color.b=color.b*(1.0-uMonochrome)+gray*uMonochrome;vec3 thresholds=vec3(step(uThreshold,color.r+noise),step(uThreshold,color.g+noise),step(uThreshold,color.b+noise));if(uMonochrome>0.0){color.rgb=vec3(mix(uDarkColor.r,uLightColor.r,thresholds.r),mix(uDarkColor.g,uLightColor.g,thresholds.g),mix(uDarkColor.b,uLightColor.b,thresholds.b));}else{color.rgb=thresholds;}gl_FragColor=color;}";function Jn(e,t,r){const n=vr(e,e.VERTEX_SHADER,t),s=vr(e,e.FRAGMENT_SHADER,r),i=e.createProgram();if(!i)throw new Error("Failed to create shader program");if(e.attachShader(i,n),e.attachShader(i,s),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw Error(`Unable to initialize the shader program: ${e.getProgramInfoLog(i)}`);return i}function vr(e,t,r){const n=e.createShader(t);if(!n)throw new Error("Failed to create shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(n)}`);return n}function _t(e,t,r=()=>{}){const n=e.createTexture();if(!n)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,n);const s=0,i=e.RGBA,o=1,l=1,c=0,u=e.RGBA,f=e.UNSIGNED_BYTE,m=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,s,i,o,l,c,u,f,m);const p=new Image;return p.onload=()=>{e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,s,i,u,f,p),ft(p.width)&&ft(p.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r()},p.src=t,n}function $n(e){const t=e.createTexture();if(!t)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,t);const r=0,n=e.RGBA,s=1,i=1,o=0,l=e.RGBA,c=e.UNSIGNED_BYTE,u=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,r,n,s,i,o,l,c,u),t}function eo(e,t,r){const s=e.RGBA,i=e.RGBA,o=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,s,i,o,r),ft(r.width)&&ft(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))}function ft(e){return(e&e-1)===0}function to(e){const t=e.createBuffer(),r=e.createBuffer(),n=[-1,1,-1,-1,1,-1,1,1],s=[3,2,1,3,1,0];return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),e.STATIC_DRAW),{vertex_buffer:t,index_buffer:r}}function ro(e,t){let r=t;const n=e.getContext("webgl",{preserveDrawingBuffer:!0});if(!n){alert("WebGL not supported");return}const s=()=>{eo(n,C,r.image)};n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);const i=Jn(n,jn,Qn),{vertex_buffer:o,index_buffer:l}=to(n),c=n.getAttribLocation(i,"position");n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(c);const u=n.getUniformLocation(i,"uSampler"),f=n.getUniformLocation(i,"uThreshold"),m=n.getUniformLocation(i,"uNoiseSampler"),p=n.getUniformLocation(i,"uNoise"),b=n.getUniformLocation(i,"uSize"),S=n.getUniformLocation(i,"uNoiseSamplerSize"),k=n.getUniformLocation(i,"uMonochrome"),D=n.getUniformLocation(i,"uDarkColor"),I=n.getUniformLocation(i,"uLightColor"),C=$n(n);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),s();const P=_t(n,Yn,F);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0);const R=_t(n,Hn,F);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0);const O=_t(n,Kn,F);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.useProgram(i);let U=null;const z=()=>{switch(n.viewport(0,0,r.width,r.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,o),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,l),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,C),n.uniform1i(u,0),r.mode){case"bayer":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,P),n.uniform1i(m,1),n.uniform2f(S,dr.width,dr.height);break;case"blue_noise":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,R),n.uniform1i(m,1),n.uniform2f(S,mr.width,mr.height);break;case"white_noise":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,O),n.uniform1i(m,1),n.uniform2f(S,hr.width,hr.height);break}n.uniform1f(f,r.threshold),n.uniform1f(p,r.noiseIntensity),n.uniform2f(b,r.width,r.height),n.uniform1f(k,r.monochrome?1:0),n.uniform3f(D,...gr(r.colorDark)),n.uniform3f(I,...gr(r.colorLight)),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)};function F(){U=requestAnimationFrame(()=>{z(),U=null})}return F(),{update(y){const N=r.image!==y.image;r=y,N&&s(),F()},destroy(){U!==null&&cancelAnimationFrame(U)}}}function gr(e){const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255;return[t,r,n]}const no=""+new URL("../assets/img.58b560b7.jpg",import.meta.url).href;function oo(e){let t;return{c(){t=T("div"),this.h()},l(r){t=x(r,"DIV",{class:!0}),B(t).forEach(w),this.h()},h(){d(t,"class","flex justify-center rounded-lg border border-dashed border-gray-900/25 h-48")},m(r,n){he(r,t,n)},p:Ce,d(r){r&&w(t)}}}function io(e){let t,r;return{c(){t=T("img"),this.h()},l(n){t=x(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){qt(t.src,r=e[0].src)||d(t,"src",r),d(t,"alt","Your selected image"),d(t,"class","w-full rounded-lg bg-gray-50")},m(n,s){he(n,t,s)},p(n,s){s&1&&!qt(t.src,r=n[0].src)&&d(t,"src",r)},d(n){n&&w(t)}}}function ao(e){let t,r,n,s,i,o,l,c,u,f,m,p,b,S,k,D,I,C,P,R,O,U,z,F,y,N,L,A,G,te,ie,H,X,ae,se;function J(Y,ee){return Y[0]?io:oo}let re=J(e),$=re(e);return{c(){t=T("div"),r=T("label"),n=le("Input Image"),s=q(),i=T("div"),$.c(),o=q(),l=T("div"),c=T("div"),u=Xt("svg"),f=Xt("path"),p=q(),b=T("div"),S=T("label"),k=T("span"),D=le("Choose an Image"),I=q(),C=T("input"),R=q(),O=T("p"),U=le("or drag and drop"),F=q(),y=T("p"),N=le("PNG, JPG, GIF, etc"),A=q(),G=T("p"),te=T("button"),ie=le("Or use my cats"),this.h()},l(Y){t=x(Y,"DIV",{class:!0});var ee=B(t);r=x(ee,"LABEL",{for:!0,class:!0});var we=B(r);n=ue(we,"Input Image"),we.forEach(w),s=W(ee),i=x(ee,"DIV",{class:!0});var Ee=B(i);$.l(Ee),o=W(Ee),l=x(Ee,"DIV",{class:!0});var Te=B(l);c=x(Te,"DIV",{class:!0});var de=B(c);u=Vt(de,"svg",{class:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var xe=B(u);f=Vt(xe,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),B(f).forEach(w),xe.forEach(w),p=W(de),b=x(de,"DIV",{class:!0});var ce=B(b);S=x(ce,"LABEL",{for:!0,class:!0});var pe=B(S);k=x(pe,"SPAN",{});var K=B(k);D=ue(K,"Choose an Image"),K.forEach(w),I=W(pe),C=x(pe,"INPUT",{type:!0,class:!0,id:!0,accept:!0}),pe.forEach(w),R=W(ce),O=x(ce,"P",{class:!0});var ke=B(O);U=ue(ke,"or drag and drop"),ke.forEach(w),ce.forEach(w),F=W(de),y=x(de,"P",{class:!0});var Fe=B(y);N=ue(Fe,"PNG, JPG, GIF, etc"),Fe.forEach(w),A=W(de),G=x(de,"P",{});var ye=B(G);te=x(ye,"BUTTON",{class:!0});var j=B(te);ie=ue(j,"Or use my cats"),j.forEach(w),ye.forEach(w),de.forEach(w),Te.forEach(w),Ee.forEach(w),ee.forEach(w),this.h()},h(){d(r,"for","cover-photo"),d(r,"class","block text-sm font-medium leading-6 text-gray-900"),d(f,"fill-rule","evenodd"),d(f,"d","M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"),d(f,"clip-rule","evenodd"),d(u,"class",m="mx-auto h-12 w-12 "+(e[0]?"text-white":"text-gray-300")),d(u,"viewBox","0 0 24 24"),d(u,"fill","currentColor"),d(u,"aria-hidden","true"),d(C,"type","file"),d(C,"class","sr-only"),d(C,"id","image-input"),d(C,"accept","image/*"),d(S,"for","image-input"),d(S,"class",P="relative cursor-pointer rounded-md font-semibold "+(e[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"),d(O,"class","pl-1"),d(b,"class",z="mt-4 flex text-sm leading-6 "+(e[0]?"text-white":"text-gray-600")+" text-center w-fit"),d(y,"class",L="text-xs leading-5 "+(e[0]?"text-white":"text-gray-600")),d(te,"class",H="font-semibold cursor-pointer text-sm "+(e[0]?"text-indigo-500":"text-indigo-600")),d(c,"class","text-center w-fit h-fit"),d(l,"class",X="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(e[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":"")),d(i,"class","mt-2 relative w-full"),d(t,"class","col-span-full")},m(Y,ee){he(Y,t,ee),g(t,r),g(r,n),g(t,s),g(t,i),$.m(i,null),g(i,o),g(i,l),g(l,c),g(c,u),g(u,f),g(c,p),g(c,b),g(b,S),g(S,k),g(k,D),g(S,I),g(S,C),g(b,R),g(b,O),g(O,U),g(c,F),g(c,y),g(y,N),g(c,A),g(c,G),g(G,te),g(te,ie),ae||(se=[fe(C,"input",e[1]),fe(te,"click",e[3]),fe(l,"drop",Zt(e[2])),fe(l,"dragover",Zt(so))],ae=!0)},p(Y,[ee]){re===(re=J(Y))&&$?$.p(Y,ee):($.d(1),$=re(Y),$&&($.c(),$.m(i,o))),ee&1&&m!==(m="mx-auto h-12 w-12 "+(Y[0]?"text-white":"text-gray-300"))&&d(u,"class",m),ee&1&&P!==(P="relative cursor-pointer rounded-md font-semibold "+(Y[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500")&&d(S,"class",P),ee&1&&z!==(z="mt-4 flex text-sm leading-6 "+(Y[0]?"text-white":"text-gray-600")+" text-center w-fit")&&d(b,"class",z),ee&1&&L!==(L="text-xs leading-5 "+(Y[0]?"text-white":"text-gray-600"))&&d(y,"class",L),ee&1&&H!==(H="font-semibold cursor-pointer text-sm "+(Y[0]?"text-indigo-500":"text-indigo-600"))&&d(te,"class",H),ee&1&&X!==(X="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(Y[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":""))&&d(l,"class",X)},i:Ce,o:Ce,d(Y){Y&&w(t),$.d(),ae=!1,qe(se)}}}const so=()=>{};function lo(e,t,r){let{image:n=null}=t;function s(c){const u=c.target.files[0];u&&(i(u),c.target&&"blur"in c.target&&typeof c.target.blur=="function"&&c.target.blur())}function i(c){if(!c.type.startsWith("image/")){alert("Please select an image file");return}const u=new FileReader;u.onload=f=>{if(typeof u.result!="string")return;const m=new Image;m.onload=()=>{r(0,n=m)},m.src=u.result},u.readAsDataURL(c)}function o(c){var f;const u=(f=c.dataTransfer)==null?void 0:f.files[0];u&&i(u)}function l(c){const u=new Image;u.onload=()=>{r(0,n=u)},u.src=no,c.target&&"blur"in c.target&&typeof c.target.blur=="function"&&c.target.blur()}return e.$$set=c=>{"image"in c&&r(0,n=c.image)},[n,s,o,l]}class uo extends Je{constructor(t){super(),$e(this,t,lo,ao,et,{image:0})}}const{document:pr}=Yr;function br(e){let t,r,n,s,i,o;return{c(){t=T("fieldset"),r=T("input"),n=q(),s=T("input"),this.h()},l(l){t=x(l,"FIELDSET",{});var c=B(t);r=x(c,"INPUT",{type:!0,name:!0}),n=W(c),s=x(c,"INPUT",{type:!0,name:!0}),c.forEach(w),this.h()},h(){d(r,"type","color"),d(r,"name","color-light"),d(s,"type","color"),d(s,"name","color-dark")},m(l,c){he(l,t,c),g(t,r),Xe(r,e[6]),g(t,n),g(t,s),Xe(s,e[7]),i||(o=[fe(r,"input",e[18]),fe(s,"input",e[19])],i=!0)},p(l,c){c&64&&Xe(r,l[6]),c&128&&Xe(s,l[7])},d(l){l&&w(t),i=!1,qe(o)}}}function _r(e){let t,r,n,s,i;return{c(){t=T("div"),r=T("canvas"),this.h()},l(o){t=x(o,"DIV",{class:!0});var l=B(t);r=x(l,"CANVAS",{width:!0,height:!0,"aria-label":!0,class:!0}),B(r).forEach(w),l.forEach(w),this.h()},h(){d(r,"width",e[0]),d(r,"height",e[10]),d(r,"aria-label","Dithered Image"),d(r,"class","svelte-1gkt69q"),Wt(r,"pixelated",e[8]),d(t,"class","w-full h-full grid place-items-center")},m(o,l){he(o,t,l),g(t,r),s||(i=[Yt(n=ro.call(null,r,{image:e[1],threshold:e[3],noiseIntensity:e[4],monochrome:e[5],colorLight:e[6],colorDark:e[7],mode:e[9],width:e[0],height:e[10]})),Yt(e[12].call(null,t))],s=!0)},p(o,l){l&1&&d(r,"width",o[0]),l&1024&&d(r,"height",o[10]),n&&Hr(n.update)&&l&1787&&n.update.call(null,{image:o[1],threshold:o[3],noiseIntensity:o[4],monochrome:o[5],colorLight:o[6],colorDark:o[7],mode:o[9],width:o[0],height:o[10]}),l&256&&Wt(r,"pixelated",o[8])},d(o){o&&w(t),s=!1,qe(i)}}}function co(e){let t,r,n,s,i,o,l,c,u,f,m,p,b,S,k,D,I,C,P,R,O,U,z,F,y,N,L,A,G,te,ie,H,X,ae,se,J,re,$,Y;function ee(E){e[13](E)}let we={};e[1]!==void 0&&(we.image=e[1]),s=new uo({props:we}),ze.push(()=>Oe(s,"image",ee));function Ee(E){e[14](E)}let Te={label:"Dither Mode",options:[{name:"Bayer",value:"bayer"},{name:"Blue Noise",value:"blue_noise"},{name:"White Noise",value:"white_noise"}]};e[9]!==void 0&&(Te.selected=e[9]),l=new nn({props:Te}),ze.push(()=>Oe(l,"selected",Ee));function de(E){e[15](E)}let xe={label:"Threshold ("+e[3]+")",min:0,max:1,step:.01};e[3]!==void 0&&(xe.value=e[3]),f=new Qt({props:xe}),ze.push(()=>Oe(f,"value",de));function ce(E){e[16](E)}let pe={label:"Noise Intensity ("+e[4]+")",min:0,max:1.5,step:.01};e[4]!==void 0&&(pe.value=e[4]),b=new Qt({props:pe}),ze.push(()=>Oe(b,"value",ce));let K=e[5]&&br(e);function ke(E){e[20](E)}function Fe(E){e[21](E)}let ye={};e[0]!==void 0&&(ye.width=e[0]),e[2]!==void 0&&(ye.aspectRatio=e[2]),A=new en({props:ye}),ze.push(()=>Oe(A,"width",ke)),ze.push(()=>Oe(A,"aspectRatio",Fe)),X=new wr({props:{src:jr,class:"w-4 h-4"}});let j=e[1]&&_r(e);return{c(){t=q(),r=T("main"),n=T("section"),Se(s.$$.fragment),o=q(),Se(l.$$.fragment),u=q(),Se(f.$$.fragment),p=q(),Se(b.$$.fragment),k=q(),D=T("div"),I=T("div"),C=T("input"),P=q(),R=T("div"),O=T("label"),U=le("Monochrome"),z=q(),F=T("p"),y=le("If the dither should be monochrome, or in color"),N=q(),K&&K.c(),L=q(),Se(A.$$.fragment),ie=q(),H=T("button"),Se(X.$$.fragment),ae=le(`
			Save`),se=q(),J=T("section"),j&&j.c(),this.h()},l(E){qr("svelte-1hm2pfs",pr.head).forEach(w),t=W(E),r=x(E,"MAIN",{class:!0});var be=B(r);n=x(be,"SECTION",{class:!0});var Q=B(n);Ie(s.$$.fragment,Q),o=W(Q),Ie(l.$$.fragment,Q),u=W(Q),Ie(f.$$.fragment,Q),p=W(Q),Ie(b.$$.fragment,Q),k=W(Q),D=x(Q,"DIV",{class:!0});var ve=B(D);I=x(ve,"DIV",{class:!0});var ge=B(I);C=x(ge,"INPUT",{type:!0,class:!0}),ge.forEach(w),P=W(ve),R=x(ve,"DIV",{class:!0});var me=B(R);O=x(me,"LABEL",{for:!0,class:!0});var Me=B(O);U=ue(Me,"Monochrome"),Me.forEach(w),z=W(me),F=x(me,"P",{id:!0,class:!0});var We=B(F);y=ue(We,"If the dither should be monochrome, or in color"),We.forEach(w),me.forEach(w),ve.forEach(w),N=W(Q),K&&K.l(Q),L=W(Q),Ie(A.$$.fragment,Q),ie=W(Q),H=x(Q,"BUTTON",{type:!0,class:!0});var Ye=B(H);Ie(X.$$.fragment,Ye),ae=ue(Ye,`
			Save`),Ye.forEach(w),Q.forEach(w),se=W(be),J=x(be,"SECTION",{class:!0});var tt=B(J);j&&j.l(tt),tt.forEach(w),be.forEach(w),this.h()},h(){pr.title="Dithering",d(C,"type","checkbox"),d(C,"class","h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"),d(I,"class","flex h-6 items-center"),d(O,"for","comments"),d(O,"class","font-medium text-gray-900"),d(F,"id","comments-description"),d(F,"class","text-gray-500"),d(R,"class","ml-3 text-sm leading-6"),d(D,"class","relative flex items-start"),d(H,"type","button"),d(H,"class","rounded-md bg-indigo-600 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2"),d(n,"class","bg-white px-4 w-full max-w-md py-8 border-r border-gray-100 overflow-y-auto grid gap-4 shadow-md"),d(J,"class","bg-gray-300 flex-1 overflow-hidden touch-manipulation select-none"),d(r,"class","w-screen max-w-screen h-screen max-h-screen flex")},m(E,ne){he(E,t,ne),he(E,r,ne),g(r,n),Be(s,n,null),g(n,o),Be(l,n,null),g(n,u),Be(f,n,null),g(n,p),Be(b,n,null),g(n,k),g(n,D),g(D,I),g(I,C),C.checked=e[5],g(D,P),g(D,R),g(R,O),g(O,U),g(R,z),g(R,F),g(F,y),g(n,N),K&&K.m(n,null),g(n,L),Be(A,n,null),g(n,ie),g(n,H),Be(X,H,null),g(H,ae),g(r,se),g(r,J),j&&j.m(J,null),re=!0,$||(Y=[fe(C,"change",e[17]),fe(H,"click",e[11])],$=!0)},p(E,[ne]){const be={};!i&&ne&2&&(i=!0,be.image=E[1],Ge(()=>i=!1)),s.$set(be);const Q={};!c&&ne&512&&(c=!0,Q.selected=E[9],Ge(()=>c=!1)),l.$set(Q);const ve={};ne&8&&(ve.label="Threshold ("+E[3]+")"),!m&&ne&8&&(m=!0,ve.value=E[3],Ge(()=>m=!1)),f.$set(ve);const ge={};ne&16&&(ge.label="Noise Intensity ("+E[4]+")"),!S&&ne&16&&(S=!0,ge.value=E[4],Ge(()=>S=!1)),b.$set(ge),ne&32&&(C.checked=E[5]),E[5]?K?K.p(E,ne):(K=br(E),K.c(),K.m(n,L)):K&&(K.d(1),K=null);const me={};!G&&ne&1&&(G=!0,me.width=E[0],Ge(()=>G=!1)),!te&&ne&4&&(te=!0,me.aspectRatio=E[2],Ge(()=>te=!1)),A.$set(me),E[1]?j?j.p(E,ne):(j=_r(E),j.c(),j.m(J,null)):j&&(j.d(1),j=null)},i(E){re||(Re(s.$$.fragment,E),Re(l.$$.fragment,E),Re(f.$$.fragment,E),Re(b.$$.fragment,E),Re(A.$$.fragment,E),Re(X.$$.fragment,E),re=!0)},o(E){De(s.$$.fragment,E),De(l.$$.fragment,E),De(f.$$.fragment,E),De(b.$$.fragment,E),De(A.$$.fragment,E),De(X.$$.fragment,E),re=!1},d(E){E&&w(t),E&&w(r),Le(s),Le(l),Le(f),Le(b),K&&K.d(),Le(A),Le(X),j&&j.d(),$=!1,qe(Y)}}}function fo(e,t,r){let n,s,i=.33,o=.3,l=!1,c="#ede6cc",u="#21263f",f=!0,m=600,p="blue_noise",b=null;Wr(()=>{r(8,f=Number.isInteger(window.devicePixelRatio))});function S(){const y=document.querySelector("canvas");if(!y)return;const N=document.createElement("canvas");N.width=y.width,N.height=y.height;const L=N.getContext("2d");if(!L)return;L.drawImage(y,0,0,m,n);const A=document.createElement("a");A.download="dithered.png",A.href=N.toDataURL("image/png"),A.click()}function k(y,N){const L=Wn(y,N);return{destroy:()=>L.dispose()}}function D(y){b=y,r(1,b)}function I(y){p=y,r(9,p)}function C(y){i=y,r(3,i)}function P(y){o=y,r(4,o)}function R(){l=this.checked,r(5,l)}function O(){c=this.value,r(6,c)}function U(){u=this.value,r(7,u)}function z(y){m=y,r(0,m)}function F(y){s=y,r(2,s),r(1,b)}return e.$$.update=()=>{e.$$.dirty&2&&r(2,s=b!=null&&b.width&&(b!=null&&b.height)?b.width/b.height:1),e.$$.dirty&5&&r(10,n=m/s)},[m,b,s,i,o,l,c,u,f,p,n,S,k,D,I,C,P,R,O,U,z,F]}class go extends Je{constructor(t){super(),$e(this,t,fo,co,et,{})}}export{go as component};
