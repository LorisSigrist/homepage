import{S as Ke,i as je,s as Qe,k as T,q as ae,a as X,y as Se,l as x,m as A,r as se,h as w,c as V,z as Ie,n as f,b as fe,G as p,A as Re,N as ce,g as we,d as ye,B as Be,O as Je,P as Or,Q as Zt,u as xt,H as Ee,R as zr,T as Gr,U as qe,V as Xr,K as Wt,L as qt,W as mt,M as Yt,C as Vr,D as Zr,E as Wr,F as qr,X as Yr,w as Fe,Y as Ze,J as Hr,Z as We,_ as Ht,$ as Kr}from"../chunks/index.2cc1606c.js";import{I as _r,L as jr,A as Qr}from"../chunks/Icon.cdcb3e71.js";import{g as Jr}from"../chunks/_commonjsHelpers.725317a4.js";function $r(e){let t,r,n,a,o,i,l,u,c,d,m,g,b,S,I,U,R,D,N,B,Y,L,P,z,C,O;return b=new _r({props:{src:jr,class:"w-4 h-4",solid:!0}}),{c(){t=T("fieldset"),r=T("div"),n=T("label"),a=ae("Width"),o=X(),i=T("div"),l=T("input"),u=X(),c=T("div"),d=ae("px"),m=X(),g=T("span"),Se(b.$$.fragment),S=X(),I=T("div"),U=T("label"),R=ae("Height"),D=X(),N=T("div"),B=T("input"),Y=X(),L=T("div"),P=ae("px"),this.h()},l(M){t=x(M,"FIELDSET",{class:!0});var E=A(t);r=x(E,"DIV",{class:!0});var k=A(r);n=x(k,"LABEL",{for:!0,class:!0});var G=A(n);a=se(G,"Width"),G.forEach(w),o=V(k),i=x(k,"DIV",{class:!0});var ne=A(i);l=x(ne,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),u=V(ne),c=x(ne,"DIV",{class:!0});var le=A(c);d=se(le,"px"),le.forEach(w),ne.forEach(w),k.forEach(w),m=V(E),g=x(E,"SPAN",{class:!0});var H=A(g);Ie(b.$$.fragment,H),H.forEach(w),S=V(E),I=x(E,"DIV",{class:!0});var re=A(I);U=x(re,"LABEL",{for:!0,class:!0});var Q=A(U);R=se(Q,"Height"),Q.forEach(w),D=V(re),N=x(re,"DIV",{class:!0});var ie=A(N);B=x(ie,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),Y=V(ie),L=x(ie,"DIV",{class:!0});var te=A(L);P=se(te,"px"),te.forEach(w),ie.forEach(w),re.forEach(w),E.forEach(w),this.h()},h(){f(n,"for","width-"+e[4]),f(n,"class","block text-sm font-medium leading-6 text-gray-900"),f(l,"name","width"),f(l,"id","width-"+e[4]),f(l,"type","number"),f(l,"min","12"),f(l,"max","3000"),f(l,"step","1"),l.value=e[0],f(l,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),f(l,"placeholder","600"),f(c,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),f(i,"class","relative mt-2 rounded-md shadow-sm"),f(r,"class","w-full"),f(g,"class","text-gray-500 pb-2 cursor-not-allowed"),f(U,"for","height-"+e[5]),f(U,"class","block text-sm font-medium leading-6 text-gray-900"),f(B,"type","number"),f(B,"id","height-"+e[5]),f(B,"name","height"),f(B,"min","12"),f(B,"max","3000"),f(B,"step","1"),B.value=e[1],f(B,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),f(B,"placeholder","340"),f(L,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),f(N,"class","relative mt-2 rounded-md shadow-sm"),f(I,"class","w-full"),f(t,"class","flex gap-3 items-end justify-between")},m(M,E){fe(M,t,E),p(t,r),p(r,n),p(n,a),p(r,o),p(r,i),p(i,l),p(i,u),p(i,c),p(c,d),p(t,m),p(t,g),Re(b,g,null),p(t,S),p(t,I),p(I,U),p(U,R),p(I,D),p(I,N),p(N,B),p(N,Y),p(N,L),p(L,P),z=!0,C||(O=[ce(l,"input",e[2]),ce(B,"input",e[3])],C=!0)},p(M,[E]){(!z||E&1&&l.value!==M[0])&&(l.value=M[0]),(!z||E&2&&B.value!==M[1])&&(B.value=M[1])},i(M){z||(we(b.$$.fragment,M),z=!0)},o(M){ye(b.$$.fragment,M),z=!1},d(M){M&&w(t),Be(b),C=!1,Je(O)}}}function Kt(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function en(e,t,r){let n,{width:a}=t,{aspectRatio:o}=t;function i(d){const m=d.target.value;m&&r(0,a=m)}function l(d){const m=d.target.value;m&&r(0,a=Math.round(o*m))}let u=Kt(),c=Kt();return e.$$set=d=>{"width"in d&&r(0,a=d.width),"aspectRatio"in d&&r(6,o=d.aspectRatio)},e.$$.update=()=>{e.$$.dirty&65&&r(1,n=Math.round(a/o))},[a,n,i,l,u,c,o]}class tn extends Ke{constructor(t){super(),je(this,t,en,$r,Qe,{width:0,aspectRatio:6})}}function jt(e,t,r){const n=e.slice();return n[6]=t[r],n}function Qt(e){let t,r=e[6].name+"",n,a,o;return{c(){t=T("option"),n=ae(r),this.h()},l(i){t=x(i,"OPTION",{});var l=A(t);n=se(l,r),l.forEach(w),this.h()},h(){t.__value=a=e[6].value,t.value=t.__value,t.selected=o=e[6].value===e[0]},m(i,l){fe(i,t,l),p(t,n)},p(i,l){l&2&&r!==(r=i[6].name+"")&&xt(n,r),l&2&&a!==(a=i[6].value)&&(t.__value=a,t.value=t.__value),l&3&&o!==(o=i[6].value===i[0])&&(t.selected=o)},d(i){i&&w(t)}}}function rn(e){let t,r,n,a,o,i,l,u=e[1],c=[];for(let d=0;d<u.length;d+=1)c[d]=Qt(jt(e,u,d));return{c(){t=T("div"),r=T("label"),n=ae(e[2]),a=X(),o=T("select");for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){t=x(d,"DIV",{});var m=A(t);r=x(m,"LABEL",{for:!0,class:!0});var g=A(r);n=se(g,e[2]),g.forEach(w),a=V(m),o=x(m,"SELECT",{id:!0,name:!0,class:!0});var b=A(o);for(let S=0;S<c.length;S+=1)c[S].l(b);b.forEach(w),m.forEach(w),this.h()},h(){f(r,"for",e[4]),f(r,"class","block text-sm font-medium leading-6 text-gray-900"),f(o,"id",e[4]),f(o,"name",e[3]),f(o,"class","mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"),e[0]===void 0&&Or(()=>e[5].call(o))},m(d,m){fe(d,t,m),p(t,r),p(r,n),p(t,a),p(t,o);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(o,null);Zt(o,e[0],!0),i||(l=ce(o,"change",e[5]),i=!0)},p(d,[m]){if(m&4&&xt(n,d[2]),m&3){u=d[1];let g;for(g=0;g<u.length;g+=1){const b=jt(d,u,g);c[g]?c[g].p(b,m):(c[g]=Qt(b),c[g].c(),c[g].m(o,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=u.length}m&8&&f(o,"name",d[3]),m&3&&Zt(o,d[0])},i:Ee,o:Ee,d(d){d&&w(t),zr(c,d),i=!1,l()}}}function nn(e,t,r){let{options:n}=t,{selected:a}=t,{label:o}=t,{name:i=void 0}=t,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function u(){a=Gr(this),r(0,a),r(1,n)}return e.$$set=c=>{"options"in c&&r(1,n=c.options),"selected"in c&&r(0,a=c.selected),"label"in c&&r(2,o=c.label),"name"in c&&r(3,i=c.name)},[a,n,o,i,l,u]}class on extends Ke{constructor(t){super(),je(this,t,nn,rn,Qe,{options:1,selected:0,label:2,name:3})}}function an(e){let t,r,n,a,o,i,l;return{c(){t=T("div"),r=T("label"),n=ae(e[1]),a=X(),o=T("input"),this.h()},l(u){t=x(u,"DIV",{});var c=A(t);r=x(c,"LABEL",{for:!0,class:!0});var d=A(r);n=se(d,e[1]),d.forEach(w),a=V(c),o=x(c,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,name:!0,class:!0}),c.forEach(w),this.h()},h(){f(r,"for",e[6]),f(r,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),f(o,"id",e[6]),f(o,"type","range"),f(o,"min",e[3]),f(o,"max",e[4]),f(o,"step",e[5]),f(o,"name",e[2]),f(o,"class","w-full h-1.5 mb-6 bg-white ring-1 ring-gray-300 shadow-sm rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700")},m(u,c){fe(u,t,c),p(t,r),p(r,n),p(t,a),p(t,o),qe(o,e[0]),i||(l=[ce(o,"change",e[7]),ce(o,"input",e[7])],i=!0)},p(u,[c]){c&2&&xt(n,u[1]),c&8&&f(o,"min",u[3]),c&16&&f(o,"max",u[4]),c&32&&f(o,"step",u[5]),c&4&&f(o,"name",u[2]),c&1&&qe(o,u[0])},i:Ee,o:Ee,d(u){u&&w(t),i=!1,Je(l)}}}function sn(e,t,r){let{label:n}=t,{name:a=void 0}=t,{min:o=null}=t,{max:i=null}=t,{value:l=0}=t,{step:u=1}=t,c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function d(){l=Xr(this.value),r(0,l)}return e.$$set=m=>{"label"in m&&r(1,n=m.label),"name"in m&&r(2,a=m.name),"min"in m&&r(3,o=m.min),"max"in m&&r(4,i=m.max),"value"in m&&r(0,l=m.value),"step"in m&&r(5,u=m.step)},[l,n,a,o,i,u,c,d]}class Jt extends Ke{constructor(t){super(),je(this,t,sn,an,Qe,{label:1,name:2,min:3,max:4,value:0,step:5})}}var gt={exports:{}};gt.exports=wr;gt.exports.addWheelListener=wr;gt.exports.removeWheelListener=ln;function wr(e,t,r){e.addEventListener("wheel",t,r)}function ln(e,t,r){e.removeEventListener("wheel",t,r)}var un=gt.exports,pt={exports:{}},cn=4,fn=.001,dn=1e-7,mn=10,nt=11,ct=1/(nt-1),hn=typeof Float32Array=="function";function yr(e,t){return 1-3*t+3*e}function Er(e,t){return 3*t-6*e}function Tr(e){return 3*e}function ht(e,t,r){return((yr(t,r)*e+Er(t,r))*e+Tr(t))*e}function xr(e,t,r){return 3*yr(t,r)*e*e+2*Er(t,r)*e+Tr(t)}function vn(e,t,r,n,a){var o,i,l=0;do i=t+(r-t)/2,o=ht(i,n,a)-e,o>0?r=i:t=i;while(Math.abs(o)>dn&&++l<mn);return i}function gn(e,t,r,n){for(var a=0;a<cn;++a){var o=xr(t,r,n);if(o===0)return t;var i=ht(t,r,n)-e;t-=i/o}return t}function pn(e){return e}var bn=function(t,r,n,a){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===a)return pn;for(var o=hn?new Float32Array(nt):new Array(nt),i=0;i<nt;++i)o[i]=ht(i*ct,t,n);function l(u){for(var c=0,d=1,m=nt-1;d!==m&&o[d]<=u;++d)c+=ct;--d;var g=(u-o[d])/(o[d+1]-o[d]),b=c+g*ct,S=xr(b,t,n);return S>=fn?gn(u,b,t,n):S===0?b:vn(u,c,c+ct,t,n)}return function(c){return c===0?0:c===1?1:ht(l(c),r,a)}},rt=bn,$t={ease:rt(.25,.1,.25,1),easeIn:rt(.42,0,1,1),easeOut:rt(0,0,.58,1),easeInOut:rt(.42,0,.58,1),linear:rt(0,0,1,1)};pt.exports=_n;pt.exports.makeAggregateRaf=Ar;pt.exports.sharedScheduler=Ar();function _n(e,t,r){var n=Object.create(null),a=Object.create(null);r=r||{};var o=typeof r.easing=="function"?r.easing:$t[r.easing];o||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),o=$t.ease);var i=typeof r.step=="function"?r.step:er,l=typeof r.done=="function"?r.done:er,u=wn(r.scheduler),c=Object.keys(t);c.forEach(function(R){n[R]=e[R],a[R]=t[R]-e[R]});var d=typeof r.duration=="number"?r.duration:400,m=Math.max(1,d*.06),g,b=0;return g=u.next(I),{cancel:S};function S(){u.cancel(g),g=0}function I(){var R=o(b/m);b+=1,U(R),b<=m?(g=u.next(I),i(e)):(g=0,setTimeout(function(){l(e)},0))}function U(R){c.forEach(function(D){e[D]=a[D]*R+n[D]})}}function er(){}function wn(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?yn():En()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function yn(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function En(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Ar(){var e=new Set,t=new Set,r=0;return{next:a,cancel:a,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function a(l){t.add(l),o()}function o(){r||(r=requestAnimationFrame(i))}function i(){r=0;var l=t;t=e,e=l,e.forEach(function(u){u()}),e.clear()}}var Tn=pt.exports,xn=function(t){Sn(t);var r=An(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function An(e){var t=Object.create(null);return{on:function(r,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:a}),e},off:function(r,n){var a=typeof r>"u";if(a)return t=Object.create(null),e;if(t[r]){var o=typeof n!="function";if(o)delete t[r];else for(var i=t[r],l=0;l<i.length;++l)i[l].callback===n&&i.splice(l,1)}return e},fire:function(r){var n=t[r];if(!n)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var o=0;o<n.length;++o){var i=n[o];i.callback.apply(i.ctx,a)}return e}}}function Sn(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var In=Rn;function Rn(e,t,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,a=typeof r.amplitude=="number"?r.amplitude:.25,o=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:Bn(),i=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:Dn(),l,u,c=342,d,m,g,b,S,I,U,R;return{start:N,stop:Y,cancel:D};function D(){o(d),o(R)}function N(){l=e(),b=U=m=S=0,u=new Date,o(d),o(R),d=i(B)}function B(){var P=Date.now(),z=P-u;u=P;var C=e(),O=C.x-l.x,M=C.y-l.y;l=C;var E=1e3/(1+z);m=.8*O*E+.2*m,S=.8*M*E+.2*S,d=i(B)}function Y(){o(d),o(R);var P=e();g=P.x,I=P.y,u=Date.now(),(m<-n||m>n)&&(b=a*m,g+=b),(S<-n||S>n)&&(U=a*S,I+=U),R=i(L)}function L(){var P=Date.now()-u,z=!1,C=0,O=0;b&&(C=-b*Math.exp(-P/c),C>.5||C<-.5?z=!0:C=b=0),U&&(O=-U*Math.exp(-P/c),O>.5||O<-.5?z=!0:O=U=0),z&&(t(g+C,I+O),R=i(L))}}function Bn(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Dn(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var Ln=Cn;function Cn(e){if(e)return{capture:rr,release:rr};var t,r,n,a=!1;return{capture:o,release:i};function o(l){a=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=tr,t=l,t.ondragstart=tr}function i(){a&&(a=!1,window.document.onselectstart=r,t&&(t.ondragstart=n))}}function tr(e){return e.stopPropagation(),!1}function rr(){}var _t,nr;function kn(){if(nr)return _t;nr=1,_t=e;function e(){this.x=0,this.y=0,this.scale=1}return _t}var ft={exports:{}},or;function Fn(){if(or)return ft.exports;or=1,ft.exports=e,ft.exports.canAttach=t;function e(r,n){if(!t(r))throw new Error("svg element is required for svg.panzoom to work");var a=r.ownerSVGElement;if(!a)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");n.disableKeyboardInteraction||a.setAttribute("tabindex",0);var o={getBBox:l,getScreenCTM:u,getOwner:i,applyTransform:d,initTransform:c};return o;function i(){return a}function l(){var m=r.getBBox();return{left:m.x,top:m.y,width:m.width,height:m.height}}function u(){var m=a.getCTM();return m||a.getScreenCTM()}function c(m){var g=r.getCTM();g===null&&(g=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),m.x=g.e,m.y=g.f,m.scale=g.a,a.removeAttributeNS(null,"viewBox")}function d(m){r.setAttribute("transform","matrix("+m.scale+" 0 0 "+m.scale+" "+m.x+" "+m.y+")")}}function t(r){return r&&r.ownerSVGElement&&r.getCTM}return ft.exports}var dt={exports:{}},ir;function Mn(){if(ir)return dt.exports;ir=1,dt.exports=e,dt.exports.canAttach=t;function e(r,n){var a=t(r);if(!a)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var o=r.parentElement;r.scrollTop=0,n.disableKeyboardInteraction||o.setAttribute("tabindex",0);var i={getBBox:u,getOwner:l,applyTransform:c};return i;function l(){return o}function u(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function c(d){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+d.scale+", 0, 0, "+d.scale+", "+d.x+", "+d.y+")"}}function t(r){return r&&r.parentElement&&r.style}return dt.exports}var ar=un,wt=Tn,Un=xn,Nn=In,Sr=Ln,Pn=Sr(),On=Sr(!0),zn=kn(),sr=Fn(),lr=Mn(),Gn=1,Xn=1.75,ur=300,cr=200,Vn=Ir;function Ir(e,t){t=t||{};var r=t.controller;if(r||(sr.canAttach(e)?r=sr(e,t):lr.canAttach(e)&&(r=lr(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),a={x:0,y:0},o=!1,i=new zn;r.initTransform&&r.initTransform(i);var l=typeof t.filterKey=="function"?t.filterKey:He,u=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,c=t.bounds,d=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,m=typeof t.minZoom=="number"?t.minZoom:0,g=typeof t.boundsPadding=="number"?t.boundsPadding:.05,b=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Xn,S=t.beforeWheel||He,I=t.beforeMouseDown||He,U=typeof t.zoomSpeed=="number"?t.zoomSpeed:Gn,R=fr(t.transformOrigin),D=t.enableTextSelection?On:Pn;Zn(c),t.autocenter&&Te();var N,B=0,Y=0,L=0,P=null,z=new Date,C,O=!1,M=!1,E,k,G,ne,le,H;"smoothScroll"in t&&!t.smoothScroll?H=Wn():H=Nn(K,Br,t.smoothScroll);var re,Q,ie,te=!1;At();var J={dispose:Dr,moveBy:Ge,moveTo:he,smoothMoveTo:Rr,centerOn:it,zoomTo:lt,zoomAbs:Ce,smoothZoom:st,smoothZoomAbs:Nr,showRectangle:Ue,pause:be,resume:Me,isPaused:de,getTransform:Le,getMinZoom:ee,setMinZoom:Ne,getMaxZoom:Pe,setMaxZoom:xe,getTransformOrigin:ot,setTransformOrigin:Oe,getZoomSpeed:me,setZoomSpeed:y};Un(J);var q=typeof t.initialX=="number"?t.initialX:i.x,$=typeof t.initialY=="number"?t.initialY:i.y,De=typeof t.initialZoom=="number"?t.initialZoom:i.scale;return(q!=i.x||$!=i.y||De!=i.scale)&&Ce(q,$,De),J;function be(){St(),te=!0}function Me(){te&&(At(),te=!1)}function de(){return te}function Ue(s){var h=n.getBoundingClientRect(),v=ue(h.width,h.height),_=s.right-s.left,F=s.bottom-s.top;if(!Number.isFinite(_)||!Number.isFinite(F))throw new Error("Invalid rectangle");var Z=v.x/_,W=v.y/F,oe=Math.min(Z,W);i.x=-(s.left+_/2)*oe+v.x/2,i.y=-(s.top+F/2)*oe+v.y/2,i.scale=oe}function ue(s,h){if(r.getScreenCTM){var v=r.getScreenCTM(),_=v.a,F=v.d,Z=v.e,W=v.f;a.x=s*_-Z,a.y=h*F-W}else a.x=s,a.y=h;return a}function Te(){var s,h,v=0,_=0,F=ve();if(F)v=F.left,_=F.top,s=F.right-F.left,h=F.bottom-F.top;else{var Z=n.getBoundingClientRect();s=Z.width,h=Z.height}var W=r.getBBox();if(!(W.width===0||W.height===0)){var oe=h/W.height,Ve=s/W.width,ke=Math.min(Ve,oe);i.x=-(W.left+W.width/2)*ke+s/2+v,i.y=-(W.top+W.height/2)*ke+h/2+_,i.scale=ke}}function Le(){return i}function ee(){return m}function Ne(s){m=s}function Pe(){return d}function xe(s){d=s}function ot(){return R}function Oe(s){R=fr(s)}function me(){return U}function y(s){if(!Number.isFinite(s))throw new Error("Zoom speed should be a number");U=s}function K(){return{x:i.x,y:i.y}}function he(s,h){i.x=s,i.y=h,j(),Xe("pan"),ze()}function ge(s,h){he(i.x+s,i.y+h)}function j(){var s=ve();if(s){var h=!1,v=Ae(),_=s.left-v.right;return _>0&&(i.x+=_,h=!0),_=s.right-v.left,_<0&&(i.x+=_,h=!0),_=s.top-v.bottom,_>0&&(i.y+=_,h=!0),_=s.bottom-v.top,_<0&&(i.y+=_,h=!0),h}}function ve(){if(c){if(typeof c=="boolean"){var s=n.getBoundingClientRect(),h=s.width,v=s.height;return{left:h*g,top:v*g,right:h*(1-g),bottom:v*(1-g)}}return c}}function Ae(){var s=r.getBBox(),h=pe(s.left,s.top);return{left:h.x,top:h.y,right:s.width*i.scale+h.x,bottom:s.height*i.scale+h.y}}function pe(s,h){return{x:s*i.scale+i.x,y:h*i.scale+i.y}}function ze(){o=!0,N=window.requestAnimationFrame(Lr)}function $e(s,h,v){if(yt(s)||yt(h)||yt(v))throw new Error("zoom requires valid numbers");var _=i.scale*v;if(_<m){if(i.scale===m)return;v=m/i.scale}if(_>d){if(i.scale===d)return;v=d/i.scale}var F=ue(s,h);if(i.x=F.x-v*(F.x-i.x),i.y=F.y-v*(F.y-i.y),c&&g===1&&m===1)i.scale*=v,j();else{var Z=j();Z||(i.scale*=v)}Xe("zoom"),ze()}function Ce(s,h,v){var _=v/i.scale;$e(s,h,_)}function it(s){var h=s.ownerSVGElement;if(!h)throw new Error("ui element is required to be within the scene");var v=s.getBoundingClientRect(),_=v.left+v.width/2,F=v.top+v.height/2,Z=h.getBoundingClientRect(),W=Z.width/2-_,oe=Z.height/2-F;Ge(W,oe,!0)}function Rr(s,h){Ge(s-i.x,h-i.y,!0)}function Ge(s,h,v){if(!v)return ge(s,h);re&&re.cancel();var _={x:0,y:0},F={x:s,y:h},Z=0,W=0;re=wt(_,F,{step:function(oe){ge(oe.x-Z,oe.y-W),Z=oe.x,W=oe.y}})}function Br(s,h){ut(),he(s,h)}function Dr(){St()}function At(){n.addEventListener("mousedown",Ft,{passive:!1}),n.addEventListener("dblclick",kt,{passive:!1}),n.addEventListener("touchstart",Rt,{passive:!1}),n.addEventListener("keydown",It,{passive:!1}),ar.addWheelListener(n,Ot,{passive:!1}),ze()}function St(){ar.removeWheelListener(n,Ot),n.removeEventListener("mousedown",Ft),n.removeEventListener("keydown",It),n.removeEventListener("dblclick",kt),n.removeEventListener("touchstart",Rt),N&&(window.cancelAnimationFrame(N),N=0),H.cancel(),Nt(),Pt(),D.release(),bt()}function Lr(){o&&Cr()}function Cr(){o=!1,r.applyTransform(i),Xe("transform"),N=0}function It(s){var h=0,v=0,_=0;if(s.keyCode===38?v=1:s.keyCode===40?v=-1:s.keyCode===37?h=1:s.keyCode===39?h=-1:s.keyCode===189||s.keyCode===109?_=1:(s.keyCode===187||s.keyCode===107)&&(_=-1),!l(s,h,v,_)){if(h||v){s.preventDefault(),s.stopPropagation();var F=n.getBoundingClientRect(),Z=Math.min(F.width,F.height),W=.05,oe=Z*W*h,Ve=Z*W*v;Ge(oe,Ve)}if(_){var ke=zt(_*100),Z=R?tt():kr();lt(Z.x,Z.y,ke)}}}function kr(){var s=n.getBoundingClientRect();return{x:s.width/2,y:s.height/2}}function Rt(s){if(Fr(s),et(),s.touches.length===1)return Ur(s,s.touches[0]);s.touches.length===2&&(le=Ct(s.touches[0],s.touches[1]),ie=!0,Bt())}function Fr(s){t.onTouch&&!t.onTouch(s)||(s.stopPropagation(),s.preventDefault())}function Mr(s){et(),!(t.onDoubleClick&&!t.onDoubleClick(s))&&(s.preventDefault(),s.stopPropagation())}function Ur(s){Y=new Date;var h=s.touches[0],v=_e(h);C=v;var _=ue(v.x,v.y);E=_.x,k=_.y,G=E,ne=k,H.cancel(),Bt()}function Bt(){O||(O=!0,document.addEventListener("touchmove",Dt),document.addEventListener("touchend",at),document.addEventListener("touchcancel",at))}function Dt(s){if(s.touches.length===1){s.stopPropagation();var h=s.touches[0],v=_e(h),_=ue(v.x,v.y),F=_.x-E,Z=_.y-k;F!==0&&Z!==0&&Gt(),E=_.x,k=_.y,Ge(F,Z)}else if(s.touches.length===2){ie=!0;var W=s.touches[0],oe=s.touches[1],Ve=Ct(W,oe),ke=1+(Ve/le-1)*u,Xt=_e(W),Vt=_e(oe);if(E=(Xt.x+Vt.x)/2,k=(Xt.y+Vt.y)/2,R){var v=tt();E=v.x,k=v.y}lt(E,k,ke),le=Ve,s.stopPropagation(),s.preventDefault()}}function et(){L&&(clearTimeout(L),L=0)}function Lt(s){if(t.onClick){et();var h=E-G,v=k-ne,_=Math.sqrt(h*h+v*v);_>5||(L=setTimeout(function(){L=0,t.onClick(s)},ur))}}function at(s){if(et(),s.touches.length>0){var h=_e(s.touches[0]),v=ue(h.x,h.y);E=v.x,k=v.y}else{var _=new Date;if(_-B<ur)if(R){var h=tt();st(h.x,h.y,b)}else st(C.x,C.y,b);else _-Y<cr&&Lt(s);B=_,bt(),Pt()}}function Ct(s,h){var v=s.clientX-h.clientX,_=s.clientY-h.clientY;return Math.sqrt(v*v+_*_)}function kt(s){Mr(s);var h=_e(s);R&&(h=tt()),st(h.x,h.y,b)}function Ft(s){if(et(),!I(s)){if(P=s,z=new Date,O)return s.stopPropagation(),!1;var h=s.button===1&&window.event!==null||s.button===0;if(h){H.cancel();var v=_e(s),_=ue(v.x,v.y);return G=E=_.x,ne=k=_.y,document.addEventListener("mousemove",Mt),document.addEventListener("mouseup",Ut),D.capture(s.target||s.srcElement),!1}}}function Mt(s){if(!O){Gt();var h=_e(s),v=ue(h.x,h.y),_=v.x-E,F=v.y-k;E=v.x,k=v.y,Ge(_,F)}}function Ut(){var s=new Date;s-z<cr&&Lt(P),D.release(),bt(),Nt()}function Nt(){document.removeEventListener("mousemove",Mt),document.removeEventListener("mouseup",Ut),M=!1}function Pt(){document.removeEventListener("touchmove",Dt),document.removeEventListener("touchend",at),document.removeEventListener("touchcancel",at),M=!1,ie=!1,O=!1}function Ot(s){if(!S(s)){H.cancel();var h=s.deltaY;s.deltaMode>0&&(h*=100);var v=zt(h);if(v!==1){var _=R?tt():_e(s);lt(_.x,_.y,v),s.preventDefault()}}}function _e(s){var h,v,_=n.getBoundingClientRect();return h=s.clientX-_.left,v=s.clientY-_.top,{x:h,y:v}}function st(s,h,v){var _=i.scale,F={scale:_},Z={scale:v*_};H.cancel(),ut(),Q=wt(F,Z,{step:function(W){Ce(s,h,W.scale)},done:Pr})}function Nr(s,h,v){var _=i.scale,F={scale:_},Z={scale:v};H.cancel(),ut(),Q=wt(F,Z,{step:function(W){Ce(s,h,W.scale)}})}function tt(){var s=n.getBoundingClientRect();return{x:s.width*R.x,y:s.height*R.y}}function lt(s,h,v){return H.cancel(),ut(),$e(s,h,v)}function ut(){Q&&(Q.cancel(),Q=null)}function zt(s){var h=Math.sign(s),v=Math.min(.25,Math.abs(U*s/128));return 1-h*v}function Gt(){M||(Xe("panstart"),M=!0,H.start())}function bt(){M&&(ie||H.stop(),Xe("panend"))}function Pr(){Xe("zoomend")}function Xe(s){J.fire(s,J)}}function fr(e){if(e){if(typeof e=="object")return(!Ye(e.x)||!Ye(e.y))&&dr(e),e;dr()}}function dr(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function He(){}function Zn(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var r=Ye(e.left)&&Ye(e.top)&&Ye(e.bottom)&&Ye(e.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Ye(e){return Number.isFinite(e)}function yt(e){return Number.isNaN?Number.isNaN(e):e!==e}function Wn(){return{start:He,stop:He,cancel:He}}function qn(){if(typeof document>"u")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,r=0;r<e.length;++r){var n=e[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){t=n;break}}if(!t)return;var a=t.getAttribute("query");if(!a)return;var o=t.getAttribute("name")||"pz",i=Date.now();l();function l(){var d=document.querySelector(a);if(!d){var m=Date.now(),g=m-i;if(g<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",o);return}var b=u(t);console.log(b),window[o]=Ir(d,b)}function u(d){for(var m=d.attributes,g={},b=0;b<m.length;++b){var S=m[b],I=c(S);I&&(g[I.name]=I.value)}return g}function c(d){if(d.name){var m=d.name[0]==="p"&&d.name[1]==="z"&&d.name[2]==="-";if(m){var g=d.name.substr(3),b=JSON.parse(d.value);return{name:g,value:b}}}}}qn();const Yn=Jr(Vn),Hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAARtJREFUGBkBEAHv/gQAgKB/aX+hf1t/oX9pf6F/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BBB1/XX8Nf01/HX9dfw1/TX8Ev4G/gb+Bv4G/gb+Bv4G/gQRxfzF/cX8xf3F/MX9xfzF/BL+Bv4G/gb+Bv4G/gb+Bv4EECH9Ifxh/WH8Ef0R/FH9UfwS/gb+Bv4G/gb+Bv4G/gb+BBHF/MX9xfzF/cX8xf3F/MX8Ev4G/gb+Bv4G/gb+Bv4G/gQQdf11/DX9Nfx1/XX8Nf01/BL+Bv4G/gb+Bv4G/gb+Bv4EEcX8xf3F/MX9xfzF/cX8xfwS/gb+Bv4G/gb+Bv4G/gb+BIZOCkuKxtP8AAAAASUVORK5CYII=",mr={width:16,height:16},Kn=""+new URL("../assets/blue_noise.b61cfddd.png",import.meta.url).href,hr={width:470,height:470},jn=""+new URL("../assets/white_noise.2f37d8a6.png",import.meta.url).href,vr={width:256,height:256};var Qn="precision highp float;attribute vec2 position;varying vec2 fragCoord;void main(){fragCoord.x=position.x*0.5+0.5;fragCoord.y=position.y*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}",Jn="precision highp float;varying vec2 fragCoord;uniform sampler2D uSampler;uniform float uThreshold;uniform sampler2D uNoiseSampler;uniform vec2 uNoiseSamplerSize;uniform float uNoise;uniform float uMonochrome;uniform vec2 uSize;uniform vec3 uDarkColor;uniform vec3 uLightColor;void main(void){vec2 imgPixel=vec2(fragCoord.x*uSize.x,fragCoord.y*uSize.y);vec2 noisePixel=vec2(mod(imgPixel.x,uNoiseSamplerSize.x),mod(imgPixel.y,uNoiseSamplerSize.y));vec2 noiseUV=vec2(noisePixel.x/uNoiseSamplerSize.x,noisePixel.y/uNoiseSamplerSize.y);float noise=(texture2D(uNoiseSampler,noiseUV).r-0.5)*2.0*uNoise;vec4 color=texture2D(uSampler,fragCoord);float gray=dot(color.rgb,vec3(0.299,0.587,0.114));color.r=color.r*(1.0-uMonochrome)+gray*uMonochrome;color.g=color.g*(1.0-uMonochrome)+gray*uMonochrome;color.b=color.b*(1.0-uMonochrome)+gray*uMonochrome;vec3 thresholds=vec3(step(uThreshold,color.r+noise),step(uThreshold,color.g+noise),step(uThreshold,color.b+noise));if(uMonochrome>0.0){color.rgb=vec3(mix(uDarkColor.r,uLightColor.r,thresholds.r),mix(uDarkColor.g,uLightColor.g,thresholds.g),mix(uDarkColor.b,uLightColor.b,thresholds.b));}else{color.rgb=thresholds;}gl_FragColor=color;}";function $n(e,t,r){const n=gr(e,e.VERTEX_SHADER,t),a=gr(e,e.FRAGMENT_SHADER,r),o=e.createProgram();if(!o)throw new Error("Failed to create shader program");if(e.attachShader(o,n),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw Error(`Unable to initialize the shader program: ${e.getProgramInfoLog(o)}`);return o}function gr(e,t,r){const n=e.createShader(t);if(!n)throw new Error("Failed to create shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(n)}`);return n}function Et(e,t,r=()=>{}){const n=e.createTexture();if(!n)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,n);const a=0,o=e.RGBA,i=1,l=1,u=0,c=e.RGBA,d=e.UNSIGNED_BYTE,m=new Uint8Array([0,0,255,255]);e.texImage2D(e.TEXTURE_2D,a,o,i,l,u,c,d,m);const g=new Image;return g.onload=()=>{e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,a,o,c,d,g),vt(g.width)&&vt(g.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r()},g.src=t,n}function eo(e){const t=e.createTexture();if(!t)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,t);const r=0,n=e.RGBA,a=1,o=1,i=0,l=e.RGBA,u=e.UNSIGNED_BYTE,c=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,r,n,a,o,i,l,u,c),t}function to(e,t,r){const a=e.RGBA,o=e.RGBA,i=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,a,o,i,r),vt(r.width)&&vt(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))}function vt(e){return(e&e-1)===0}function ro(e){const t=e.createBuffer(),r=e.createBuffer(),n=[-1,1,-1,-1,1,-1,1,1],a=[3,2,1,3,1,0];return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(a),e.STATIC_DRAW),{vertex_buffer:t,index_buffer:r}}function no(e,t){let r=t;const n=e.getContext("webgl",{preserveDrawingBuffer:!0});if(!n){alert("WebGL not supported");return}const a=()=>{to(n,D,r.image)};n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);const o=$n(n,Qn,Jn),{vertex_buffer:i,index_buffer:l}=ro(n),u=n.getAttribLocation(o,"position");n.vertexAttribPointer(u,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(u);const c=n.getUniformLocation(o,"uSampler"),d=n.getUniformLocation(o,"uThreshold"),m=n.getUniformLocation(o,"uNoiseSampler"),g=n.getUniformLocation(o,"uNoise"),b=n.getUniformLocation(o,"uSize"),S=n.getUniformLocation(o,"uNoiseSamplerSize"),I=n.getUniformLocation(o,"uMonochrome"),U=n.getUniformLocation(o,"uDarkColor"),R=n.getUniformLocation(o,"uLightColor"),D=eo(n);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),a();const N=Et(n,Hn,z);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0);const B=Et(n,Kn,z);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0);const Y=Et(n,jn,z);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.useProgram(o);let L=null;const P=()=>{switch(n.viewport(0,0,r.width,r.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,l),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,D),n.uniform1i(c,0),r.mode){case"bayer":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,N),n.uniform1i(m,1),n.uniform2f(S,mr.width,mr.height);break;case"blue_noise":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,B),n.uniform1i(m,1),n.uniform2f(S,hr.width,hr.height);break;case"white_noise":n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,Y),n.uniform1i(m,1),n.uniform2f(S,vr.width,vr.height);break}n.uniform1f(d,r.threshold),n.uniform1f(g,r.noiseIntensity),n.uniform2f(b,r.width,r.height),n.uniform1f(I,r.monochrome?1:0),n.uniform3f(U,...pr(r.colorDark)),n.uniform3f(R,...pr(r.colorLight)),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)};function z(){L=requestAnimationFrame(()=>{P(),L=null})}return z(),{update(C){const O=r.image!==C.image;r=C,O&&a(),z()},destroy(){L!==null&&cancelAnimationFrame(L)}}}function pr(e){const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255;return[t,r,n]}const oo=""+new URL("../assets/img.58b560b7.jpg",import.meta.url).href;async function io(e,t,r="png"){const n=new OffscreenCanvas(e.width,e.height),a=n.getContext("2d");if(!a)return;a.drawImage(e,0,0,e.width,e.height);const o=document.createElement("a");o.download=`${t}.${r}`;const i=await n.convertToBlob({type:"image/"+r,quality:1});o.href=URL.createObjectURL(i),console.log(o.href),o.click(),URL.revokeObjectURL(o.href)}function Tt(e){return new Promise((t,r)=>{e.type.startsWith("image/")||r(new Error("Not an image file"));const n=new FileReader;n.onload=a=>{if(typeof n.result!="string")return;const o=new Image;o.onload=()=>{t(o)},o.onerror=i=>{r(i)},o.src=n.result},n.onerror=a=>{r(a)},n.readAsDataURL(e)})}function ao(e){let t;return{c(){t=T("div"),this.h()},l(r){t=x(r,"DIV",{class:!0}),A(t).forEach(w),this.h()},h(){f(t,"class","flex justify-center rounded-lg border border-dashed border-gray-900/25 h-48")},m(r,n){fe(r,t,n)},p:Ee,d(r){r&&w(t)}}}function so(e){let t,r;return{c(){t=T("img"),this.h()},l(n){t=x(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Yt(t.src,r=e[0].src)||f(t,"src",r),f(t,"alt","Your selected image"),f(t,"class","w-full rounded-lg bg-gray-50")},m(n,a){fe(n,t,a)},p(n,a){a&1&&!Yt(t.src,r=n[0].src)&&f(t,"src",r)},d(n){n&&w(t)}}}function lo(e){let t,r,n,a,o,i,l,u,c,d,m,g,b,S,I,U,R,D,N,B,Y,L,P,z,C,O,M,E,k,G,ne,le,H,re,Q;function ie(q,$){return q[0]?so:ao}let te=ie(e),J=te(e);return{c(){t=T("div"),r=T("label"),n=ae("Input Image"),a=X(),o=T("div"),J.c(),i=X(),l=T("div"),u=T("div"),c=Wt("svg"),d=Wt("path"),g=X(),b=T("div"),S=T("label"),I=T("span"),U=ae("Choose an Image"),R=X(),D=T("input"),B=X(),Y=T("p"),L=ae("or drag and drop"),z=X(),C=T("p"),O=ae("PNG, JPG, GIF, etc"),E=X(),k=T("p"),G=T("button"),ne=ae("Or use my cats"),this.h()},l(q){t=x(q,"DIV",{class:!0});var $=A(t);r=x($,"LABEL",{for:!0,class:!0});var De=A(r);n=se(De,"Input Image"),De.forEach(w),a=V($),o=x($,"DIV",{class:!0});var be=A(o);J.l(be),i=V(be),l=x(be,"DIV",{class:!0});var Me=A(l);u=x(Me,"DIV",{class:!0});var de=A(u);c=qt(de,"svg",{class:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var Ue=A(c);d=qt(Ue,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),A(d).forEach(w),Ue.forEach(w),g=V(de),b=x(de,"DIV",{class:!0});var ue=A(b);S=x(ue,"LABEL",{for:!0,class:!0});var Te=A(S);I=x(Te,"SPAN",{});var Le=A(I);U=se(Le,"Choose an Image"),Le.forEach(w),R=V(Te),D=x(Te,"INPUT",{type:!0,class:!0,id:!0,accept:!0}),Te.forEach(w),B=V(ue),Y=x(ue,"P",{class:!0});var ee=A(Y);L=se(ee,"or drag and drop"),ee.forEach(w),ue.forEach(w),z=V(de),C=x(de,"P",{class:!0});var Ne=A(C);O=se(Ne,"PNG, JPG, GIF, etc"),Ne.forEach(w),E=V(de),k=x(de,"P",{});var Pe=A(k);G=x(Pe,"BUTTON",{class:!0});var xe=A(G);ne=se(xe,"Or use my cats"),xe.forEach(w),Pe.forEach(w),de.forEach(w),Me.forEach(w),be.forEach(w),$.forEach(w),this.h()},h(){f(r,"for","cover-photo"),f(r,"class","block text-sm font-medium leading-6 text-gray-900"),f(d,"fill-rule","evenodd"),f(d,"d","M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"),f(d,"clip-rule","evenodd"),f(c,"class",m="mx-auto h-12 w-12 "+(e[0]?"text-white":"text-gray-300")),f(c,"viewBox","0 0 24 24"),f(c,"fill","currentColor"),f(c,"aria-hidden","true"),f(D,"type","file"),f(D,"class","sr-only"),f(D,"id","image-input"),f(D,"accept","image/*"),f(S,"for","image-input"),f(S,"class",N="relative cursor-pointer rounded-md font-semibold "+(e[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"),f(Y,"class","pl-1"),f(b,"class",P="mt-4 flex text-sm leading-6 "+(e[0]?"text-white":"text-gray-600")+" text-center w-fit"),f(C,"class",M="text-xs leading-5 "+(e[0]?"text-white":"text-gray-600")),f(G,"class",le="font-semibold cursor-pointer text-sm "+(e[0]?"text-indigo-500":"text-indigo-600")),f(u,"class","text-center w-fit h-fit"),f(l,"class",H="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(e[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":"")),f(o,"class","mt-2 relative w-full"),f(t,"class","col-span-full")},m(q,$){fe(q,t,$),p(t,r),p(r,n),p(t,a),p(t,o),J.m(o,null),p(o,i),p(o,l),p(l,u),p(u,c),p(c,d),p(u,g),p(u,b),p(b,S),p(S,I),p(I,U),p(S,R),p(S,D),p(b,B),p(b,Y),p(Y,L),p(u,z),p(u,C),p(C,O),p(u,E),p(u,k),p(k,G),p(G,ne),re||(Q=[ce(D,"input",e[1]),ce(G,"click",e[3]),ce(l,"drop",mt(e[2])),ce(l,"dragover",mt(uo))],re=!0)},p(q,[$]){te===(te=ie(q))&&J?J.p(q,$):(J.d(1),J=te(q),J&&(J.c(),J.m(o,i))),$&1&&m!==(m="mx-auto h-12 w-12 "+(q[0]?"text-white":"text-gray-300"))&&f(c,"class",m),$&1&&N!==(N="relative cursor-pointer rounded-md font-semibold "+(q[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500")&&f(S,"class",N),$&1&&P!==(P="mt-4 flex text-sm leading-6 "+(q[0]?"text-white":"text-gray-600")+" text-center w-fit")&&f(b,"class",P),$&1&&M!==(M="text-xs leading-5 "+(q[0]?"text-white":"text-gray-600"))&&f(C,"class",M),$&1&&le!==(le="font-semibold cursor-pointer text-sm "+(q[0]?"text-indigo-500":"text-indigo-600"))&&f(G,"class",le),$&1&&H!==(H="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(q[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":""))&&f(l,"class",H)},i:Ee,o:Ee,d(q){q&&w(t),J.d(),re=!1,Je(Q)}}}const uo=()=>{};function co(e,t,r){let{image:n=null}=t;async function a(l){const u=l.target.files[0];u&&(r(0,n=await Tt(u)),l.target&&"blur"in l.target&&typeof l.target.blur=="function"&&l.target.blur())}async function o(l){var c;const u=(c=l.dataTransfer)==null?void 0:c.files[0];u&&r(0,n=await Tt(u))}function i(l){const u=new Image;u.onload=()=>{r(0,n=u)},u.src=oo,l.target&&"blur"in l.target&&typeof l.target.blur=="function"&&l.target.blur()}return e.$$set=l=>{"image"in l&&r(0,n=l.image)},[n,a,o,i]}class fo extends Ke{constructor(t){super(),je(this,t,co,lo,Qe,{image:0})}}function mo(e){let t,r,n,a,o;const i=e[3].default,l=Vr(i,e,e[2],null);return{c(){t=T("button"),l&&l.c(),this.h()},l(u){t=x(u,"BUTTON",{type:!0,class:!0});var c=A(t);l&&l.l(c),c.forEach(w),this.h()},h(){t.disabled=e[0],f(t,"type","button"),f(t,"class",r=e[1][e[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2")},m(u,c){fe(u,t,c),l&&l.m(t,null),n=!0,a||(o=ce(t,"click",e[4]),a=!0)},p(u,[c]){l&&l.p&&(!n||c&4)&&Zr(l,i,u,u[2],n?qr(i,u[2],c,null):Wr(u[2]),null),(!n||c&1)&&(t.disabled=u[0]),(!n||c&1&&r!==(r=u[1][u[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2"))&&f(t,"class",r)},i(u){n||(we(l,u),n=!0)},o(u){ye(l,u),n=!1},d(u){u&&w(t),l&&l.d(u),a=!1,o()}}}function ho(e,t,r){let{$$slots:n={},$$scope:a}=t,{disabled:o=!1}=t;const i={normal:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-500",disabled:"bg-gray-200 text-gray-400 shadow-none cursor-not-allowed"};function l(u){Yr.call(this,e,u)}return e.$$set=u=>{"disabled"in u&&r(0,o=u.disabled),"$$scope"in u&&r(2,a=u.$$scope)},[o,i,a,n,l]}class vo extends Ke{constructor(t){super(),je(this,t,ho,mo,Qe,{disabled:0})}}function br(e){let t,r,n,a,o,i;return{c(){t=T("fieldset"),r=T("input"),n=X(),a=T("input"),this.h()},l(l){t=x(l,"FIELDSET",{});var u=A(t);r=x(u,"INPUT",{type:!0,name:!0}),n=V(u),a=x(u,"INPUT",{type:!0,name:!0}),u.forEach(w),this.h()},h(){f(r,"type","color"),f(r,"name","color-light"),f(a,"type","color"),f(a,"name","color-dark")},m(l,u){fe(l,t,u),p(t,r),qe(r,e[6]),p(t,n),p(t,a),qe(a,e[7]),o||(i=[ce(r,"input",e[20]),ce(a,"input",e[21])],o=!0)},p(l,u){u&64&&qe(r,l[6]),u&128&&qe(a,l[7])},d(l){l&&w(t),o=!1,Je(i)}}}function go(e){let t,r,n;return t=new _r({props:{src:Qr,class:"w-4 h-4"}}),{c(){Se(t.$$.fragment),r=ae(`
				Save`)},l(a){Ie(t.$$.fragment,a),r=se(a,`
				Save`)},m(a,o){Re(t,a,o),fe(a,r,o),n=!0},p:Ee,i(a){n||(we(t.$$.fragment,a),n=!0)},o(a){ye(t.$$.fragment,a),n=!1},d(a){Be(t,a),a&&w(r)}}}function po(e){let t,r,n;return{c(){t=T("div"),r=T("p"),n=ae("Load Image to Start"),this.h()},l(a){t=x(a,"DIV",{class:!0});var o=A(t);r=x(o,"P",{class:!0});var i=A(r);n=se(i,"Load Image to Start"),i.forEach(w),o.forEach(w),this.h()},h(){f(r,"class","text-2xl text-gray-500"),f(t,"class","w-full h-full grid place-items-center")},m(a,o){fe(a,t,o),p(t,r),p(r,n)},p:Ee,d(a){a&&w(t)}}}function bo(e){let t,r,n,a,o;return{c(){t=T("div"),r=T("canvas"),this.h()},l(i){t=x(i,"DIV",{class:!0});var l=A(t);r=x(l,"CANVAS",{class:!0,width:!0,height:!0,"aria-label":!0}),A(r).forEach(w),l.forEach(w),this.h()},h(){f(r,"class","pixelated svelte-1gkt69q"),f(r,"width",e[0]),f(r,"height",e[10]),f(r,"aria-label","Dithered Image"),f(t,"class","w-full h-full grid place-items-center")},m(i,l){fe(i,t,l),p(t,r),e[24](r),a||(o=[Ht(n=no.call(null,r,{image:e[1],threshold:e[3],noiseIntensity:e[4],monochrome:e[5],colorLight:e[6],colorDark:e[7],mode:e[9],width:e[0],height:e[10]})),Ht(e[12].call(null,t))],a=!0)},p(i,l){l&1&&f(r,"width",i[0]),l&1024&&f(r,"height",i[10]),n&&Kr(n.update)&&l&1787&&n.update.call(null,{image:i[1],threshold:i[3],noiseIntensity:i[4],monochrome:i[5],colorLight:i[6],colorDark:i[7],mode:i[9],width:i[0],height:i[10]})},d(i){i&&w(t),e[24](null),a=!1,Je(o)}}}function _o(e){let t,r,n,a,o,i,l,u,c,d,m,g,b,S,I,U,R,D,N,B,Y,L,P,z,C,O,M,E,k,G,ne,le,H,re,Q,ie,te,J,q,$;function De(y){e[15](y)}let be={};e[1]!==void 0&&(be.image=e[1]),i=new fo({props:be}),Fe.push(()=>Ze(i,"image",De));function Me(y){e[16](y)}let de={label:"Dither Mode",options:e[13]};e[9]!==void 0&&(de.selected=e[9]),c=new on({props:de}),Fe.push(()=>Ze(c,"selected",Me));function Ue(y){e[17](y)}let ue={label:"Threshold ("+e[3]+")",min:0,max:1,step:.01};e[3]!==void 0&&(ue.value=e[3]),g=new Jt({props:ue}),Fe.push(()=>Ze(g,"value",Ue));function Te(y){e[18](y)}let Le={label:"Noise Intensity ("+e[4]+")",min:0,max:1.5,step:.01};e[4]!==void 0&&(Le.value=e[4]),I=new Jt({props:Le}),Fe.push(()=>Ze(I,"value",Te));let ee=e[5]&&br(e);function Ne(y){e[22](y)}function Pe(y){e[23](y)}let xe={};e[0]!==void 0&&(xe.width=e[0]),e[2]!==void 0&&(xe.aspectRatio=e[2]),G=new tn({props:xe}),Fe.push(()=>Ze(G,"width",Ne)),Fe.push(()=>Ze(G,"aspectRatio",Pe)),Q=new vo({props:{disabled:!e[1],$$slots:{default:[go]},$$scope:{ctx:e}}}),Q.$on("click",e[11]);function ot(y,K){return y[1]?bo:po}let Oe=ot(e),me=Oe(e);return{c(){t=X(),r=X(),n=T("main"),a=T("aside"),o=T("section"),Se(i.$$.fragment),u=X(),Se(c.$$.fragment),m=X(),Se(g.$$.fragment),S=X(),Se(I.$$.fragment),R=X(),D=T("div"),N=T("div"),B=T("input"),Y=X(),L=T("div"),P=T("label"),z=ae("Monochrome"),C=X(),O=T("p"),M=ae("If the dither should be monochrome, or in color"),E=X(),ee&&ee.c(),k=X(),Se(G.$$.fragment),H=X(),re=T("footer"),Se(Q.$$.fragment),ie=X(),te=T("section"),me.c(),this.h()},l(y){Hr("svelte-1hm2pfs",document.head).forEach(w),t=V(y),r=V(y),n=x(y,"MAIN",{class:!0});var he=A(n);a=x(he,"ASIDE",{class:!0});var ge=A(a);o=x(ge,"SECTION",{class:!0});var j=A(o);Ie(i.$$.fragment,j),u=V(j),Ie(c.$$.fragment,j),m=V(j),Ie(g.$$.fragment,j),S=V(j),Ie(I.$$.fragment,j),R=V(j),D=x(j,"DIV",{class:!0});var ve=A(D);N=x(ve,"DIV",{class:!0});var Ae=A(N);B=x(Ae,"INPUT",{type:!0,class:!0}),Ae.forEach(w),Y=V(ve),L=x(ve,"DIV",{class:!0});var pe=A(L);P=x(pe,"LABEL",{for:!0,class:!0});var ze=A(P);z=se(ze,"Monochrome"),ze.forEach(w),C=V(pe),O=x(pe,"P",{id:!0,class:!0});var $e=A(O);M=se($e,"If the dither should be monochrome, or in color"),$e.forEach(w),pe.forEach(w),ve.forEach(w),E=V(j),ee&&ee.l(j),k=V(j),Ie(G.$$.fragment,j),j.forEach(w),H=V(ge),re=x(ge,"FOOTER",{class:!0});var Ce=A(re);Ie(Q.$$.fragment,Ce),Ce.forEach(w),ge.forEach(w),ie=V(he),te=x(he,"SECTION",{class:!0});var it=A(te);me.l(it),it.forEach(w),he.forEach(w),this.h()},h(){document.title="Dithering",f(B,"type","checkbox"),f(B,"class","h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"),f(N,"class","flex h-6 items-center"),f(P,"for","comments"),f(P,"class","font-medium text-gray-900"),f(O,"id","comments-description"),f(O,"class","text-gray-500"),f(L,"class","ml-3 text-sm leading-6"),f(D,"class","relative flex items-start"),f(o,"class","grid gap-4 overflow-y-auto overflow-x-visible py-8 px-4"),f(re,"class","py-4 px-4 flex-shrink-0"),f(a,"class","bg-white w-full max-w-md border-r border-gray-100 z-50 overflow-y-hidden h-full shadow-lg flex flex-col divide-y divide-gray-200 justify-between"),f(te,"class","bg-gray-300 flex-1 overflow-hidden touch-manipulation select-none"),f(n,"class","w-screen max-w-screen h-screen max-h-screen flex")},m(y,K){fe(y,t,K),fe(y,r,K),fe(y,n,K),p(n,a),p(a,o),Re(i,o,null),p(o,u),Re(c,o,null),p(o,m),Re(g,o,null),p(o,S),Re(I,o,null),p(o,R),p(o,D),p(D,N),p(N,B),B.checked=e[5],p(D,Y),p(D,L),p(L,P),p(P,z),p(L,C),p(L,O),p(O,M),p(o,E),ee&&ee.m(o,null),p(o,k),Re(G,o,null),p(a,H),p(a,re),Re(Q,re,null),p(n,ie),p(n,te),me.m(te,null),J=!0,q||($=[ce(document.body,"drop",mt(e[14])),ce(document.body,"dragover",mt(wo)),ce(B,"change",e[19])],q=!0)},p(y,[K]){const he={};!l&&K&2&&(l=!0,he.image=y[1],We(()=>l=!1)),i.$set(he);const ge={};!d&&K&512&&(d=!0,ge.selected=y[9],We(()=>d=!1)),c.$set(ge);const j={};K&8&&(j.label="Threshold ("+y[3]+")"),!b&&K&8&&(b=!0,j.value=y[3],We(()=>b=!1)),g.$set(j);const ve={};K&16&&(ve.label="Noise Intensity ("+y[4]+")"),!U&&K&16&&(U=!0,ve.value=y[4],We(()=>U=!1)),I.$set(ve),K&32&&(B.checked=y[5]),y[5]?ee?ee.p(y,K):(ee=br(y),ee.c(),ee.m(o,k)):ee&&(ee.d(1),ee=null);const Ae={};!ne&&K&1&&(ne=!0,Ae.width=y[0],We(()=>ne=!1)),!le&&K&4&&(le=!0,Ae.aspectRatio=y[2],We(()=>le=!1)),G.$set(Ae);const pe={};K&2&&(pe.disabled=!y[1]),K&33554432&&(pe.$$scope={dirty:K,ctx:y}),Q.$set(pe),Oe===(Oe=ot(y))&&me?me.p(y,K):(me.d(1),me=Oe(y),me&&(me.c(),me.m(te,null)))},i(y){J||(we(i.$$.fragment,y),we(c.$$.fragment,y),we(g.$$.fragment,y),we(I.$$.fragment,y),we(G.$$.fragment,y),we(Q.$$.fragment,y),J=!0)},o(y){ye(i.$$.fragment,y),ye(c.$$.fragment,y),ye(g.$$.fragment,y),ye(I.$$.fragment,y),ye(G.$$.fragment,y),ye(Q.$$.fragment,y),J=!1},d(y){y&&w(t),y&&w(r),y&&w(n),Be(i),Be(c),Be(g),Be(I),ee&&ee.d(),Be(G),Be(Q),me.d(),q=!1,Je($)}}}const wo=()=>{};function yo(e,t,r){let n,a,o=.33,i=.3,l=!1,u="#ede6cc",c="#21263f",d=null,m=600,g="blue_noise",b=null;async function S(){d&&await io(d,"dithered","png")}function I(E,k){const G=Yn(E,k);return{destroy:()=>G.dispose()}}const U=[{name:"Bayer",value:"bayer"},{name:"Blue Noise",value:"blue_noise"},{name:"White Noise",value:"white_noise"}];async function R(E){var G;const k=(G=E.dataTransfer)==null?void 0:G.files[0];if(k){if(!k.type.startsWith("image/")){alert("Please drop an image file");return}try{r(1,b=await Tt(k))}catch(ne){alert("Failed to load image"),console.error(ne)}}}function D(E){b=E,r(1,b)}function N(E){g=E,r(9,g)}function B(E){o=E,r(3,o)}function Y(E){i=E,r(4,i)}function L(){l=this.checked,r(5,l)}function P(){u=this.value,r(6,u)}function z(){c=this.value,r(7,c)}function C(E){m=E,r(0,m)}function O(E){a=E,r(2,a),r(1,b)}function M(E){Fe[E?"unshift":"push"](()=>{d=E,r(8,d)})}return e.$$.update=()=>{e.$$.dirty&2&&r(2,a=b!=null&&b.width&&(b!=null&&b.height)?b.width/b.height:1),e.$$.dirty&5&&r(10,n=m/a)},[m,b,a,o,i,l,u,c,d,g,n,S,I,U,R,D,N,B,Y,L,P,z,C,O,M]}class Ao extends Ke{constructor(t){super(),je(this,t,yo,_o,Qe,{})}}export{Ao as component};
