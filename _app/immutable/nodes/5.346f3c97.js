import{S as Ue,i as Pe,s as Oe,k as S,q as fe,a as $,y as ve,l as x,m as k,r as de,h as b,c as Z,z as ge,n as d,b as le,G as v,A as pe,N as he,g as X,d as j,B as _e,Q as nt,R as en,T as sr,u as qt,H as Fe,U as Ur,V as tn,O as We,P as rn,C as Pt,D as Ot,E as zt,F as Vt,W as nn,p as $t,X as Tt,Y as Zt,w as xe,Z as Pr,_ as Be,J as on,f as _t,$ as Ne,v as bt,M as Wt}from"../chunks/index.47904ce3.js";/* empty css                          */import{I as ot,L as an,A as ln,a as sn,P as un,X as cn}from"../chunks/Icon.6cd62dd7.js";import{g as fn}from"../chunks/_commonjsHelpers.725317a4.js";function dn(e){let t,r,n,i,a,o,l,f,s,h,c,m,w,L,I,D,T,C,A,_,M,P,R,V,O,F;return w=new ot({props:{src:an,class:"w-4 h-4",solid:!0}}),{c(){t=S("fieldset"),r=S("div"),n=S("label"),i=fe("Width"),a=$(),o=S("div"),l=S("input"),f=$(),s=S("div"),h=fe("px"),c=$(),m=S("span"),ve(w.$$.fragment),L=$(),I=S("div"),D=S("label"),T=fe("Height"),C=$(),A=S("div"),_=S("input"),M=$(),P=S("div"),R=fe("px"),this.h()},l(U){t=x(U,"FIELDSET",{class:!0});var B=k(t);r=x(B,"DIV",{class:!0});var q=k(r);n=x(q,"LABEL",{for:!0,class:!0});var ce=k(n);i=de(ce,"Width"),ce.forEach(b),a=Z(q),o=x(q,"DIV",{class:!0});var oe=k(o);l=x(oe,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),f=Z(oe),s=x(oe,"DIV",{class:!0});var we=k(s);h=de(we,"px"),we.forEach(b),oe.forEach(b),q.forEach(b),c=Z(B),m=x(B,"SPAN",{class:!0});var te=k(m);ge(w.$$.fragment,te),te.forEach(b),L=Z(B),I=x(B,"DIV",{class:!0});var me=k(I);D=x(me,"LABEL",{for:!0,class:!0});var ne=k(D);T=de(ne,"Height"),ne.forEach(b),C=Z(me),A=x(me,"DIV",{class:!0});var ae=k(A);_=x(ae,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),M=Z(ae),P=x(ae,"DIV",{class:!0});var N=k(P);R=de(N,"px"),N.forEach(b),ae.forEach(b),me.forEach(b),B.forEach(b),this.h()},h(){d(n,"for","width-"+e[4]),d(n,"class","block text-sm font-medium leading-6 text-gray-900"),d(l,"name","width"),d(l,"id","width-"+e[4]),d(l,"type","number"),d(l,"min","12"),d(l,"max","3000"),d(l,"step","1"),l.value=e[0],d(l,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),d(l,"placeholder","600"),d(s,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),d(o,"class","relative mt-2 rounded-md shadow-sm"),d(r,"class","w-full"),d(m,"class","text-gray-500 pb-2 cursor-not-allowed"),d(D,"for","height-"+e[5]),d(D,"class","block text-sm font-medium leading-6 text-gray-900"),d(_,"type","number"),d(_,"id","height-"+e[5]),d(_,"name","height"),d(_,"min","12"),d(_,"max","3000"),d(_,"step","1"),_.value=e[1],d(_,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),d(_,"placeholder","340"),d(P,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),d(A,"class","relative mt-2 rounded-md shadow-sm"),d(I,"class","w-full"),d(t,"class","flex gap-3 items-end justify-between")},m(U,B){le(U,t,B),v(t,r),v(r,n),v(n,i),v(r,a),v(r,o),v(o,l),v(o,f),v(o,s),v(s,h),v(t,c),v(t,m),pe(w,m,null),v(t,L),v(t,I),v(I,D),v(D,T),v(I,C),v(I,A),v(A,_),v(A,M),v(A,P),v(P,R),V=!0,O||(F=[he(l,"input",e[2]),he(_,"input",e[3])],O=!0)},p(U,[B]){(!V||B&1&&l.value!==U[0])&&(l.value=U[0]),(!V||B&2&&_.value!==U[1])&&(_.value=U[1])},i(U){V||(X(w.$$.fragment,U),V=!0)},o(U){j(w.$$.fragment,U),V=!1},d(U){U&&b(t),_e(w),O=!1,nt(F)}}}function ur(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function hn(e,t,r){let n,{width:i}=t,{aspectRatio:a}=t;function o(h){const c=h.target.value;c&&r(0,i=c)}function l(h){const c=h.target.value;c&&r(0,i=Math.round(a*c))}let f=ur(),s=ur();return e.$$set=h=>{"width"in h&&r(0,i=h.width),"aspectRatio"in h&&r(6,a=h.aspectRatio)},e.$$.update=()=>{e.$$.dirty&65&&r(1,n=Math.round(i/a))},[i,n,o,l,f,s,a]}class Or extends Ue{constructor(t){super(),Pe(this,t,hn,dn,Oe,{width:0,aspectRatio:6})}}function cr(e,t,r){const n=e.slice();return n[6]=t[r],n}function fr(e){let t,r=e[6].name+"",n,i,a;return{c(){t=S("option"),n=fe(r),this.h()},l(o){t=x(o,"OPTION",{});var l=k(t);n=de(l,r),l.forEach(b),this.h()},h(){t.__value=i=e[6].value,t.value=t.__value,t.selected=a=e[6].value===e[0]},m(o,l){le(o,t,l),v(t,n)},p(o,l){l&2&&r!==(r=o[6].name+"")&&qt(n,r),l&2&&i!==(i=o[6].value)&&(t.__value=i,t.value=t.__value),l&3&&a!==(a=o[6].value===o[0])&&(t.selected=a)},d(o){o&&b(t)}}}function mn(e){let t,r,n,i,a,o,l,f=e[1],s=[];for(let h=0;h<f.length;h+=1)s[h]=fr(cr(e,f,h));return{c(){t=S("div"),r=S("label"),n=fe(e[2]),i=$(),a=S("select");for(let h=0;h<s.length;h+=1)s[h].c();this.h()},l(h){t=x(h,"DIV",{});var c=k(t);r=x(c,"LABEL",{for:!0,class:!0});var m=k(r);n=de(m,e[2]),m.forEach(b),i=Z(c),a=x(c,"SELECT",{id:!0,name:!0,class:!0});var w=k(a);for(let L=0;L<s.length;L+=1)s[L].l(w);w.forEach(b),c.forEach(b),this.h()},h(){d(r,"for",e[4]),d(r,"class","block text-sm font-medium leading-6 text-gray-900"),d(a,"id",e[4]),d(a,"name",e[3]),d(a,"class","mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"),e[0]===void 0&&en(()=>e[5].call(a))},m(h,c){le(h,t,c),v(t,r),v(r,n),v(t,i),v(t,a);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(a,null);sr(a,e[0],!0),o||(l=he(a,"change",e[5]),o=!0)},p(h,[c]){if(c&4&&qt(n,h[2]),c&3){f=h[1];let m;for(m=0;m<f.length;m+=1){const w=cr(h,f,m);s[m]?s[m].p(w,c):(s[m]=fr(w),s[m].c(),s[m].m(a,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=f.length}c&8&&d(a,"name",h[3]),c&3&&sr(a,h[0])},i:Fe,o:Fe,d(h){h&&b(t),Ur(s,h),o=!1,l()}}}function vn(e,t,r){let{options:n}=t,{selected:i}=t,{label:a}=t,{name:o=void 0}=t,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function f(){i=tn(this),r(0,i),r(1,n)}return e.$$set=s=>{"options"in s&&r(1,n=s.options),"selected"in s&&r(0,i=s.selected),"label"in s&&r(2,a=s.label),"name"in s&&r(3,o=s.name)},[i,n,a,o,l,f]}class gn extends Ue{constructor(t){super(),Pe(this,t,vn,mn,Oe,{options:1,selected:0,label:2,name:3})}}function pn(e){let t,r,n,i,a,o,l;return{c(){t=S("div"),r=S("label"),n=fe(e[1]),i=$(),a=S("input"),this.h()},l(f){t=x(f,"DIV",{});var s=k(t);r=x(s,"LABEL",{for:!0,class:!0});var h=k(r);n=de(h,e[1]),h.forEach(b),i=Z(s),a=x(s,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,name:!0,class:!0}),s.forEach(b),this.h()},h(){d(r,"for",e[6]),d(r,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),d(a,"id",e[6]),d(a,"type","range"),d(a,"min",e[3]),d(a,"max",e[4]),d(a,"step",e[5]),d(a,"name",e[2]),d(a,"class","w-full h-1.5 mb-6 bg-white ring-1 ring-gray-300 shadow-sm rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700")},m(f,s){le(f,t,s),v(t,r),v(r,n),v(t,i),v(t,a),We(a,e[0]),o||(l=[he(a,"change",e[7]),he(a,"input",e[7])],o=!0)},p(f,[s]){s&2&&qt(n,f[1]),s&8&&d(a,"min",f[3]),s&16&&d(a,"max",f[4]),s&32&&d(a,"step",f[5]),s&4&&d(a,"name",f[2]),s&1&&We(a,f[0])},i:Fe,o:Fe,d(f){f&&b(t),o=!1,nt(l)}}}function _n(e,t,r){let{label:n}=t,{name:i=void 0}=t,{min:a=null}=t,{max:o=null}=t,{value:l=0}=t,{step:f=1}=t,s=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function h(){l=rn(this.value),r(0,l)}return e.$$set=c=>{"label"in c&&r(1,n=c.label),"name"in c&&r(2,i=c.name),"min"in c&&r(3,a=c.min),"max"in c&&r(4,o=c.max),"value"in c&&r(0,l=c.value),"step"in c&&r(5,f=c.step)},[l,n,i,a,o,f,s,h]}class Xt extends Ue{constructor(t){super(),Pe(this,t,_n,pn,Oe,{label:1,name:2,min:3,max:4,value:0,step:5})}}var bn="precision highp float;attribute vec2 position;varying vec2 fragCoord;void main(){fragCoord.x=position.x*0.5+0.5;fragCoord.y=position.y*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}",wn="precision highp float;varying vec2 fragCoord;uniform sampler2D uSampler;uniform float uThreshold;uniform sampler2D uNoiseSampler;uniform vec2 uNoiseSamplerSize;uniform float uNoise;uniform float uMonochrome;uniform vec2 uSize;uniform vec3 uDarkColor;uniform vec3 uLightColor;void main(void){vec2 imgPixel=vec2(fragCoord.x*uSize.x,fragCoord.y*uSize.y);vec2 noisePixel=vec2(mod(imgPixel.x,uNoiseSamplerSize.x),mod(imgPixel.y,uNoiseSamplerSize.y));vec2 noiseUV=vec2(noisePixel.x/uNoiseSamplerSize.x,noisePixel.y/uNoiseSamplerSize.y);float noise=(texture2D(uNoiseSampler,noiseUV).r-0.5)*2.0*uNoise;vec4 color=texture2D(uSampler,fragCoord);float gray=dot(color.rgb,vec3(0.299,0.587,0.114));color.r=color.r*(1.0-uMonochrome)+gray*uMonochrome;color.g=color.g*(1.0-uMonochrome)+gray*uMonochrome;color.b=color.b*(1.0-uMonochrome)+gray*uMonochrome;vec3 thresholds=vec3(step(uThreshold,color.r+noise),step(uThreshold,color.g+noise),step(uThreshold,color.b+noise));if(uMonochrome>0.0){color.rgb=vec3(mix(uDarkColor.r,uLightColor.r,thresholds.r),mix(uDarkColor.g,uLightColor.g,thresholds.g),mix(uDarkColor.b,uLightColor.b,thresholds.b));}else{color.rgb=thresholds;}gl_FragColor=color;}";function An(e,t,r){const n=dr(e,e.VERTEX_SHADER,t),i=dr(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(!a)throw new Error("Failed to create shader program");if(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw Error(`Unable to initialize the shader program: ${e.getProgramInfoLog(a)}`);return a}function dr(e,t,r){const n=e.createShader(t);if(!n)throw new Error("Failed to create shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(n)}`);return n}function yn(e){const t=e.createTexture();if(!t)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,t);const r=0,n=e.RGBA,i=1,a=1,o=0,l=e.RGBA,f=e.UNSIGNED_BYTE,s=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,r,n,i,a,o,l,f,s),t}function En(e,t,r){const i=e.RGBA,a=e.RGBA,o=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,i,a,o,r),St(r.width)&&St(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))}function St(e){return(e&e-1)===0}function Tn(e){const t=e.createBuffer(),r=e.createBuffer(),n=[-1,1,-1,-1,1,-1,1,1],i=[3,2,1,3,1,0];return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW),{vertex_buffer:t,index_buffer:r}}function Sn(e,t){const r=e.createTexture();if(!r)throw new Error("Failed to create texture");return e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),St(t.width)&&St(t.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r}function xn(e,t){let r=t;const n=e.getContext("webgl",{preserveDrawingBuffer:!0});if(!n){alert("WebGL not supported");return}const i=()=>{En(n,C,r.image)};n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);const a=An(n,bn,wn),{vertex_buffer:o,index_buffer:l}=Tn(n),f=n.getAttribLocation(a,"position");n.vertexAttribPointer(f,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(f);const s=n.getUniformLocation(a,"uSampler"),h=n.getUniformLocation(a,"uThreshold"),c=n.getUniformLocation(a,"uNoiseSampler"),m=n.getUniformLocation(a,"uNoise"),w=n.getUniformLocation(a,"uSize"),L=n.getUniformLocation(a,"uNoiseSamplerSize"),I=n.getUniformLocation(a,"uMonochrome"),D=n.getUniformLocation(a,"uDarkColor"),T=n.getUniformLocation(a,"uLightColor"),C=yn(n);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),i();let A,_;n.useProgram(a);let M=null;const P=()=>{A=Sn(n,r.thresholdMap),_={width:r.thresholdMap.width,height:r.thresholdMap.height}};P();const R=()=>{n.viewport(0,0,r.output_width,r.output_height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,o),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,l),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,C),n.uniform1i(s,0),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,A),n.uniform1i(c,1),n.uniform2f(L,_.width,_.height),n.uniform1f(h,r.threshold),n.uniform1f(m,r.noiseIntensity),n.uniform2f(w,r.output_width,r.output_height),n.uniform1f(I,r.monochrome?1:0),n.uniform3f(D,...hr(r.colorDark)),n.uniform3f(T,...hr(r.colorLight)),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)};function V(){M=requestAnimationFrame(()=>{R(),M=null})}return V(),{update(O){const F=r.image!==O.image,U=r.thresholdMap!==O.thresholdMap;r=O,F&&i(),U&&P(),V()},destroy(){M!==null&&cancelAnimationFrame(M)}}}function hr(e){const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255;return[t,r,n]}function In(e){let t,r,n,i,a;const o=e[3].default,l=Pt(o,e,e[2],null);return{c(){t=S("button"),l&&l.c(),this.h()},l(f){t=x(f,"BUTTON",{type:!0,class:!0});var s=k(t);l&&l.l(s),s.forEach(b),this.h()},h(){t.disabled=e[0],d(t,"type","button"),d(t,"class",r=e[1][e[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2")},m(f,s){le(f,t,s),l&&l.m(t,null),n=!0,i||(a=he(t,"click",e[4]),i=!0)},p(f,[s]){l&&l.p&&(!n||s&4)&&Ot(l,o,f,f[2],n?Vt(o,f[2],s,null):zt(f[2]),null),(!n||s&1)&&(t.disabled=f[0]),(!n||s&1&&r!==(r=f[1][f[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2"))&&d(t,"class",r)},i(f){n||(X(l,f),n=!0)},o(f){j(l,f),n=!1},d(f){f&&b(t),l&&l.d(f),i=!1,a()}}}function Dn(e,t,r){let{$$slots:n={},$$scope:i}=t,{disabled:a=!1}=t;const o={normal:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-500",disabled:"bg-gray-200 text-gray-400 shadow-none cursor-not-allowed"};function l(f){nn.call(this,e,f)}return e.$$set=f=>{"disabled"in f&&r(0,a=f.disabled),"$$scope"in f&&r(2,i=f.$$scope)},[a,o,i,n,l]}class Rn extends Ue{constructor(t){super(),Pe(this,t,Dn,In,Oe,{disabled:0})}}async function kn(e,t,r="png"){const n=new OffscreenCanvas(e.width,e.height),i=n.getContext("2d");if(!i)return;i.drawImage(e,0,0,e.width,e.height);const a=await n.convertToBlob({type:"image/"+r,quality:1}),o=URL.createObjectURL(a),l=document.createElement("a");l.download=`${t}.${r}`,l.href=o,l.click(),l.remove(),URL.revokeObjectURL(o)}function mr(e){return new Promise((t,r)=>{e.type.startsWith("image/")||r(new Error("Not an image file"));const n=new FileReader;n.onload=i=>{if(typeof n.result!="string")return;const a=new Image;a.onload=()=>{t(a)},a.onerror=o=>{r(o)},a.src=n.result},n.onerror=i=>{r(i)},n.readAsDataURL(e)})}async function Mn(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=i=>{r(i)},n.src=e})}var It={exports:{}};It.exports=zr;It.exports.addWheelListener=zr;It.exports.removeWheelListener=Ln;function zr(e,t,r){e.addEventListener("wheel",t,r)}function Ln(e,t,r){e.removeEventListener("wheel",t,r)}var Cn=It.exports,Dt={exports:{}},Bn=4,Nn=.001,Fn=1e-7,Un=10,rt=11,wt=1/(rt-1),Pn=typeof Float32Array=="function";function Vr(e,t){return 1-3*t+3*e}function $r(e,t){return 3*t-6*e}function Zr(e){return 3*e}function xt(e,t,r){return((Vr(t,r)*e+$r(t,r))*e+Zr(t))*e}function Wr(e,t,r){return 3*Vr(t,r)*e*e+2*$r(t,r)*e+Zr(t)}function On(e,t,r,n,i){var a,o,l=0;do o=t+(r-t)/2,a=xt(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>Fn&&++l<Un);return o}function zn(e,t,r,n){for(var i=0;i<Bn;++i){var a=Wr(t,r,n);if(a===0)return t;var o=xt(t,r,n)-e;t-=o/a}return t}function Vn(e){return e}var $n=function(t,r,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===i)return Vn;for(var a=Pn?new Float32Array(rt):new Array(rt),o=0;o<rt;++o)a[o]=xt(o*wt,t,n);function l(f){for(var s=0,h=1,c=rt-1;h!==c&&a[h]<=f;++h)s+=wt;--h;var m=(f-a[h])/(a[h+1]-a[h]),w=s+m*wt,L=Wr(w,t,n);return L>=Nn?zn(f,w,t,n):L===0?w:On(f,s,s+wt,t,n)}return function(s){return s===0?0:s===1?1:xt(l(s),r,i)}},tt=$n,vr={ease:tt(.25,.1,.25,1),easeIn:tt(.42,0,1,1),easeOut:tt(0,0,.58,1),easeInOut:tt(.42,0,.58,1),linear:tt(0,0,1,1)};Dt.exports=Zn;Dt.exports.makeAggregateRaf=Xr;Dt.exports.sharedScheduler=Xr();function Zn(e,t,r){var n=Object.create(null),i=Object.create(null);r=r||{};var a=typeof r.easing=="function"?r.easing:vr[r.easing];a||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),a=vr.ease);var o=typeof r.step=="function"?r.step:gr,l=typeof r.done=="function"?r.done:gr,f=Wn(r.scheduler),s=Object.keys(t);s.forEach(function(T){n[T]=e[T],i[T]=t[T]-e[T]});var h=typeof r.duration=="number"?r.duration:400,c=Math.max(1,h*.06),m,w=0;return m=f.next(I),{cancel:L};function L(){f.cancel(m),m=0}function I(){var T=a(w/c);w+=1,D(T),w<=c?(m=f.next(I),o(e)):(m=0,setTimeout(function(){l(e)},0))}function D(T){s.forEach(function(C){e[C]=i[C]*T+n[C]})}}function gr(){}function Wn(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?Xn():qn()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function Xn(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function qn(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Xr(){var e=new Set,t=new Set,r=0;return{next:i,cancel:i,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function i(l){t.add(l),a()}function a(){r||(r=requestAnimationFrame(o))}function o(){r=0;var l=t;t=e,e=l,e.forEach(function(f){f()}),e.clear()}}var Yn=Dt.exports,Gn=function(t){Hn(t);var r=jn(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function jn(e){var t=Object.create(null);return{on:function(r,n,i){if(typeof n!="function")throw new Error("callback is expected to be a function");var a=t[r];return a||(a=t[r]=[]),a.push({callback:n,ctx:i}),e},off:function(r,n){var i=typeof r>"u";if(i)return t=Object.create(null),e;if(t[r]){var a=typeof n!="function";if(a)delete t[r];else for(var o=t[r],l=0;l<o.length;++l)o[l].callback===n&&o.splice(l,1)}return e},fire:function(r){var n=t[r];if(!n)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var a=0;a<n.length;++a){var o=n[a];o.callback.apply(o.ctx,i)}return e}}}function Hn(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var Kn=Qn;function Qn(e,t,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,i=typeof r.amplitude=="number"?r.amplitude:.25,a=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:Jn(),o=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:eo(),l,f,s=342,h,c,m,w,L,I,D,T;return{start:A,stop:M,cancel:C};function C(){a(h),a(T)}function A(){l=e(),w=D=c=L=0,f=new Date,a(h),a(T),h=o(_)}function _(){var R=Date.now(),V=R-f;f=R;var O=e(),F=O.x-l.x,U=O.y-l.y;l=O;var B=1e3/(1+V);c=.8*F*B+.2*c,L=.8*U*B+.2*L,h=o(_)}function M(){a(h),a(T);var R=e();m=R.x,I=R.y,f=Date.now(),(c<-n||c>n)&&(w=i*c,m+=w),(L<-n||L>n)&&(D=i*L,I+=D),T=o(P)}function P(){var R=Date.now()-f,V=!1,O=0,F=0;w&&(O=-w*Math.exp(-R/s),O>.5||O<-.5?V=!0:O=w=0),D&&(F=-D*Math.exp(-R/s),F>.5||F<-.5?V=!0:F=D=0),V&&(t(m+O,I+F),T=o(P))}}function Jn(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function eo(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var to=ro;function ro(e){if(e)return{capture:_r,release:_r};var t,r,n,i=!1;return{capture:a,release:o};function a(l){i=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=pr,t=l,t.ondragstart=pr}function o(){i&&(i=!1,window.document.onselectstart=r,t&&(t.ondragstart=n))}}function pr(e){return e.stopPropagation(),!1}function _r(){}var Ct,br;function no(){if(br)return Ct;br=1,Ct=e;function e(){this.x=0,this.y=0,this.scale=1}return Ct}var At={exports:{}},wr;function oo(){if(wr)return At.exports;wr=1,At.exports=e,At.exports.canAttach=t;function e(r,n){if(!t(r))throw new Error("svg element is required for svg.panzoom to work");var i=r.ownerSVGElement;if(!i)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");n.disableKeyboardInteraction||i.setAttribute("tabindex",0);var a={getBBox:l,getScreenCTM:f,getOwner:o,applyTransform:h,initTransform:s};return a;function o(){return i}function l(){var c=r.getBBox();return{left:c.x,top:c.y,width:c.width,height:c.height}}function f(){var c=i.getCTM();return c||i.getScreenCTM()}function s(c){var m=r.getCTM();m===null&&(m=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),c.x=m.e,c.y=m.f,c.scale=m.a,i.removeAttributeNS(null,"viewBox")}function h(c){r.setAttribute("transform","matrix("+c.scale+" 0 0 "+c.scale+" "+c.x+" "+c.y+")")}}function t(r){return r&&r.ownerSVGElement&&r.getCTM}return At.exports}var yt={exports:{}},Ar;function ao(){if(Ar)return yt.exports;Ar=1,yt.exports=e,yt.exports.canAttach=t;function e(r,n){var i=t(r);if(!i)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var a=r.parentElement;r.scrollTop=0,n.disableKeyboardInteraction||a.setAttribute("tabindex",0);var o={getBBox:f,getOwner:l,applyTransform:s};return o;function l(){return a}function f(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function s(h){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+h.scale+", 0, 0, "+h.scale+", "+h.x+", "+h.y+")"}}function t(r){return r&&r.parentElement&&r.style}return yt.exports}var yr=Cn,Bt=Yn,io=Gn,lo=Kn,qr=to,so=qr(),uo=qr(!0),co=no(),Er=oo(),Tr=ao(),fo=1,ho=1.75,Sr=300,xr=200,mo=Yr;function Yr(e,t){t=t||{};var r=t.controller;if(r||(Er.canAttach(e)?r=Er(e,t):Tr.canAttach(e)&&(r=Tr(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),i={x:0,y:0},a=!1,o=new co;r.initTransform&&r.initTransform(o);var l=typeof t.filterKey=="function"?t.filterKey:qe,f=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,s=t.bounds,h=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,c=typeof t.minZoom=="number"?t.minZoom:0,m=typeof t.boundsPadding=="number"?t.boundsPadding:.05,w=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:ho,L=t.beforeWheel||qe,I=t.beforeMouseDown||qe,D=typeof t.zoomSpeed=="number"?t.zoomSpeed:fo,T=Ir(t.transformOrigin),C=t.enableTextSelection?uo:so;vo(s),t.autocenter&&at();var A,_=0,M=0,P=0,R=null,V=new Date,O,F=!1,U=!1,B,q,ce,oe,we,te;"smoothScroll"in t&&!t.smoothScroll?te=go():te=lo(ut,J,t.smoothScroll);var me,ne,ae,N=!1;Me();var ee={dispose:Re,moveBy:se,moveTo:Ge,smoothMoveTo:Te,centerOn:ke,zoomTo:gt,zoomAbs:be,smoothZoom:vt,smoothZoomAbs:Qr,showRectangle:Ve,pause:Ye,resume:De,isPaused:Ae,getTransform:it,getMinZoom:Ee,setMinZoom:lt,getMaxZoom:H,setMaxZoom:Rt,getTransformOrigin:st,setTransformOrigin:K,getZoomSpeed:Q,setZoomSpeed:kt};io(ee);var ie=typeof t.initialX=="number"?t.initialX:o.x,Ie=typeof t.initialY=="number"?t.initialY:o.y,ze=typeof t.initialZoom=="number"?t.initialZoom:o.scale;return(ie!=o.x||Ie!=o.y||ze!=o.scale)&&be(ie,Ie,ze),ee;function Ye(){Ke(),N=!0}function De(){N&&(Me(),N=!1)}function Ae(){return N}function Ve(u){var g=n.getBoundingClientRect(),p=ye(g.width,g.height),E=u.right-u.left,z=u.bottom-u.top;if(!Number.isFinite(E)||!Number.isFinite(z))throw new Error("Invalid rectangle");var Y=p.x/E,G=p.y/z,ue=Math.min(Y,G);o.x=-(u.left+E/2)*ue+p.x/2,o.y=-(u.top+z/2)*ue+p.y/2,o.scale=ue}function ye(u,g){if(r.getScreenCTM){var p=r.getScreenCTM(),E=p.a,z=p.d,Y=p.e,G=p.f;i.x=u*E-Y,i.y=g*z-G}else i.x=u,i.y=g;return i}function at(){var u,g,p=0,E=0,z=ct();if(z)p=z.left,E=z.top,u=z.right-z.left,g=z.bottom-z.top;else{var Y=n.getBoundingClientRect();u=Y.width,g=Y.height}var G=r.getBBox();if(!(G.width===0||G.height===0)){var ue=g/G.height,Ze=u/G.width,Ce=Math.min(Ze,ue);o.x=-(G.left+G.width/2)*Ce+u/2+p,o.y=-(G.top+G.height/2)*Ce+g/2+E,o.scale=Ce}}function it(){return o}function Ee(){return c}function lt(u){c=u}function H(){return h}function Rt(u){h=u}function st(){return T}function K(u){T=Ir(u)}function Q(){return D}function kt(u){if(!Number.isFinite(u))throw new Error("Zoom speed should be a number");D=u}function ut(){return{x:o.x,y:o.y}}function Ge(u,g){o.x=u,o.y=g,re(),$e("pan"),y()}function je(u,g){Ge(o.x+u,o.y+g)}function re(){var u=ct();if(u){var g=!1,p=Mt(),E=u.left-p.right;return E>0&&(o.x+=E,g=!0),E=u.right-p.left,E<0&&(o.x+=E,g=!0),E=u.top-p.bottom,E>0&&(o.y+=E,g=!0),E=u.bottom-p.top,E<0&&(o.y+=E,g=!0),g}}function ct(){if(s){if(typeof s=="boolean"){var u=n.getBoundingClientRect(),g=u.width,p=u.height;return{left:g*m,top:p*m,right:g*(1-m),bottom:p*(1-m)}}return s}}function Mt(){var u=r.getBBox(),g=He(u.left,u.top);return{left:g.x,top:g.y,right:u.width*o.scale+g.x,bottom:u.height*o.scale+g.y}}function He(u,g){return{x:u*o.scale+o.x,y:g*o.scale+o.y}}function y(){a=!0,A=window.requestAnimationFrame(ft)}function W(u,g,p){if(Nt(u)||Nt(g)||Nt(p))throw new Error("zoom requires valid numbers");var E=o.scale*p;if(E<c){if(o.scale===c)return;p=c/o.scale}if(E>h){if(o.scale===h)return;p=h/o.scale}var z=ye(u,g);if(o.x=z.x-p*(z.x-o.x),o.y=z.y-p*(z.y-o.y),s&&m===1&&c===1)o.scale*=p,re();else{var Y=re();Y||(o.scale*=p)}$e("zoom"),y()}function be(u,g,p){var E=p/o.scale;W(u,g,E)}function ke(u){var g=u.ownerSVGElement;if(!g)throw new Error("ui element is required to be within the scene");var p=u.getBoundingClientRect(),E=p.left+p.width/2,z=p.top+p.height/2,Y=g.getBoundingClientRect(),G=Y.width/2-E,ue=Y.height/2-z;se(G,ue,!0)}function Te(u,g){se(u-o.x,g-o.y,!0)}function se(u,g,p){if(!p)return je(u,g);me&&me.cancel();var E={x:0,y:0},z={x:u,y:g},Y=0,G=0;me=Bt(E,z,{step:function(ue){je(ue.x-Y,ue.y-G),Y=ue.x,G=ue.y}})}function J(u,g){pt(),Ge(u,g)}function Re(){Ke()}function Me(){n.addEventListener("mousedown",Qt,{passive:!1}),n.addEventListener("dblclick",Kt,{passive:!1}),n.addEventListener("touchstart",Qe,{passive:!1}),n.addEventListener("keydown",Le,{passive:!1}),yr.addWheelListener(n,nr,{passive:!1}),y()}function Ke(){yr.removeWheelListener(n,nr),n.removeEventListener("mousedown",Qt),n.removeEventListener("keydown",Le),n.removeEventListener("dblclick",Kt),n.removeEventListener("touchstart",Qe),A&&(window.cancelAnimationFrame(A),A=0),te.cancel(),tr(),rr(),C.release(),Lt()}function ft(){a&&dt()}function dt(){a=!1,r.applyTransform(o),$e("transform"),A=0}function Le(u){var g=0,p=0,E=0;if(u.keyCode===38?p=1:u.keyCode===40?p=-1:u.keyCode===37?g=1:u.keyCode===39?g=-1:u.keyCode===189||u.keyCode===109?E=1:(u.keyCode===187||u.keyCode===107)&&(E=-1),!l(u,g,p,E)){if(g||p){u.preventDefault(),u.stopPropagation();var z=n.getBoundingClientRect(),Y=Math.min(z.width,z.height),G=.05,ue=Y*G*g,Ze=Y*G*p;se(ue,Ze)}if(E){var Ce=or(E*100),Y=T?et():ht();gt(Y.x,Y.y,Ce)}}}function ht(){var u=n.getBoundingClientRect();return{x:u.width/2,y:u.height/2}}function Qe(u){if(jr(u),Je(),u.touches.length===1)return Kr(u,u.touches[0]);u.touches.length===2&&(we=Ht(u.touches[0],u.touches[1]),ae=!0,Yt())}function jr(u){t.onTouch&&!t.onTouch(u)||(u.stopPropagation(),u.preventDefault())}function Hr(u){Je(),!(t.onDoubleClick&&!t.onDoubleClick(u))&&(u.preventDefault(),u.stopPropagation())}function Kr(u){M=new Date;var g=u.touches[0],p=Se(g);O=p;var E=ye(p.x,p.y);B=E.x,q=E.y,ce=B,oe=q,te.cancel(),Yt()}function Yt(){F||(F=!0,document.addEventListener("touchmove",Gt),document.addEventListener("touchend",mt),document.addEventListener("touchcancel",mt))}function Gt(u){if(u.touches.length===1){u.stopPropagation();var g=u.touches[0],p=Se(g),E=ye(p.x,p.y),z=E.x-B,Y=E.y-q;z!==0&&Y!==0&&ar(),B=E.x,q=E.y,se(z,Y)}else if(u.touches.length===2){ae=!0;var G=u.touches[0],ue=u.touches[1],Ze=Ht(G,ue),Ce=1+(Ze/we-1)*f,ir=Se(G),lr=Se(ue);if(B=(ir.x+lr.x)/2,q=(ir.y+lr.y)/2,T){var p=et();B=p.x,q=p.y}gt(B,q,Ce),we=Ze,u.stopPropagation(),u.preventDefault()}}function Je(){P&&(clearTimeout(P),P=0)}function jt(u){if(t.onClick){Je();var g=B-ce,p=q-oe,E=Math.sqrt(g*g+p*p);E>5||(P=setTimeout(function(){P=0,t.onClick(u)},Sr))}}function mt(u){if(Je(),u.touches.length>0){var g=Se(u.touches[0]),p=ye(g.x,g.y);B=p.x,q=p.y}else{var E=new Date;if(E-_<Sr)if(T){var g=et();vt(g.x,g.y,w)}else vt(O.x,O.y,w);else E-M<xr&&jt(u);_=E,Lt(),rr()}}function Ht(u,g){var p=u.clientX-g.clientX,E=u.clientY-g.clientY;return Math.sqrt(p*p+E*E)}function Kt(u){Hr(u);var g=Se(u);T&&(g=et()),vt(g.x,g.y,w)}function Qt(u){if(Je(),!I(u)){if(R=u,V=new Date,F)return u.stopPropagation(),!1;var g=u.button===1&&window.event!==null||u.button===0;if(g){te.cancel();var p=Se(u),E=ye(p.x,p.y);return ce=B=E.x,oe=q=E.y,document.addEventListener("mousemove",Jt),document.addEventListener("mouseup",er),C.capture(u.target||u.srcElement),!1}}}function Jt(u){if(!F){ar();var g=Se(u),p=ye(g.x,g.y),E=p.x-B,z=p.y-q;B=p.x,q=p.y,se(E,z)}}function er(){var u=new Date;u-V<xr&&jt(R),C.release(),Lt(),tr()}function tr(){document.removeEventListener("mousemove",Jt),document.removeEventListener("mouseup",er),U=!1}function rr(){document.removeEventListener("touchmove",Gt),document.removeEventListener("touchend",mt),document.removeEventListener("touchcancel",mt),U=!1,ae=!1,F=!1}function nr(u){if(!L(u)){te.cancel();var g=u.deltaY;u.deltaMode>0&&(g*=100);var p=or(g);if(p!==1){var E=T?et():Se(u);gt(E.x,E.y,p),u.preventDefault()}}}function Se(u){var g,p,E=n.getBoundingClientRect();return g=u.clientX-E.left,p=u.clientY-E.top,{x:g,y:p}}function vt(u,g,p){var E=o.scale,z={scale:E},Y={scale:p*E};te.cancel(),pt(),ne=Bt(z,Y,{step:function(G){be(u,g,G.scale)},done:Jr})}function Qr(u,g,p){var E=o.scale,z={scale:E},Y={scale:p};te.cancel(),pt(),ne=Bt(z,Y,{step:function(G){be(u,g,G.scale)}})}function et(){var u=n.getBoundingClientRect();return{x:u.width*T.x,y:u.height*T.y}}function gt(u,g,p){return te.cancel(),pt(),W(u,g,p)}function pt(){ne&&(ne.cancel(),ne=null)}function or(u){var g=Math.sign(u),p=Math.min(.25,Math.abs(D*u/128));return 1-g*p}function ar(){U||($e("panstart"),U=!0,te.start())}function Lt(){U&&(ae||te.stop(),$e("panend"))}function Jr(){$e("zoomend")}function $e(u){ee.fire(u,ee)}}function Ir(e){if(e){if(typeof e=="object")return(!Xe(e.x)||!Xe(e.y))&&Dr(e),e;Dr()}}function Dr(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function qe(){}function vo(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var r=Xe(e.left)&&Xe(e.top)&&Xe(e.bottom)&&Xe(e.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Xe(e){return Number.isFinite(e)}function Nt(e){return Number.isNaN?Number.isNaN(e):e!==e}function go(){return{start:qe,stop:qe,cancel:qe}}function po(){if(typeof document>"u")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,r=0;r<e.length;++r){var n=e[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){t=n;break}}if(!t)return;var i=t.getAttribute("query");if(!i)return;var a=t.getAttribute("name")||"pz",o=Date.now();l();function l(){var h=document.querySelector(i);if(!h){var c=Date.now(),m=c-o;if(m<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",a);return}var w=f(t);console.log(w),window[a]=Yr(h,w)}function f(h){for(var c=h.attributes,m={},w=0;w<c.length;++w){var L=c[w],I=s(L);I&&(m[I.name]=I.value)}return m}function s(h){if(h.name){var c=h.name[0]==="p"&&h.name[1]==="z"&&h.name[2]==="-";if(c){var m=h.name.substr(3),w=JSON.parse(h.value);return{name:m,value:w}}}}}po();const _o=fn(mo);const bo=e=>({}),Rr=e=>({}),wo=e=>({}),kr=e=>({});function Ao(e){let t,r,n,i,a,o,l,f,s,h,c,m,w,L;const I=e[6].left,D=Pt(I,e,e[5],kr),T=e[6].right,C=Pt(T,e,e[5],Rr);return c=new ot({props:{src:ln,class:"w-6 h-6 text-white"}}),{c(){t=S("div"),r=S("div"),n=S("div"),i=S("div"),D&&D.c(),a=$(),o=S("div"),l=S("div"),C&&C.c(),f=$(),s=S("div"),h=S("div"),ve(c.$$.fragment),this.h()},l(A){t=x(A,"DIV",{class:!0});var _=k(t);r=x(_,"DIV",{class:!0});var M=k(r);n=x(M,"DIV",{class:!0});var P=k(n);i=x(P,"DIV",{style:!0});var R=k(i);D&&D.l(R),R.forEach(b),P.forEach(b),a=Z(M),o=x(M,"DIV",{class:!0});var V=k(o);l=x(V,"DIV",{style:!0});var O=k(l);C&&C.l(O),O.forEach(b),V.forEach(b),M.forEach(b),f=Z(_),s=x(_,"DIV",{class:!0});var F=k(s);h=x(F,"DIV",{class:!0});var U=k(h);ge(c.$$.fragment,U),U.forEach(b),F.forEach(b),_.forEach(b),this.h()},h(){d(i,"style",e[2]),d(n,"class","left svelte-prhf1h"),d(l,"style",e[2]),d(o,"class","right svelte-prhf1h"),d(r,"class","w-full h-full grid place-items-center"),d(h,"class","w-12 h-12 rounded-full bg-black absolute top-1/2 -translate-x-1/2 left-1/2 grid place-items-center"),d(s,"class","handle relative shadow-lg svelte-prhf1h"),d(t,"class","container svelte-prhf1h"),$t(t,"--split-point",e[1]+"%")},m(A,_){le(A,t,_),v(t,r),v(r,n),v(n,i),D&&D.m(i,null),v(r,a),v(r,o),v(o,l),C&&C.m(l,null),v(t,f),v(t,s),v(s,h),pe(c,h,null),e[7](t),m=!0,w||(L=[Tt(e[4].call(null,r)),Tt(e[3].call(null,s)),he(s,"pointercancel",Zt(Eo))],w=!0)},p(A,[_]){D&&D.p&&(!m||_&32)&&Ot(D,I,A,A[5],m?Vt(I,A[5],_,wo):zt(A[5]),kr),(!m||_&4)&&d(i,"style",A[2]),C&&C.p&&(!m||_&32)&&Ot(C,T,A,A[5],m?Vt(T,A[5],_,bo):zt(A[5]),Rr),(!m||_&4)&&d(l,"style",A[2]),_&2&&$t(t,"--split-point",A[1]+"%")},i(A){m||(X(D,A),X(C,A),X(c.$$.fragment,A),m=!0)},o(A){j(D,A),j(C,A),j(c.$$.fragment,A),m=!1},d(A){A&&b(t),D&&D.d(A),C&&C.d(A),_e(c),e[7](null),w=!1,nt(L)}}}function yo(e,t,r){return Math.min(Math.max(e,t),r)}const Eo=()=>{};function To(e,t,r){let{$$slots:n={},$$scope:i}=t,a=null,o=50;function l(c){c.addEventListener("pointerdown",m=>{const w=m.clientX,L=o,I=document.body.style.cursor;document.body.style.cursor="col-resize";const D=C=>{const A=a?a.clientWidth:window.innerWidth,_=C.clientX-w,M=L+_/A*100;r(1,o=yo(M,0,100))},T=()=>{document.body.style.cursor=I,window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",T)};window.addEventListener("pointermove",D),window.addEventListener("pointerup",T)})}let f="";function s(c){const m=_o(c,{controller:{applyTransform:w=>{r(2,f=`transform: translate(${w.x}px, ${w.y}px) scale(${w.scale})`)},getOwner:()=>c}});return{destroy:()=>m.dispose()}}function h(c){xe[c?"unshift":"push"](()=>{a=c,r(0,a)})}return e.$$set=c=>{"$$scope"in c&&r(5,i=c.$$scope)},[a,o,f,l,s,i,n,h]}class So extends Ue{constructor(t){super(),Pe(this,t,To,Ao,Oe,{})}}const xo=""+new URL("../assets/cat.58b560b7.jpg",import.meta.url).href,Io="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAApwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EEDAAAAAAUaXNwZQAAAAAAAAJyAAACcgAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAAK9tZGF0EgAKChkmZxnHggQEDQgylgERQAEEEEEA9NBi7JFlrqXV1mwMry34uIYK7WRdWYJ/ZZ0EIyWW8aLm92oz5LY0W+l2FiKsHpp4BB3Vrk+iwHuzboac7wmSHHHRWklZdZ2hpEAi4E31lf1tjXnXie8fh4lzApbqjH5Pj7ZN6761WygYVdc2zvJOsflFZstng6rQU/oulDZSO6fQWKvzpO9pseyXBLfms64=",Do=""+new URL("../assets/david.0e7e3b46.png",import.meta.url).href,Ft=new Map;function Ro(e){const t=Gr(e),r=Math.pow(2,2*e);return t.map(i=>i.map(a=>a/r))}function Gr(e){if(Ft.has(e))return Ft.get(e);if(e===0)return[[0,2],[3,1]];const t=Gr(e-1),r=new Array(t.length*2).fill(0).map(()=>new Array(t.length*2).fill(0));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)r[n][i]=t[n][i]*4,r[n][i+t.length]=t[n][i]*4+2,r[n+t.length][i]=t[n][i]*4+3,r[n+t.length][i+t.length]=t[n][i]*4+1;return Ft.set(e,r),r}const ko=""+new URL("../assets/blue_noise.b61cfddd.png",import.meta.url).href,Et={width:470,height:470};async function Mo(e){switch(e.mode){case"bayer":return await Bo(e);case"blue_noise":return await Co();case"white_noise":return await Lo(e)}}async function Lo(e){const t=new ImageData(e.width,e.height),r=t.data;for(let n=0;n<r.length;n+=4){const i=Math.random()*255;r[n]=i,r[n+1]=i,r[n+2]=i,r[n+3]=255}return t}let Ut=null;async function Co(){Ut||(Ut=await Mn(ko));const t=new OffscreenCanvas(Et.width,Et.height).getContext("2d");return t.drawImage(Ut,0,0),t.getImageData(0,0,Et.width,Et.height)}async function Bo(e){const t=new OffscreenCanvas(Math.pow(2,e.level+1),Math.pow(2,e.level+1)),r=Ro(e.level),n=t.getContext("2d");for(let i=0;i<r.length;i++)for(let a=0;a<r[i].length;a++){const o=r[i][a]*255/4;n.fillStyle=`rgb(${o}, ${o}, ${o})`,n.fillRect(a,i,1,1)}return n.getImageData(0,0,t.width,t.height)}function No(e){let t,r,n,i;return{c(){t=S("canvas"),this.h()},l(a){t=x(a,"CANVAS",{class:!0,style:!0}),k(t).forEach(b),this.h()},h(){d(t,"class","w-full max-h-96 object-contain shadow-lg"),$t(t,"image-rendering","pixelated")},m(a,o){le(a,t,o),n||(i=Tt(r=Fo.call(null,t,e[0])),n=!0)},p(a,[o]){r&&Pr(r.update)&&o&1&&r.update.call(null,a[0])},i:Fe,o:Fe,d(a){a&&b(t),n=!1,i()}}}function Fo(e,t){const r=e.getContext("2d");if(!r)return;const n=()=>{e.width=t.width,e.height=t.height,r.putImageData(t,0,0)};let i=null;const a=()=>{i||(i=requestAnimationFrame(()=>{i=null,n()}))};return a(),{destroy(){i&&cancelAnimationFrame(i)},update:o=>{t=o,a()}}}function Uo(e,t,r){let{imageData:n}=t;return e.$$set=i=>{"imageData"in i&&r(0,n=i.imageData)},[n]}class Po extends Ue{constructor(t){super(),Pe(this,t,Uo,No,Oe,{imageData:0})}}function Mr(e,t,r){const n=e.slice();return n[34]=t[r],n}function Oo(e){let t,r,n,i,a,o,l,f,s,h,c,m,w,L,I,D,T,C,A=e[14],_=[];for(let M=0;M<A.length;M+=1)_[M]=Lr(Mr(e,A,M));return h=new ot({props:{src:un,class:"w-12 h-12 text-gray-400"}}),{c(){t=S("div"),r=S("div"),n=S("p"),i=fe("Select or Drop an Image to Start"),a=$(),o=S("div");for(let M=0;M<_.length;M+=1)_[M].c();l=$(),f=S("label"),s=S("div"),ve(h.$$.fragment),c=$(),m=S("span"),w=fe("Choose an Image"),L=$(),I=S("input"),this.h()},l(M){t=x(M,"DIV",{class:!0});var P=k(t);r=x(P,"DIV",{class:!0});var R=k(r);n=x(R,"P",{class:!0});var V=k(n);i=de(V,"Select or Drop an Image to Start"),V.forEach(b),a=Z(R),o=x(R,"DIV",{class:!0});var O=k(o);for(let q=0;q<_.length;q+=1)_[q].l(O);l=Z(O),f=x(O,"LABEL",{for:!0,class:!0});var F=k(f);s=x(F,"DIV",{class:!0});var U=k(s);ge(h.$$.fragment,U),U.forEach(b),c=Z(F),m=x(F,"SPAN",{class:!0});var B=k(m);w=de(B,"Choose an Image"),B.forEach(b),L=Z(F),I=x(F,"INPUT",{type:!0,class:!0,id:!0,accept:!0}),F.forEach(b),O.forEach(b),R.forEach(b),P.forEach(b),this.h()},h(){d(n,"class","text-2xl text-gray-500"),d(s,"class","grid place-items-center h-full w-full"),d(m,"class","sr-only"),d(I,"type","file"),d(I,"class","sr-only"),d(I,"id","image-input"),d(I,"accept","image/*"),d(f,"for","image-input"),d(f,"class","block spect-square h-24 w-24 object-cover rounded-md shadow-md border-2 border-white bg-white hover:bg-gray-100"),d(o,"class","flex gap-3 justify-center"),d(r,"class","grid gap-4"),d(t,"class","w-full h-full grid place-items-center")},m(M,P){le(M,t,P),v(t,r),v(r,n),v(n,i),v(r,a),v(r,o);for(let R=0;R<_.length;R+=1)_[R]&&_[R].m(o,null);v(o,l),v(o,f),v(f,s),pe(h,s,null),v(f,c),v(f,m),v(m,w),v(f,L),v(f,I),D=!0,T||(C=he(I,"input",e[18]),T=!0)},p(M,P){if(P[0]&540672){A=M[14];let R;for(R=0;R<A.length;R+=1){const V=Mr(M,A,R);_[R]?_[R].p(V,P):(_[R]=Lr(V),_[R].c(),_[R].m(o,l))}for(;R<_.length;R+=1)_[R].d(1);_.length=A.length}},i(M){D||(X(h.$$.fragment,M),D=!0)},o(M){j(h.$$.fragment,M),D=!1},d(M){M&&b(t),Ur(_,M),_e(h),T=!1,C()}}}function zo(e){let t,r,n,i,a,o,l,f;return r=new So({props:{$$slots:{right:[$o],left:[Vo]},$$scope:{ctx:e}}}),a=new ot({props:{src:cn,class:"w-5 h-5 text-white"}}),{c(){t=S("div"),ve(r.$$.fragment),n=$(),i=S("button"),ve(a.$$.fragment),this.h()},l(s){t=x(s,"DIV",{class:!0});var h=k(t);ge(r.$$.fragment,h),n=Z(h),i=x(h,"BUTTON",{class:!0,title:!0});var c=k(i);ge(a.$$.fragment,c),c.forEach(b),h.forEach(b),this.h()},h(){d(i,"class","absolute top-0 right-0 m-4 p-2 bg-black bg-opacity-40 rounded-full"),d(i,"title","Close Image & Reset"),d(t,"class","w-full h-full relative")},m(s,h){le(s,t,h),pe(r,t,null),v(t,n),v(t,i),pe(a,i,null),o=!0,l||(f=he(i,"click",e[22]),l=!0)},p(s,h){const c={};h[0]&16344|h[1]&64&&(c.$$scope={dirty:h,ctx:s}),r.$set(c)},i(s){o||(X(r.$$.fragment,s),X(a.$$.fragment,s),o=!0)},o(s){j(r.$$.fragment,s),j(a.$$.fragment,s),o=!1},d(s){s&&b(t),_e(r),_e(a),l=!1,f()}}}function Lr(e){let t,r,n,i,a;function o(){return e[23](e[34])}return{c(){t=S("button"),r=S("img"),this.h()},l(l){t=x(l,"BUTTON",{class:!0});var f=k(t);r=x(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(b),this.h()},h(){d(r,"class","aspect-square h-24 w-24 object-cover rounded-md shadow-md border-2 border-white"),Wt(r.src,n=e[34])||d(r,"src",n),d(r,"alt",""),d(t,"class","hover:opacity-75 transition-opacity")},m(l,f){le(l,t,f),v(t,r),i||(a=he(t,"click",o),i=!0)},p(l,f){e=l},d(l){l&&b(t),i=!1,a()}}}function Vo(e){let t,r,n;return{c(){t=S("img"),this.h()},l(i){t=x(i,"IMG",{slot:!0,src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){d(t,"slot","left"),Wt(t.src,r=e[4].src)||d(t,"src",r),d(t,"alt",""),d(t,"style",n=`width: ${e[3]}px; height: ${e[13]}px`),d(t,"class","pixelated max-w-none svelte-1gkt69q")},m(i,a){le(i,t,a)},p(i,a){a[0]&16&&!Wt(t.src,r=i[4].src)&&d(t,"src",r),a[0]&8200&&n!==(n=`width: ${i[3]}px; height: ${i[13]}px`)&&d(t,"style",n)},d(i){i&&b(t)}}}function $o(e){let t,r,n,i,a;return{c(){t=S("canvas"),this.h()},l(o){t=x(o,"CANVAS",{class:!0,slot:!0,style:!0,width:!0,height:!0,"aria-label":!0}),k(t).forEach(b),this.h()},h(){d(t,"class","pixelated svelte-1gkt69q"),d(t,"slot","right"),d(t,"style",r=`width: ${e[3]}px; height: ${e[13]}px`),d(t,"width",e[3]),d(t,"height",e[13]),d(t,"aria-label","Dithered Image")},m(o,l){le(o,t,l),e[21](t),i||(a=Tt(n=xn.call(null,t,{image:e[4],threshold:e[6],noiseIntensity:e[7],monochrome:e[8],colorLight:e[9],colorDark:e[10],output_width:e[3],output_height:e[13],thresholdMap:e[12]})),i=!0)},p(o,l){l[0]&8200&&r!==(r=`width: ${o[3]}px; height: ${o[13]}px`)&&d(t,"style",r),l[0]&8&&d(t,"width",o[3]),l[0]&8192&&d(t,"height",o[13]),n&&Pr(n.update)&&l[0]&14296&&n.update.call(null,{image:o[4],threshold:o[6],noiseIntensity:o[7],monochrome:o[8],colorLight:o[9],colorDark:o[10],output_width:o[3],output_height:o[13],thresholdMap:o[12]})},d(o){o&&b(t),e[21](null),i=!1,a()}}}function Cr(e){let t,r,n;return r=new Po({props:{imageData:e[12]}}),{c(){t=S("div"),ve(r.$$.fragment),this.h()},l(i){t=x(i,"DIV",{class:!0});var a=k(t);ge(r.$$.fragment,a),a.forEach(b),this.h()},h(){d(t,"class","w-full aspect-square rounded-lg bg-gray-100 p-8 grid place-items-center")},m(i,a){le(i,t,a),pe(r,t,null),n=!0},p(i,a){const o={};a[0]&4096&&(o.imageData=i[12]),r.$set(o)},i(i){n||(X(r.$$.fragment,i),n=!0)},o(i){j(r.$$.fragment,i),n=!1},d(i){i&&b(t),_e(r)}}}function Br(e){let t,r,n;function i(o){e[25](o)}let a={label:"Bayer Level ("+e[1]+")",min:0,max:5,step:1};return e[1]!==void 0&&(a.value=e[1]),t=new Xt({props:a}),xe.push(()=>Be(t,"value",i)),{c(){ve(t.$$.fragment)},l(o){ge(t.$$.fragment,o)},m(o,l){pe(t,o,l),n=!0},p(o,l){const f={};l[0]&2&&(f.label="Bayer Level ("+o[1]+")"),!r&&l[0]&2&&(r=!0,f.value=o[1],Ne(()=>r=!1)),t.$set(f)},i(o){n||(X(t.$$.fragment,o),n=!0)},o(o){j(t.$$.fragment,o),n=!1},d(o){_e(t,o)}}}function Nr(e){let t,r,n;function i(o){e[26](o)}let a={aspectRatio:1};return e[2]!==void 0&&(a.width=e[2]),t=new Or({props:a}),xe.push(()=>Be(t,"width",i)),{c(){ve(t.$$.fragment)},l(o){ge(t.$$.fragment,o)},m(o,l){pe(t,o,l),n=!0},p(o,l){const f={};!r&&l[0]&4&&(r=!0,f.width=o[2],Ne(()=>r=!1)),t.$set(f)},i(o){n||(X(t.$$.fragment,o),n=!0)},o(o){j(t.$$.fragment,o),n=!1},d(o){_e(t,o)}}}function Fr(e){let t,r,n,i,a,o,l,f,s,h,c,m,w,L;return{c(){t=S("fieldset"),r=S("div"),n=S("input"),i=$(),a=S("label"),o=fe("Light"),l=$(),f=S("div"),s=S("input"),h=$(),c=S("label"),m=fe("Dark"),this.h()},l(I){t=x(I,"FIELDSET",{});var D=k(t);r=x(D,"DIV",{class:!0});var T=k(r);n=x(T,"INPUT",{type:!0,name:!0,id:!0}),i=Z(T),a=x(T,"LABEL",{for:!0,class:!0});var C=k(a);o=de(C,"Light"),C.forEach(b),T.forEach(b),l=Z(D),f=x(D,"DIV",{class:!0});var A=k(f);s=x(A,"INPUT",{type:!0,name:!0,id:!0}),h=Z(A),c=x(A,"LABEL",{for:!0,class:!0});var _=k(c);m=de(_,"Dark"),_.forEach(b),A.forEach(b),D.forEach(b),this.h()},h(){d(n,"type","color"),d(n,"name","color-light"),d(n,"id","color-light"),d(a,"for","color-light"),d(a,"class","font-medium text-gray-900"),d(r,"class","flex gap-3"),d(s,"type","color"),d(s,"name","color-dark"),d(s,"id","color-dark"),d(c,"for","color-dark"),d(c,"class","font-medium text-gray-900"),d(f,"class","flex gap-3")},m(I,D){le(I,t,D),v(t,r),v(r,n),We(n,e[9]),v(r,i),v(r,a),v(a,o),v(t,l),v(t,f),v(f,s),We(s,e[10]),v(f,h),v(f,c),v(c,m),w||(L=[he(n,"input",e[30]),he(s,"input",e[31])],w=!0)},p(I,D){D[0]&512&&We(n,I[9]),D[0]&1024&&We(s,I[10])},d(I){I&&b(t),w=!1,nt(L)}}}function Zo(e){let t,r,n;return t=new ot({props:{src:sn,class:"w-4 h-4"}}),{c(){ve(t.$$.fragment),r=fe(`
				Save`)},l(i){ge(t.$$.fragment,i),r=de(i,`
				Save`)},m(i,a){pe(t,i,a),le(i,r,a),n=!0},p:Fe,i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){j(t.$$.fragment,i),n=!1},d(i){_e(t,i),i&&b(r)}}}function Wo(e){let t,r,n,i,a,o,l,f,s,h,c,m,w,L,I,D,T,C,A,_,M,P,R,V,O,F,U,B,q,ce,oe,we,te,me,ne,ae,N,ee,ie,Ie,ze,Ye,De,Ae,Ve,ye,at;const it=[zo,Oo],Ee=[];function lt(y,W){return y[4]&&y[12]?0:1}a=lt(e),o=Ee[a]=it[a](e);let H=e[12]&&Cr(e);function Rt(y){e[24](y)}let st={label:"Dither Mode",options:e[16]};e[0]!==void 0&&(st.selected=e[0]),I=new gn({props:st}),xe.push(()=>Be(I,"selected",Rt));let K=e[0]==="bayer"&&Br(e),Q=e[0]==="white_noise"&&Nr(e);function kt(y){e[27](y)}let ut={label:"Threshold ("+e[6]+")",min:0,max:1,step:.01};e[6]!==void 0&&(ut.value=e[6]),_=new Xt({props:ut}),xe.push(()=>Be(_,"value",kt));function Ge(y){e[28](y)}let je={label:"Noise Intensity ("+e[7]+")",min:0,max:1.5,step:.01};e[7]!==void 0&&(je.value=e[7]),R=new Xt({props:je}),xe.push(()=>Be(R,"value",Ge));let re=e[8]&&Fr(e);function ct(y){e[32](y)}function Mt(y){e[33](y)}let He={};return e[3]!==void 0&&(He.width=e[3]),e[5]!==void 0&&(He.aspectRatio=e[5]),ie=new Or({props:He}),xe.push(()=>Be(ie,"width",ct)),xe.push(()=>Be(ie,"aspectRatio",Mt)),Ae=new Rn({props:{disabled:!(e[4]&&e[12]),$$slots:{default:[Zo]},$$scope:{ctx:e}}}),Ae.$on("click",e[15]),{c(){t=$(),r=$(),n=S("main"),i=S("section"),o.c(),l=$(),f=S("aside"),s=S("section"),H&&H.c(),h=$(),c=S("div"),m=S("h2"),w=fe("Dithering Options"),L=$(),ve(I.$$.fragment),T=$(),K&&K.c(),C=$(),Q&&Q.c(),A=$(),ve(_.$$.fragment),P=$(),ve(R.$$.fragment),O=$(),F=S("div"),U=S("div"),B=S("input"),q=$(),ce=S("div"),oe=S("label"),we=fe("Monochrome"),te=$(),re&&re.c(),me=$(),ne=S("div"),ae=S("h2"),N=fe("Output Options"),ee=$(),ve(ie.$$.fragment),Ye=$(),De=S("footer"),ve(Ae.$$.fragment),this.h()},l(y){on("svelte-1hm2pfs",document.head).forEach(b),t=Z(y),r=Z(y),n=x(y,"MAIN",{class:!0});var be=k(n);i=x(be,"SECTION",{class:!0});var ke=k(i);o.l(ke),ke.forEach(b),l=Z(be),f=x(be,"ASIDE",{class:!0});var Te=k(f);s=x(Te,"SECTION",{class:!0});var se=k(s);H&&H.l(se),h=Z(se),c=x(se,"DIV",{class:!0});var J=k(c);m=x(J,"H2",{class:!0});var Re=k(m);w=de(Re,"Dithering Options"),Re.forEach(b),L=Z(J),ge(I.$$.fragment,J),T=Z(J),K&&K.l(J),C=Z(J),Q&&Q.l(J),A=Z(J),ge(_.$$.fragment,J),P=Z(J),ge(R.$$.fragment,J),O=Z(J),F=x(J,"DIV",{class:!0});var Me=k(F);U=x(Me,"DIV",{class:!0});var Ke=k(U);B=x(Ke,"INPUT",{type:!0,id:!0,class:!0}),Ke.forEach(b),q=Z(Me),ce=x(Me,"DIV",{class:!0});var ft=k(ce);oe=x(ft,"LABEL",{for:!0,class:!0});var dt=k(oe);we=de(dt,"Monochrome"),dt.forEach(b),ft.forEach(b),Me.forEach(b),te=Z(J),re&&re.l(J),J.forEach(b),me=Z(se),ne=x(se,"DIV",{class:!0});var Le=k(ne);ae=x(Le,"H2",{class:!0});var ht=k(ae);N=de(ht,"Output Options"),ht.forEach(b),ee=Z(Le),ge(ie.$$.fragment,Le),Le.forEach(b),se.forEach(b),Ye=Z(Te),De=x(Te,"FOOTER",{class:!0});var Qe=k(De);ge(Ae.$$.fragment,Qe),Qe.forEach(b),Te.forEach(b),be.forEach(b),this.h()},h(){document.title="Dithering",d(i,"class","flex-1 overflow-hidden select-none"),d(m,"class","text-base font-semibold leading-7 text-black mb-2"),d(B,"type","checkbox"),d(B,"id","monochrome"),d(B,"class","h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"),d(U,"class","flex h-6 items-center"),d(oe,"for","monochrome"),d(oe,"class","font-medium text-gray-900"),d(ce,"class","ml-3 text-sm leading-6"),d(F,"class","relative flex items-start"),d(c,"class","grid gap-3"),d(ae,"class","text-base font-semibold leading-7 text-black mb-4"),d(ne,"class","border-t border-gray-100 py-4"),d(s,"class","grid gap-5 overflow-y-auto overflow-x-visible py-8 px-4"),d(De,"class","py-4 px-4 flex-shrink-0"),d(f,"class","bg-white w-full md:max-w-md border-t md:border-t-0 md:border-l border-l-0 border-gray-100 z-50 overflow-y-hidden md:h-full flex-1 shadow-lg flex flex-col divide-y divide-gray-200 justify-between"),d(n,"class","w-screen max-w-screen h-screen max-h-screen flex md:flex-row flex-col bg-gray-300")},m(y,W){le(y,t,W),le(y,r,W),le(y,n,W),v(n,i),Ee[a].m(i,null),v(n,l),v(n,f),v(f,s),H&&H.m(s,null),v(s,h),v(s,c),v(c,m),v(m,w),v(c,L),pe(I,c,null),v(c,T),K&&K.m(c,null),v(c,C),Q&&Q.m(c,null),v(c,A),pe(_,c,null),v(c,P),pe(R,c,null),v(c,O),v(c,F),v(F,U),v(U,B),B.checked=e[8],v(F,q),v(F,ce),v(ce,oe),v(oe,we),v(c,te),re&&re.m(c,null),v(s,me),v(s,ne),v(ne,ae),v(ae,N),v(ne,ee),pe(ie,ne,null),v(f,Ye),v(f,De),pe(Ae,De,null),Ve=!0,ye||(at=[he(document.body,"drop",Zt(e[17])),he(document.body,"dragover",Zt(Xo)),he(B,"change",e[29])],ye=!0)},p(y,W){let be=a;a=lt(y),a===be?Ee[a].p(y,W):(bt(),j(Ee[be],1,1,()=>{Ee[be]=null}),_t(),o=Ee[a],o?o.p(y,W):(o=Ee[a]=it[a](y),o.c()),X(o,1),o.m(i,null)),y[12]?H?(H.p(y,W),W[0]&4096&&X(H,1)):(H=Cr(y),H.c(),X(H,1),H.m(s,h)):H&&(bt(),j(H,1,1,()=>{H=null}),_t());const ke={};!D&&W[0]&1&&(D=!0,ke.selected=y[0],Ne(()=>D=!1)),I.$set(ke),y[0]==="bayer"?K?(K.p(y,W),W[0]&1&&X(K,1)):(K=Br(y),K.c(),X(K,1),K.m(c,C)):K&&(bt(),j(K,1,1,()=>{K=null}),_t()),y[0]==="white_noise"?Q?(Q.p(y,W),W[0]&1&&X(Q,1)):(Q=Nr(y),Q.c(),X(Q,1),Q.m(c,A)):Q&&(bt(),j(Q,1,1,()=>{Q=null}),_t());const Te={};W[0]&64&&(Te.label="Threshold ("+y[6]+")"),!M&&W[0]&64&&(M=!0,Te.value=y[6],Ne(()=>M=!1)),_.$set(Te);const se={};W[0]&128&&(se.label="Noise Intensity ("+y[7]+")"),!V&&W[0]&128&&(V=!0,se.value=y[7],Ne(()=>V=!1)),R.$set(se),W[0]&256&&(B.checked=y[8]),y[8]?re?re.p(y,W):(re=Fr(y),re.c(),re.m(c,null)):re&&(re.d(1),re=null);const J={};!Ie&&W[0]&8&&(Ie=!0,J.width=y[3],Ne(()=>Ie=!1)),!ze&&W[0]&32&&(ze=!0,J.aspectRatio=y[5],Ne(()=>ze=!1)),ie.$set(J);const Re={};W[0]&4112&&(Re.disabled=!(y[4]&&y[12])),W[1]&64&&(Re.$$scope={dirty:W,ctx:y}),Ae.$set(Re)},i(y){Ve||(X(o),X(H),X(I.$$.fragment,y),X(K),X(Q),X(_.$$.fragment,y),X(R.$$.fragment,y),X(ie.$$.fragment,y),X(Ae.$$.fragment,y),Ve=!0)},o(y){j(o),j(H),j(I.$$.fragment,y),j(K),j(Q),j(_.$$.fragment,y),j(R.$$.fragment,y),j(ie.$$.fragment,y),j(Ae.$$.fragment,y),Ve=!1},d(y){y&&b(t),y&&b(r),y&&b(n),Ee[a].d(),H&&H.d(),_e(I),K&&K.d(),Q&&Q.d(),_e(_),_e(R),re&&re.d(),_e(ie),_e(Ae),ye=!1,nt(at)}}}const Xo=()=>{};function qo(e,t,r){let n,i,a;const o=[xo,Io,Do];let l=.5,f=.3,s=!1,h="#ede6cc",c="#21263f",m=null,w="blue_noise",L=3,I=256,D=600,T=null;async function C(){m&&await kn(m,"dithered","png")}const A=[{name:"Bayer",value:"bayer"},{name:"Blue Noise",value:"blue_noise"},{name:"White Noise",value:"white_noise"}];async function _(N){var ie;const ee=(ie=N.dataTransfer)==null?void 0:ie.files[0];if(ee){if(!ee.type.startsWith("image/")){alert("Please drop an image file");return}try{r(4,T=await mr(ee))}catch(Ie){alert("Failed to load image"),console.error(Ie)}}}async function M(N){const ee=N.target.files[0];if(ee)try{r(4,T=await mr(ee))}catch(ie){alert("Failed to load image"),console.error(ie)}}async function P(N){const ee=new Image;ee.onload=()=>{r(4,T=ee)},ee.src=N}let R=null;function V(N){xe[N?"unshift":"push"](()=>{m=N,r(11,m)})}const O=()=>r(4,T=null),F=N=>P(N);function U(N){w=N,r(0,w)}function B(N){L=N,r(1,L)}function q(N){I=N,r(2,I)}function ce(N){l=N,r(6,l)}function oe(N){f=N,r(7,f)}function we(){s=this.checked,r(8,s)}function te(){h=this.value,r(9,h)}function me(){c=this.value,r(10,c)}function ne(N){D=N,r(3,D)}function ae(N){a=N,r(5,a),r(4,T)}return e.$$.update=()=>{if(e.$$.dirty[0]&4&&r(20,n=I),e.$$.dirty[0]&16&&r(5,a=T!=null&&T.width&&(T!=null&&T.height)?T.width/T.height:1),e.$$.dirty[0]&40&&r(13,i=D/a),e.$$.dirty[0]&1048583&&"ImageData"in globalThis){let N;switch(w){case"bayer":N={mode:"bayer",level:L};break;case"blue_noise":N={mode:"blue_noise"};break;case"white_noise":N={mode:"white_noise",width:I,height:n};break}Mo(N).then(ee=>r(12,R=ee))}},[w,L,I,D,T,a,l,f,s,h,c,m,R,i,o,C,A,_,M,P,n,V,O,F,U,B,q,ce,oe,we,te,me,ne,ae]}class Ko extends Ue{constructor(t){super(),Pe(this,t,qo,Wo,Oe,{},null,[-1,-1])}}export{Ko as component};
