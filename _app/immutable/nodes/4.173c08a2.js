import{S as qe,i as Ye,s as He,k as w,q as oe,a as F,y as ye,l as y,m as S,r as ae,h as b,c as O,z as Ee,n as f,b as ce,G as h,A as Te,N as ve,g as ne,d as se,B as xe,O as nt,P as Yr,Q as sr,u as Yt,H as Se,R as Hr,T as jr,U as Qe,V as Kr,K as lr,L as ur,W as ht,M as Rt,C as Vt,D as $t,E as Xt,F as Gt,X as Jr,p as cr,Y as Wt,w as Me,Z as We,J as Qr,_ as Ze,f as fr,v as dr,$ as en}from"../chunks/index.e28b63b6.js";import{I as Lt,L as tn,A as rn,a as nn,X as on}from"../chunks/Icon.66268336.js";import{g as an}from"../chunks/_commonjsHelpers.725317a4.js";function sn(e){let t,r,n,i,o,a,s,u,l,d,m,v,p,L,D,I,R,k,x,A,N,X,G,U,C,$;return p=new Lt({props:{src:tn,class:"w-4 h-4",solid:!0}}),{c(){t=w("fieldset"),r=w("div"),n=w("label"),i=oe("Width"),o=F(),a=w("div"),s=w("input"),u=F(),l=w("div"),d=oe("px"),m=F(),v=w("span"),ye(p.$$.fragment),L=F(),D=w("div"),I=w("label"),R=oe("Height"),k=F(),x=w("div"),A=w("input"),N=F(),X=w("div"),G=oe("px"),this.h()},l(B){t=y(B,"FIELDSET",{class:!0});var M=S(t);r=y(M,"DIV",{class:!0});var z=S(r);n=y(z,"LABEL",{for:!0,class:!0});var Q=S(n);i=ae(Q,"Width"),Q.forEach(b),o=O(z),a=y(z,"DIV",{class:!0});var P=S(a);s=y(P,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),u=O(P),l=y(P,"DIV",{class:!0});var K=S(l);d=ae(K,"px"),K.forEach(b),P.forEach(b),z.forEach(b),m=O(M),v=y(M,"SPAN",{class:!0});var Y=S(v);Ee(p.$$.fragment,Y),Y.forEach(b),L=O(M),D=y(M,"DIV",{class:!0});var le=S(D);I=y(le,"LABEL",{for:!0,class:!0});var ge=S(I);R=ae(ge,"Height"),ge.forEach(b),k=O(le),x=y(le,"DIV",{class:!0});var ee=S(x);A=y(ee,"INPUT",{type:!0,id:!0,name:!0,min:!0,max:!0,step:!0,class:!0,placeholder:!0}),N=O(ee),X=y(ee,"DIV",{class:!0});var ie=S(X);G=ae(ie,"px"),ie.forEach(b),ee.forEach(b),le.forEach(b),M.forEach(b),this.h()},h(){f(n,"for","width-"+e[4]),f(n,"class","block text-sm font-medium leading-6 text-gray-900"),f(s,"name","width"),f(s,"id","width-"+e[4]),f(s,"type","number"),f(s,"min","12"),f(s,"max","3000"),f(s,"step","1"),s.value=e[0],f(s,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),f(s,"placeholder","600"),f(l,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),f(a,"class","relative mt-2 rounded-md shadow-sm"),f(r,"class","w-full"),f(v,"class","text-gray-500 pb-2 cursor-not-allowed"),f(I,"for","height-"+e[5]),f(I,"class","block text-sm font-medium leading-6 text-gray-900"),f(A,"type","number"),f(A,"id","height-"+e[5]),f(A,"name","height"),f(A,"min","12"),f(A,"max","3000"),f(A,"step","1"),A.value=e[1],f(A,"class","block w-full rounded-md border-0 py-1.5 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"),f(A,"placeholder","340"),f(X,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400"),f(x,"class","relative mt-2 rounded-md shadow-sm"),f(D,"class","w-full"),f(t,"class","flex gap-3 items-end justify-between")},m(B,M){ce(B,t,M),h(t,r),h(r,n),h(n,i),h(r,o),h(r,a),h(a,s),h(a,u),h(a,l),h(l,d),h(t,m),h(t,v),Te(p,v,null),h(t,L),h(t,D),h(D,I),h(I,R),h(D,k),h(D,x),h(x,A),h(x,N),h(x,X),h(X,G),U=!0,C||($=[ve(s,"input",e[2]),ve(A,"input",e[3])],C=!0)},p(B,[M]){(!U||M&1&&s.value!==B[0])&&(s.value=B[0]),(!U||M&2&&A.value!==B[1])&&(A.value=B[1])},i(B){U||(ne(p.$$.fragment,B),U=!0)},o(B){se(p.$$.fragment,B),U=!1},d(B){B&&b(t),xe(p),C=!1,nt($)}}}function mr(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function ln(e,t,r){let n,{width:i}=t,{aspectRatio:o}=t;function a(d){const m=d.target.value;m&&r(0,i=m)}function s(d){const m=d.target.value;m&&r(0,i=Math.round(o*m))}let u=mr(),l=mr();return e.$$set=d=>{"width"in d&&r(0,i=d.width),"aspectRatio"in d&&r(6,o=d.aspectRatio)},e.$$.update=()=>{e.$$.dirty&65&&r(1,n=Math.round(i/o))},[i,n,a,s,u,l,o]}class un extends qe{constructor(t){super(),Ye(this,t,ln,sn,He,{width:0,aspectRatio:6})}}function hr(e,t,r){const n=e.slice();return n[6]=t[r],n}function vr(e){let t,r=e[6].name+"",n,i,o;return{c(){t=w("option"),n=oe(r),this.h()},l(a){t=y(a,"OPTION",{});var s=S(t);n=ae(s,r),s.forEach(b),this.h()},h(){t.__value=i=e[6].value,t.value=t.__value,t.selected=o=e[6].value===e[0]},m(a,s){ce(a,t,s),h(t,n)},p(a,s){s&2&&r!==(r=a[6].name+"")&&Yt(n,r),s&2&&i!==(i=a[6].value)&&(t.__value=i,t.value=t.__value),s&3&&o!==(o=a[6].value===a[0])&&(t.selected=o)},d(a){a&&b(t)}}}function cn(e){let t,r,n,i,o,a,s,u=e[1],l=[];for(let d=0;d<u.length;d+=1)l[d]=vr(hr(e,u,d));return{c(){t=w("div"),r=w("label"),n=oe(e[2]),i=F(),o=w("select");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){t=y(d,"DIV",{});var m=S(t);r=y(m,"LABEL",{for:!0,class:!0});var v=S(r);n=ae(v,e[2]),v.forEach(b),i=O(m),o=y(m,"SELECT",{id:!0,name:!0,class:!0});var p=S(o);for(let L=0;L<l.length;L+=1)l[L].l(p);p.forEach(b),m.forEach(b),this.h()},h(){f(r,"for",e[4]),f(r,"class","block text-sm font-medium leading-6 text-gray-900"),f(o,"id",e[4]),f(o,"name",e[3]),f(o,"class","mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"),e[0]===void 0&&Yr(()=>e[5].call(o))},m(d,m){ce(d,t,m),h(t,r),h(r,n),h(t,i),h(t,o);for(let v=0;v<l.length;v+=1)l[v]&&l[v].m(o,null);sr(o,e[0],!0),a||(s=ve(o,"change",e[5]),a=!0)},p(d,[m]){if(m&4&&Yt(n,d[2]),m&3){u=d[1];let v;for(v=0;v<u.length;v+=1){const p=hr(d,u,v);l[v]?l[v].p(p,m):(l[v]=vr(p),l[v].c(),l[v].m(o,null))}for(;v<l.length;v+=1)l[v].d(1);l.length=u.length}m&8&&f(o,"name",d[3]),m&3&&sr(o,d[0])},i:Se,o:Se,d(d){d&&b(t),Hr(l,d),a=!1,s()}}}function fn(e,t,r){let{options:n}=t,{selected:i}=t,{label:o}=t,{name:a=void 0}=t,s=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function u(){i=jr(this),r(0,i),r(1,n)}return e.$$set=l=>{"options"in l&&r(1,n=l.options),"selected"in l&&r(0,i=l.selected),"label"in l&&r(2,o=l.label),"name"in l&&r(3,a=l.name)},[i,n,o,a,s,u]}class dn extends qe{constructor(t){super(),Ye(this,t,fn,cn,He,{options:1,selected:0,label:2,name:3})}}function mn(e){let t,r,n,i,o,a,s;return{c(){t=w("div"),r=w("label"),n=oe(e[1]),i=F(),o=w("input"),this.h()},l(u){t=y(u,"DIV",{});var l=S(t);r=y(l,"LABEL",{for:!0,class:!0});var d=S(r);n=ae(d,e[1]),d.forEach(b),i=O(l),o=y(l,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,name:!0,class:!0}),l.forEach(b),this.h()},h(){f(r,"for",e[6]),f(r,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white"),f(o,"id",e[6]),f(o,"type","range"),f(o,"min",e[3]),f(o,"max",e[4]),f(o,"step",e[5]),f(o,"name",e[2]),f(o,"class","w-full h-1.5 mb-6 bg-white ring-1 ring-gray-300 shadow-sm rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700")},m(u,l){ce(u,t,l),h(t,r),h(r,n),h(t,i),h(t,o),Qe(o,e[0]),a||(s=[ve(o,"change",e[7]),ve(o,"input",e[7])],a=!0)},p(u,[l]){l&2&&Yt(n,u[1]),l&8&&f(o,"min",u[3]),l&16&&f(o,"max",u[4]),l&32&&f(o,"step",u[5]),l&4&&f(o,"name",u[2]),l&1&&Qe(o,u[0])},i:Se,o:Se,d(u){u&&b(t),a=!1,nt(s)}}}function hn(e,t,r){let{label:n}=t,{name:i=void 0}=t,{min:o=null}=t,{max:a=null}=t,{value:s=0}=t,{step:u=1}=t,l=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);function d(){s=Kr(this.value),r(0,s)}return e.$$set=m=>{"label"in m&&r(1,n=m.label),"name"in m&&r(2,i=m.name),"min"in m&&r(3,o=m.min),"max"in m&&r(4,a=m.max),"value"in m&&r(0,s=m.value),"step"in m&&r(5,u=m.step)},[s,n,i,o,a,u,l,d]}class Zt extends qe{constructor(t){super(),Ye(this,t,hn,mn,He,{label:1,name:2,min:3,max:4,value:0,step:5})}}const vn=""+new URL("../assets/blue_noise.b61cfddd.png",import.meta.url).href,pn={width:470,height:470},gn=""+new URL("../assets/white_noise.2f37d8a6.png",import.meta.url).href,_n={width:256,height:256};var bn="precision highp float;attribute vec2 position;varying vec2 fragCoord;void main(){fragCoord.x=position.x*0.5+0.5;fragCoord.y=position.y*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}",wn="precision highp float;varying vec2 fragCoord;uniform sampler2D uSampler;uniform float uThreshold;uniform sampler2D uNoiseSampler;uniform vec2 uNoiseSamplerSize;uniform float uNoise;uniform float uMonochrome;uniform vec2 uSize;uniform vec3 uDarkColor;uniform vec3 uLightColor;void main(void){vec2 imgPixel=vec2(fragCoord.x*uSize.x,fragCoord.y*uSize.y);vec2 noisePixel=vec2(mod(imgPixel.x,uNoiseSamplerSize.x),mod(imgPixel.y,uNoiseSamplerSize.y));vec2 noiseUV=vec2(noisePixel.x/uNoiseSamplerSize.x,noisePixel.y/uNoiseSamplerSize.y);float noise=(texture2D(uNoiseSampler,noiseUV).r-0.5)*2.0*uNoise;vec4 color=texture2D(uSampler,fragCoord);float gray=dot(color.rgb,vec3(0.299,0.587,0.114));color.r=color.r*(1.0-uMonochrome)+gray*uMonochrome;color.g=color.g*(1.0-uMonochrome)+gray*uMonochrome;color.b=color.b*(1.0-uMonochrome)+gray*uMonochrome;vec3 thresholds=vec3(step(uThreshold,color.r+noise),step(uThreshold,color.g+noise),step(uThreshold,color.b+noise));if(uMonochrome>0.0){color.rgb=vec3(mix(uDarkColor.r,uLightColor.r,thresholds.r),mix(uDarkColor.g,uLightColor.g,thresholds.g),mix(uDarkColor.b,uLightColor.b,thresholds.b));}else{color.rgb=thresholds;}gl_FragColor=color;}";function yn(e,t,r){const n=pr(e,e.VERTEX_SHADER,t),i=pr(e,e.FRAGMENT_SHADER,r),o=e.createProgram();if(!o)throw new Error("Failed to create shader program");if(e.attachShader(o,n),e.attachShader(o,i),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw Error(`Unable to initialize the shader program: ${e.getProgramInfoLog(o)}`);return o}function pr(e,t,r){const n=e.createShader(t);if(!n)throw new Error("Failed to create shader");if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error(`An error occurred compiling the shaders: ${e.getShaderInfoLog(n)}`);return n}function gr(e,t,r=()=>{}){const n=e.createTexture();if(!n)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,n);const i=0,o=e.RGBA,a=1,s=1,u=0,l=e.RGBA,d=e.UNSIGNED_BYTE,m=new Uint8Array([128,128,128,255]);e.texImage2D(e.TEXTURE_2D,i,o,a,s,u,l,d,m);const v=new Image;return v.onload=()=>{e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,i,o,l,d,v),rt(v.width)&&rt(v.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r()},v.src=t,n}function En(e){const t=e.createTexture();if(!t)throw new Error("Failed to create texture");e.bindTexture(e.TEXTURE_2D,t);const r=0,n=e.RGBA,i=1,o=1,a=0,s=e.RGBA,u=e.UNSIGNED_BYTE,l=new Uint8Array([0,0,255,255]);return e.texImage2D(e.TEXTURE_2D,r,n,i,o,a,s,u,l),t}function Tn(e,t,r){const i=e.RGBA,o=e.RGBA,a=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,i,o,a,r),rt(r.width)&&rt(r.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR))}function rt(e){return(e&e-1)===0}function xn(e){const t=e.createBuffer(),r=e.createBuffer(),n=[-1,1,-1,-1,1,-1,1,1],i=[3,2,1,3,1,0];return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW),{vertex_buffer:t,index_buffer:r}}function Sn(e,t){const r=document.createElement("canvas");r.width=Math.pow(2,t+1),r.height=Math.pow(2,t+1);const n=Pr(t),i=Math.pow(2,2*t),o=n.map(s=>s.map(u=>u/i)),a=r.getContext("2d");for(let s=0;s<o.length;s++)for(let u=0;u<o[s].length;u++){const l=o[s][u]*255/4;a.fillStyle=`rgb(${l}, ${l}, ${l})`,a.fillRect(u,s,1,1)}return Dn(e,a)}const Pt=new Map;function Pr(e){if(Pt.has(e))return Pt.get(e);if(e===0)return[[0,2],[3,1]];const t=Pr(e-1),r=new Array(t.length*2).fill(0).map(()=>new Array(t.length*2).fill(0));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)r[n][i]=t[n][i]*4,r[n][i+t.length]=t[n][i]*4+2,r[n+t.length][i]=t[n][i]*4+3,r[n+t.length][i+t.length]=t[n][i]*4+1;return Pt.set(e,r),r}function Dn(e,t){const r=e.createTexture();if(!r)throw new Error("Failed to create texture");return e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.canvas),rt(t.canvas.width)&&rt(t.canvas.height)?e.generateMipmap(e.TEXTURE_2D):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r}function In(e,t){let r=t;const n=e.getContext("webgl",{preserveDrawingBuffer:!0});if(!n){alert("WebGL not supported");return}const i=()=>{Tn(n,k,r.image)};n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);const o=yn(n,bn,wn),{vertex_buffer:a,index_buffer:s}=xn(n),u=n.getAttribLocation(o,"position");n.vertexAttribPointer(u,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(u);const l=n.getUniformLocation(o,"uSampler"),d=n.getUniformLocation(o,"uThreshold"),m=n.getUniformLocation(o,"uNoiseSampler"),v=n.getUniformLocation(o,"uNoise"),p=n.getUniformLocation(o,"uSize"),L=n.getUniformLocation(o,"uNoiseSamplerSize"),D=n.getUniformLocation(o,"uMonochrome"),I=n.getUniformLocation(o,"uDarkColor"),R=n.getUniformLocation(o,"uLightColor"),k=En(n);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),i();let x,A;n.useProgram(o);let N=null;const X=()=>{if(r.mode==="blue_noise"){const C=gr(n,vn,U);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),x=C,A=pn;return}if(r.mode==="white_noise"){const C=gr(n,gn,U);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),x=C,A=_n;return}if(r.mode.startsWith("bayer_")){const C=Number(r.mode.slice(6));if(isNaN(C))throw new Error(`Invalid bayer level: "${r.mode}"`);const $=Sn(n,C),B=Math.pow(2,C+1);x=$,A={width:B,height:B};return}throw new Error(`Unknown mode: "${r.mode}"`)};X();const G=()=>{n.viewport(0,0,r.width,r.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,a),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,k),n.uniform1i(l,0),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,x),n.uniform1i(m,1),n.uniform2f(L,A.width,A.height),n.uniform1f(d,r.threshold),n.uniform1f(v,r.noiseIntensity),n.uniform2f(p,r.width,r.height),n.uniform1f(D,r.monochrome?1:0),n.uniform3f(I,..._r(r.colorDark)),n.uniform3f(R,..._r(r.colorLight)),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)};function U(){N=requestAnimationFrame(()=>{G(),N=null})}return U(),{update(C){const $=r.image!==C.image,B=r.mode!==C.mode;r=C,$&&i(),B&&X(),U()},destroy(){N!==null&&cancelAnimationFrame(N)}}}function _r(e){const t=parseInt(e.slice(1,3),16)/255,r=parseInt(e.slice(3,5),16)/255,n=parseInt(e.slice(5,7),16)/255;return[t,r,n]}const Rn=""+new URL("../assets/img.58b560b7.jpg",import.meta.url).href;async function An(e,t,r="png"){const n=new OffscreenCanvas(e.width,e.height),i=n.getContext("2d");if(!i)return;i.drawImage(e,0,0,e.width,e.height);const o=await n.convertToBlob({type:"image/"+r,quality:1}),a=URL.createObjectURL(o),s=document.createElement("a");s.download=`${t}.${r}`,s.href=a,s.click(),s.remove(),URL.revokeObjectURL(a)}function qt(e){return new Promise((t,r)=>{e.type.startsWith("image/")||r(new Error("Not an image file"));const n=new FileReader;n.onload=i=>{if(typeof n.result!="string")return;const o=new Image;o.onload=()=>{t(o)},o.onerror=a=>{r(a)},o.src=n.result},n.onerror=i=>{r(i)},n.readAsDataURL(e)})}function Ln(e){let t;return{c(){t=w("div"),this.h()},l(r){t=y(r,"DIV",{class:!0}),S(t).forEach(b),this.h()},h(){f(t,"class","flex justify-center rounded-lg border border-dashed border-gray-900/25 h-48")},m(r,n){ce(r,t,n)},p:Se,d(r){r&&b(t)}}}function kn(e){let t,r;return{c(){t=w("img"),this.h()},l(n){t=y(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Rt(t.src,r=e[0].src)||f(t,"src",r),f(t,"alt","Your selected image"),f(t,"class","w-full rounded-lg bg-gray-50")},m(n,i){ce(n,t,i)},p(n,i){i&1&&!Rt(t.src,r=n[0].src)&&f(t,"src",r)},d(n){n&&b(t)}}}function Cn(e){let t,r,n,i,o,a,s,u,l,d,m,v,p,L,D,I,R,k,x,A,N,X,G,U,C,$,B,M,z,Q,P,K,Y,le,ge;function ee(j,W){return j[0]?kn:Ln}let ie=ee(e),re=ie(e);return{c(){t=w("div"),r=w("label"),n=oe("Image"),i=F(),o=w("div"),re.c(),a=F(),s=w("div"),u=w("div"),l=lr("svg"),d=lr("path"),v=F(),p=w("div"),L=w("label"),D=w("span"),I=oe("Choose an Image"),R=F(),k=w("input"),A=F(),N=w("p"),X=oe("or drag and drop"),U=F(),C=w("p"),$=oe("PNG, JPG, GIF, etc"),M=F(),z=w("p"),Q=w("button"),P=oe("Or use my cats"),this.h()},l(j){t=y(j,"DIV",{class:!0});var W=S(t);r=y(W,"LABEL",{for:!0,class:!0});var Le=S(r);n=ae(Le,"Image"),Le.forEach(b),i=O(W),o=y(W,"DIV",{class:!0});var De=S(o);re.l(De),a=O(De),s=y(De,"DIV",{class:!0});var Ne=S(s);u=y(Ne,"DIV",{class:!0});var fe=S(u);l=ur(fe,"svg",{class:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var _e=S(l);d=ur(_e,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),S(d).forEach(b),_e.forEach(b),v=O(fe),p=y(fe,"DIV",{class:!0});var pe=S(p);L=y(pe,"LABEL",{for:!0,class:!0});var be=S(L);D=y(be,"SPAN",{});var de=S(D);I=ae(de,"Choose an Image"),de.forEach(b),R=O(be),k=y(be,"INPUT",{type:!0,class:!0,id:!0,accept:!0}),be.forEach(b),A=O(pe),N=y(pe,"P",{class:!0});var me=S(N);X=ae(me,"or drag and drop"),me.forEach(b),pe.forEach(b),U=O(fe),C=y(fe,"P",{class:!0});var ke=S(C);$=ae(ke,"PNG, JPG, GIF, etc"),ke.forEach(b),M=O(fe),z=y(fe,"P",{});var Ue=S(z);Q=y(Ue,"BUTTON",{class:!0});var ze=S(Q);P=ae(ze,"Or use my cats"),ze.forEach(b),Ue.forEach(b),fe.forEach(b),Ne.forEach(b),De.forEach(b),W.forEach(b),this.h()},h(){f(r,"for","cover-photo"),f(r,"class","block text-sm font-medium leading-6 text-gray-900"),f(d,"fill-rule","evenodd"),f(d,"d","M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"),f(d,"clip-rule","evenodd"),f(l,"class",m="mx-auto h-12 w-12 "+(e[0]?"text-white":"text-gray-300")),f(l,"viewBox","0 0 24 24"),f(l,"fill","currentColor"),f(l,"aria-hidden","true"),f(k,"type","file"),f(k,"class","sr-only"),f(k,"id","image-input"),f(k,"accept","image/*"),f(L,"for","image-input"),f(L,"class",x="relative cursor-pointer rounded-md font-semibold "+(e[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"),f(N,"class","pl-1"),f(p,"class",G="mt-4 flex text-sm leading-6 "+(e[0]?"text-white":"text-gray-600")+" text-center w-fit"),f(C,"class",B="text-xs leading-5 "+(e[0]?"text-white":"text-gray-600")),f(Q,"class",K="font-semibold cursor-pointer text-sm "+(e[0]?"text-indigo-500":"text-indigo-600")),f(u,"class","text-center w-fit h-fit"),f(s,"class",Y="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(e[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":"")),f(o,"class","mt-2 relative w-full"),f(t,"class","col-span-full")},m(j,W){ce(j,t,W),h(t,r),h(r,n),h(t,i),h(t,o),re.m(o,null),h(o,a),h(o,s),h(s,u),h(u,l),h(l,d),h(u,v),h(u,p),h(p,L),h(L,D),h(D,I),h(L,R),h(L,k),h(p,A),h(p,N),h(N,X),h(u,U),h(u,C),h(C,$),h(u,M),h(u,z),h(z,Q),h(Q,P),le||(ge=[ve(k,"input",e[1]),ve(Q,"click",e[3]),ve(s,"drop",ht(e[2])),ve(s,"dragover",ht(Bn))],le=!0)},p(j,[W]){ie===(ie=ee(j))&&re?re.p(j,W):(re.d(1),re=ie(j),re&&(re.c(),re.m(o,a))),W&1&&m!==(m="mx-auto h-12 w-12 "+(j[0]?"text-white":"text-gray-300"))&&f(l,"class",m),W&1&&x!==(x="relative cursor-pointer rounded-md font-semibold "+(j[0]?"text-indigo-500":"text-indigo-600")+" focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500")&&f(L,"class",x),W&1&&G!==(G="mt-4 flex text-sm leading-6 "+(j[0]?"text-white":"text-gray-600")+" text-center w-fit")&&f(p,"class",G),W&1&&B!==(B="text-xs leading-5 "+(j[0]?"text-white":"text-gray-600"))&&f(C,"class",B),W&1&&K!==(K="font-semibold cursor-pointer text-sm "+(j[0]?"text-indigo-500":"text-indigo-600"))&&f(Q,"class",K),W&1&&Y!==(Y="pointer-events-auto absolute inset-0 grid place-items-center rounded-lg "+(j[0]?"opacity-0 hover:opacity-100 focus-within:opacity-100 hover:backdrop-blur-sm bg-black bg-opacity-50":""))&&f(s,"class",Y)},i:Se,o:Se,d(j){j&&b(t),re.d(),le=!1,nt(ge)}}}const Bn=()=>{};function Mn(e,t,r){let{image:n=null}=t;async function i(s){const u=s.target.files[0];if(u){try{r(0,n=await qt(u))}catch(l){alert("Failed to load image"),console.error(l)}s.target&&"blur"in s.target&&typeof s.target.blur=="function"&&s.target.blur()}}async function o(s){var l;const u=(l=s.dataTransfer)==null?void 0:l.files[0];if(u)try{r(0,n=await qt(u))}catch(d){alert("Failed to load image"),console.error(d)}}function a(s){const u=new Image;u.onload=()=>{r(0,n=u)},u.src=Rn,s.target&&"blur"in s.target&&typeof s.target.blur=="function"&&s.target.blur()}return e.$$set=s=>{"image"in s&&r(0,n=s.image)},[n,i,o,a]}class Nn extends qe{constructor(t){super(),Ye(this,t,Mn,Cn,He,{image:0})}}function Un(e){let t,r,n,i,o;const a=e[3].default,s=Vt(a,e,e[2],null);return{c(){t=w("button"),s&&s.c(),this.h()},l(u){t=y(u,"BUTTON",{type:!0,class:!0});var l=S(t);s&&s.l(l),l.forEach(b),this.h()},h(){t.disabled=e[0],f(t,"type","button"),f(t,"class",r=e[1][e[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2")},m(u,l){ce(u,t,l),s&&s.m(t,null),n=!0,i||(o=ve(t,"click",e[4]),i=!0)},p(u,[l]){s&&s.p&&(!n||l&4)&&$t(s,a,u,u[2],n?Gt(a,u[2],l,null):Xt(u[2]),null),(!n||l&1)&&(t.disabled=u[0]),(!n||l&1&&r!==(r=u[1][u[0]?"disabled":"normal"]+" rounded-md w-full px-2.5 py-1.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center gap-2"))&&f(t,"class",r)},i(u){n||(ne(s,u),n=!0)},o(u){se(s,u),n=!1},d(u){u&&b(t),s&&s.d(u),i=!1,o()}}}function Pn(e,t,r){let{$$slots:n={},$$scope:i}=t,{disabled:o=!1}=t;const a={normal:"bg-indigo-600 text-white shadow-sm hover:bg-indigo-500",disabled:"bg-gray-200 text-gray-400 shadow-none cursor-not-allowed"};function s(u){Jr.call(this,e,u)}return e.$$set=u=>{"disabled"in u&&r(0,o=u.disabled),"$$scope"in u&&r(2,i=u.$$scope)},[o,a,i,n,s]}class Fn extends qe{constructor(t){super(),Ye(this,t,Pn,Un,He,{disabled:0})}}var kt={exports:{}};kt.exports=Fr;kt.exports.addWheelListener=Fr;kt.exports.removeWheelListener=On;function Fr(e,t,r){e.addEventListener("wheel",t,r)}function On(e,t,r){e.removeEventListener("wheel",t,r)}var zn=kt.exports,Ct={exports:{}},Vn=4,$n=.001,Xn=1e-7,Gn=10,mt=11,St=1/(mt-1),Wn=typeof Float32Array=="function";function Or(e,t){return 1-3*t+3*e}function zr(e,t){return 3*t-6*e}function Vr(e){return 3*e}function At(e,t,r){return((Or(t,r)*e+zr(t,r))*e+Vr(t))*e}function $r(e,t,r){return 3*Or(t,r)*e*e+2*zr(t,r)*e+Vr(t)}function Zn(e,t,r,n,i){var o,a,s=0;do a=t+(r-t)/2,o=At(a,n,i)-e,o>0?r=a:t=a;while(Math.abs(o)>Xn&&++s<Gn);return a}function qn(e,t,r,n){for(var i=0;i<Vn;++i){var o=$r(t,r,n);if(o===0)return t;var a=At(t,r,n)-e;t-=a/o}return t}function Yn(e){return e}var Hn=function(t,r,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===r&&n===i)return Yn;for(var o=Wn?new Float32Array(mt):new Array(mt),a=0;a<mt;++a)o[a]=At(a*St,t,n);function s(u){for(var l=0,d=1,m=mt-1;d!==m&&o[d]<=u;++d)l+=St;--d;var v=(u-o[d])/(o[d+1]-o[d]),p=l+v*St,L=$r(p,t,n);return L>=$n?qn(u,p,t,n):L===0?p:Zn(u,l,l+St,t,n)}return function(l){return l===0?0:l===1?1:At(s(l),r,i)}},dt=Hn,br={ease:dt(.25,.1,.25,1),easeIn:dt(.42,0,1,1),easeOut:dt(0,0,.58,1),easeInOut:dt(.42,0,.58,1),linear:dt(0,0,1,1)};Ct.exports=jn;Ct.exports.makeAggregateRaf=Xr;Ct.exports.sharedScheduler=Xr();function jn(e,t,r){var n=Object.create(null),i=Object.create(null);r=r||{};var o=typeof r.easing=="function"?r.easing:br[r.easing];o||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),o=br.ease);var a=typeof r.step=="function"?r.step:wr,s=typeof r.done=="function"?r.done:wr,u=Kn(r.scheduler),l=Object.keys(t);l.forEach(function(R){n[R]=e[R],i[R]=t[R]-e[R]});var d=typeof r.duration=="number"?r.duration:400,m=Math.max(1,d*.06),v,p=0;return v=u.next(D),{cancel:L};function L(){u.cancel(v),v=0}function D(){var R=o(p/m);p+=1,I(R),p<=m?(v=u.next(D),a(e)):(v=0,setTimeout(function(){s(e)},0))}function I(R){l.forEach(function(k){e[k]=i[k]*R+n[k]})}}function wr(){}function Kn(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?Jn():Qn()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function Jn(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Qn(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Xr(){var e=new Set,t=new Set,r=0;return{next:i,cancel:i,clearAll:n};function n(){e.clear(),t.clear(),cancelAnimationFrame(r),r=0}function i(s){t.add(s),o()}function o(){r||(r=requestAnimationFrame(a))}function a(){r=0;var s=t;t=e,e=s,e.forEach(function(u){u()}),e.clear()}}var eo=Ct.exports,to=function(t){no(t);var r=ro(t);return t.on=r.on,t.off=r.off,t.fire=r.fire,t};function ro(e){var t=Object.create(null);return{on:function(r,n,i){if(typeof n!="function")throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:i}),e},off:function(r,n){var i=typeof r>"u";if(i)return t=Object.create(null),e;if(t[r]){var o=typeof n!="function";if(o)delete t[r];else for(var a=t[r],s=0;s<a.length;++s)a[s].callback===n&&a.splice(s,1)}return e},fire:function(r){var n=t[r];if(!n)return e;var i;arguments.length>1&&(i=Array.prototype.splice.call(arguments,1));for(var o=0;o<n.length;++o){var a=n[o];a.callback.apply(a.ctx,i)}return e}}}function no(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}var oo=ao;function ao(e,t,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,i=typeof r.amplitude=="number"?r.amplitude:.25,o=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:io(),a=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:so(),s,u,l=342,d,m,v,p,L,D,I,R;return{start:x,stop:N,cancel:k};function k(){o(d),o(R)}function x(){s=e(),p=I=m=L=0,u=new Date,o(d),o(R),d=a(A)}function A(){var G=Date.now(),U=G-u;u=G;var C=e(),$=C.x-s.x,B=C.y-s.y;s=C;var M=1e3/(1+U);m=.8*$*M+.2*m,L=.8*B*M+.2*L,d=a(A)}function N(){o(d),o(R);var G=e();v=G.x,D=G.y,u=Date.now(),(m<-n||m>n)&&(p=i*m,v+=p),(L<-n||L>n)&&(I=i*L,D+=I),R=a(X)}function X(){var G=Date.now()-u,U=!1,C=0,$=0;p&&(C=-p*Math.exp(-G/l),C>.5||C<-.5?U=!0:C=p=0),I&&($=-I*Math.exp(-G/l),$>.5||$<-.5?U=!0:$=I=0),U&&(t(v+C,D+$),R=a(X))}}function io(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function so(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var lo=uo;function uo(e){if(e)return{capture:Er,release:Er};var t,r,n,i=!1;return{capture:o,release:a};function o(s){i=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=yr,t=s,t.ondragstart=yr}function a(){i&&(i=!1,window.document.onselectstart=r,t&&(t.ondragstart=n))}}function yr(e){return e.stopPropagation(),!1}function Er(){}var Ft,Tr;function co(){if(Tr)return Ft;Tr=1,Ft=e;function e(){this.x=0,this.y=0,this.scale=1}return Ft}var Dt={exports:{}},xr;function fo(){if(xr)return Dt.exports;xr=1,Dt.exports=e,Dt.exports.canAttach=t;function e(r,n){if(!t(r))throw new Error("svg element is required for svg.panzoom to work");var i=r.ownerSVGElement;if(!i)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");n.disableKeyboardInteraction||i.setAttribute("tabindex",0);var o={getBBox:s,getScreenCTM:u,getOwner:a,applyTransform:d,initTransform:l};return o;function a(){return i}function s(){var m=r.getBBox();return{left:m.x,top:m.y,width:m.width,height:m.height}}function u(){var m=i.getCTM();return m||i.getScreenCTM()}function l(m){var v=r.getCTM();v===null&&(v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),m.x=v.e,m.y=v.f,m.scale=v.a,i.removeAttributeNS(null,"viewBox")}function d(m){r.setAttribute("transform","matrix("+m.scale+" 0 0 "+m.scale+" "+m.x+" "+m.y+")")}}function t(r){return r&&r.ownerSVGElement&&r.getCTM}return Dt.exports}var It={exports:{}},Sr;function mo(){if(Sr)return It.exports;Sr=1,It.exports=e,It.exports.canAttach=t;function e(r,n){var i=t(r);if(!i)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var o=r.parentElement;r.scrollTop=0,n.disableKeyboardInteraction||o.setAttribute("tabindex",0);var a={getBBox:u,getOwner:s,applyTransform:l};return a;function s(){return o}function u(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function l(d){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+d.scale+", 0, 0, "+d.scale+", "+d.x+", "+d.y+")"}}function t(r){return r&&r.parentElement&&r.style}return It.exports}var Dr=zn,Ot=eo,ho=to,vo=oo,Gr=lo,po=Gr(),go=Gr(!0),_o=co(),Ir=fo(),Rr=mo(),bo=1,wo=1.75,Ar=300,Lr=200,yo=Wr;function Wr(e,t){t=t||{};var r=t.controller;if(r||(Ir.canAttach(e)?r=Ir(e,t):Rr.canAttach(e)&&(r=Rr(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),i={x:0,y:0},o=!1,a=new _o;r.initTransform&&r.initTransform(a);var s=typeof t.filterKey=="function"?t.filterKey:tt,u=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,l=t.bounds,d=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,m=typeof t.minZoom=="number"?t.minZoom:0,v=typeof t.boundsPadding=="number"?t.boundsPadding:.05,p=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:wo,L=t.beforeWheel||tt,D=t.beforeMouseDown||tt,I=typeof t.zoomSpeed=="number"?t.zoomSpeed:bo,R=kr(t.transformOrigin),k=t.enableTextSelection?go:po;Eo(l),t.autocenter&&be();var x,A=0,N=0,X=0,G=null,U=new Date,C,$=!1,B=!1,M,z,Q,P,K,Y;"smoothScroll"in t&&!t.smoothScroll?Y=To():Y=vo(J,H,t.smoothScroll);var le,ge,ee,ie=!1;Re();var re={dispose:Ce,moveBy:E,moveTo:ot,smoothMoveTo:gt,centerOn:Ie,zoomTo:Tt,zoomAbs:Ve,smoothZoom:Et,smoothZoomAbs:Zr,showRectangle:_e,pause:De,resume:Ne,isPaused:fe,getTransform:de,getMinZoom:me,setMinZoom:ke,getMaxZoom:Ue,setMaxZoom:ze,getTransformOrigin:Bt,setTransformOrigin:vt,getZoomSpeed:Mt,setZoomSpeed:pt};ho(re);var j=typeof t.initialX=="number"?t.initialX:a.x,W=typeof t.initialY=="number"?t.initialY:a.y,Le=typeof t.initialZoom=="number"?t.initialZoom:a.scale;return(j!=a.x||W!=a.y||Le!=a.scale)&&Ve(j,W,Le),re;function De(){we(),ie=!0}function Ne(){ie&&(Re(),ie=!1)}function fe(){return ie}function _e(c){var g=n.getBoundingClientRect(),_=pe(g.width,g.height),T=c.right-c.left,V=c.bottom-c.top;if(!Number.isFinite(T)||!Number.isFinite(V))throw new Error("Invalid rectangle");var Z=_.x/T,q=_.y/V,he=Math.min(Z,q);a.x=-(c.left+T/2)*he+_.x/2,a.y=-(c.top+V/2)*he+_.y/2,a.scale=he}function pe(c,g){if(r.getScreenCTM){var _=r.getScreenCTM(),T=_.a,V=_.d,Z=_.e,q=_.f;i.x=c*T-Z,i.y=g*V-q}else i.x=c,i.y=g;return i}function be(){var c,g,_=0,T=0,V=st();if(V)_=V.left,T=V.top,c=V.right-V.left,g=V.bottom-V.top;else{var Z=n.getBoundingClientRect();c=Z.width,g=Z.height}var q=r.getBBox();if(!(q.width===0||q.height===0)){var he=g/q.height,Je=c/q.width,Ge=Math.min(Je,he);a.x=-(q.left+q.width/2)*Ge+c/2+_,a.y=-(q.top+q.height/2)*Ge+g/2+T,a.scale=Ge}}function de(){return a}function me(){return m}function ke(c){m=c}function Ue(){return d}function ze(c){d=c}function Bt(){return R}function vt(c){R=kr(c)}function Mt(){return I}function pt(c){if(!Number.isFinite(c))throw new Error("Zoom speed should be a number");I=c}function J(){return{x:a.x,y:a.y}}function ot(c,g){a.x=c,a.y=g,it(),Ke("pan"),lt()}function at(c,g){ot(a.x+c,a.y+g)}function it(){var c=st();if(c){var g=!1,_=ue(),T=c.left-_.right;return T>0&&(a.x+=T,g=!0),T=c.right-_.left,T<0&&(a.x+=T,g=!0),T=c.top-_.bottom,T>0&&(a.y+=T,g=!0),T=c.bottom-_.top,T<0&&(a.y+=T,g=!0),g}}function st(){if(l){if(typeof l=="boolean"){var c=n.getBoundingClientRect(),g=c.width,_=c.height;return{left:g*v,top:_*v,right:g*(1-v),bottom:_*(1-v)}}return l}}function ue(){var c=r.getBBox(),g=Nt(c.left,c.top);return{left:g.x,top:g.y,right:c.width*a.scale+g.x,bottom:c.height*a.scale+g.y}}function Nt(c,g){return{x:c*a.scale+a.x,y:g*a.scale+a.y}}function lt(){o=!0,x=window.requestAnimationFrame(Ae)}function je(c,g,_){if(zt(c)||zt(g)||zt(_))throw new Error("zoom requires valid numbers");var T=a.scale*_;if(T<m){if(a.scale===m)return;_=m/a.scale}if(T>d){if(a.scale===d)return;_=d/a.scale}var V=pe(c,g);if(a.x=V.x-_*(V.x-a.x),a.y=V.y-_*(V.y-a.y),l&&v===1&&m===1)a.scale*=_,it();else{var Z=it();Z||(a.scale*=_)}Ke("zoom"),lt()}function Ve(c,g,_){var T=_/a.scale;je(c,g,T)}function Ie(c){var g=c.ownerSVGElement;if(!g)throw new Error("ui element is required to be within the scene");var _=c.getBoundingClientRect(),T=_.left+_.width/2,V=_.top+_.height/2,Z=g.getBoundingClientRect(),q=Z.width/2-T,he=Z.height/2-V;E(q,he,!0)}function gt(c,g){E(c-a.x,g-a.y,!0)}function E(c,g,_){if(!_)return at(c,g);le&&le.cancel();var T={x:0,y:0},V={x:c,y:g},Z=0,q=0;le=Ot(T,V,{step:function(he){at(he.x-Z,he.y-q),Z=he.x,q=he.y}})}function H(c,g){xt(),ot(c,g)}function Ce(){we()}function Re(){n.addEventListener("mousedown",Kt,{passive:!1}),n.addEventListener("dblclick",jt,{passive:!1}),n.addEventListener("touchstart",$e,{passive:!1}),n.addEventListener("keydown",te,{passive:!1}),Dr.addWheelListener(n,rr,{passive:!1}),lt()}function we(){Dr.removeWheelListener(n,rr),n.removeEventListener("mousedown",Kt),n.removeEventListener("keydown",te),n.removeEventListener("dblclick",jt),n.removeEventListener("touchstart",$e),x&&(window.cancelAnimationFrame(x),x=0),Y.cancel(),er(),tr(),k.release(),Ut()}function Ae(){o&&Pe()}function Pe(){o=!1,r.applyTransform(a),Ke("transform"),x=0}function te(c){var g=0,_=0,T=0;if(c.keyCode===38?_=1:c.keyCode===40?_=-1:c.keyCode===37?g=1:c.keyCode===39?g=-1:c.keyCode===189||c.keyCode===109?T=1:(c.keyCode===187||c.keyCode===107)&&(T=-1),!s(c,g,_,T)){if(g||_){c.preventDefault(),c.stopPropagation();var V=n.getBoundingClientRect(),Z=Math.min(V.width,V.height),q=.05,he=Z*q*g,Je=Z*q*_;E(he,Je)}if(T){var Ge=nr(T*100),Z=R?ft():Fe();Tt(Z.x,Z.y,Ge)}}}function Fe(){var c=n.getBoundingClientRect();return{x:c.width/2,y:c.height/2}}function $e(c){if(_t(c),Oe(),c.touches.length===1)return wt(c,c.touches[0]);c.touches.length===2&&(K=Ht(c.touches[0],c.touches[1]),ee=!0,Xe())}function _t(c){t.onTouch&&!t.onTouch(c)||(c.stopPropagation(),c.preventDefault())}function bt(c){Oe(),!(t.onDoubleClick&&!t.onDoubleClick(c))&&(c.preventDefault(),c.stopPropagation())}function wt(c){N=new Date;var g=c.touches[0],_=Be(g);C=_;var T=pe(_.x,_.y);M=T.x,z=T.y,Q=M,P=z,Y.cancel(),Xe()}function Xe(){$||($=!0,document.addEventListener("touchmove",ut),document.addEventListener("touchend",yt),document.addEventListener("touchcancel",yt))}function ut(c){if(c.touches.length===1){c.stopPropagation();var g=c.touches[0],_=Be(g),T=pe(_.x,_.y),V=T.x-M,Z=T.y-z;V!==0&&Z!==0&&or(),M=T.x,z=T.y,E(V,Z)}else if(c.touches.length===2){ee=!0;var q=c.touches[0],he=c.touches[1],Je=Ht(q,he),Ge=1+(Je/K-1)*u,ar=Be(q),ir=Be(he);if(M=(ar.x+ir.x)/2,z=(ar.y+ir.y)/2,R){var _=ft();M=_.x,z=_.y}Tt(M,z,Ge),K=Je,c.stopPropagation(),c.preventDefault()}}function Oe(){X&&(clearTimeout(X),X=0)}function ct(c){if(t.onClick){Oe();var g=M-Q,_=z-P,T=Math.sqrt(g*g+_*_);T>5||(X=setTimeout(function(){X=0,t.onClick(c)},Ar))}}function yt(c){if(Oe(),c.touches.length>0){var g=Be(c.touches[0]),_=pe(g.x,g.y);M=_.x,z=_.y}else{var T=new Date;if(T-A<Ar)if(R){var g=ft();Et(g.x,g.y,p)}else Et(C.x,C.y,p);else T-N<Lr&&ct(c);A=T,Ut(),tr()}}function Ht(c,g){var _=c.clientX-g.clientX,T=c.clientY-g.clientY;return Math.sqrt(_*_+T*T)}function jt(c){bt(c);var g=Be(c);R&&(g=ft()),Et(g.x,g.y,p)}function Kt(c){if(Oe(),!D(c)){if(G=c,U=new Date,$)return c.stopPropagation(),!1;var g=c.button===1&&window.event!==null||c.button===0;if(g){Y.cancel();var _=Be(c),T=pe(_.x,_.y);return Q=M=T.x,P=z=T.y,document.addEventListener("mousemove",Jt),document.addEventListener("mouseup",Qt),k.capture(c.target||c.srcElement),!1}}}function Jt(c){if(!$){or();var g=Be(c),_=pe(g.x,g.y),T=_.x-M,V=_.y-z;M=_.x,z=_.y,E(T,V)}}function Qt(){var c=new Date;c-U<Lr&&ct(G),k.release(),Ut(),er()}function er(){document.removeEventListener("mousemove",Jt),document.removeEventListener("mouseup",Qt),B=!1}function tr(){document.removeEventListener("touchmove",ut),document.removeEventListener("touchend",yt),document.removeEventListener("touchcancel",yt),B=!1,ee=!1,$=!1}function rr(c){if(!L(c)){Y.cancel();var g=c.deltaY;c.deltaMode>0&&(g*=100);var _=nr(g);if(_!==1){var T=R?ft():Be(c);Tt(T.x,T.y,_),c.preventDefault()}}}function Be(c){var g,_,T=n.getBoundingClientRect();return g=c.clientX-T.left,_=c.clientY-T.top,{x:g,y:_}}function Et(c,g,_){var T=a.scale,V={scale:T},Z={scale:_*T};Y.cancel(),xt(),ge=Ot(V,Z,{step:function(q){Ve(c,g,q.scale)},done:qr})}function Zr(c,g,_){var T=a.scale,V={scale:T},Z={scale:_};Y.cancel(),xt(),ge=Ot(V,Z,{step:function(q){Ve(c,g,q.scale)}})}function ft(){var c=n.getBoundingClientRect();return{x:c.width*R.x,y:c.height*R.y}}function Tt(c,g,_){return Y.cancel(),xt(),je(c,g,_)}function xt(){ge&&(ge.cancel(),ge=null)}function nr(c){var g=Math.sign(c),_=Math.min(.25,Math.abs(I*c/128));return 1-g*_}function or(){B||(Ke("panstart"),B=!0,Y.start())}function Ut(){B&&(ee||Y.stop(),Ke("panend"))}function qr(){Ke("zoomend")}function Ke(c){re.fire(c,re)}}function kr(e){if(e){if(typeof e=="object")return(!et(e.x)||!et(e.y))&&Cr(e),e;Cr()}}function Cr(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function tt(){}function Eo(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var r=et(e.left)&&et(e.top)&&et(e.bottom)&&et(e.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function et(e){return Number.isFinite(e)}function zt(e){return Number.isNaN?Number.isNaN(e):e!==e}function To(){return{start:tt,stop:tt,cancel:tt}}function xo(){if(typeof document>"u")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,r=0;r<e.length;++r){var n=e[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){t=n;break}}if(!t)return;var i=t.getAttribute("query");if(!i)return;var o=t.getAttribute("name")||"pz",a=Date.now();s();function s(){var d=document.querySelector(i);if(!d){var m=Date.now(),v=m-a;if(v<2e3){setTimeout(s,100);return}console.error("Cannot find the panzoom element",o);return}var p=u(t);console.log(p),window[o]=Wr(d,p)}function u(d){for(var m=d.attributes,v={},p=0;p<m.length;++p){var L=m[p],D=l(L);D&&(v[D.name]=D.value)}return v}function l(d){if(d.name){var m=d.name[0]==="p"&&d.name[1]==="z"&&d.name[2]==="-";if(m){var v=d.name.substr(3),p=JSON.parse(d.value);return{name:v,value:p}}}}}xo();const So=an(yo);const Do=e=>({}),Br=e=>({}),Io=e=>({}),Mr=e=>({});function Ro(e){let t,r,n,i,o,a,s,u,l,d,m,v,p,L;const D=e[6].left,I=Vt(D,e,e[5],Mr),R=e[6].right,k=Vt(R,e,e[5],Br);return m=new Lt({props:{src:rn,class:"w-6 h-6 text-white"}}),{c(){t=w("div"),r=w("div"),n=w("div"),i=w("div"),I&&I.c(),o=F(),a=w("div"),s=w("div"),k&&k.c(),u=F(),l=w("div"),d=w("div"),ye(m.$$.fragment),this.h()},l(x){t=y(x,"DIV",{class:!0});var A=S(t);r=y(A,"DIV",{class:!0});var N=S(r);n=y(N,"DIV",{class:!0});var X=S(n);i=y(X,"DIV",{style:!0});var G=S(i);I&&I.l(G),G.forEach(b),X.forEach(b),o=O(N),a=y(N,"DIV",{class:!0});var U=S(a);s=y(U,"DIV",{style:!0});var C=S(s);k&&k.l(C),C.forEach(b),U.forEach(b),N.forEach(b),u=O(A),l=y(A,"DIV",{class:!0});var $=S(l);d=y($,"DIV",{class:!0});var B=S(d);Ee(m.$$.fragment,B),B.forEach(b),$.forEach(b),A.forEach(b),this.h()},h(){f(i,"style",e[2]),f(n,"class","left svelte-prhf1h"),f(s,"style",e[2]),f(a,"class","right svelte-prhf1h"),f(r,"class","w-full h-full grid place-items-center"),f(d,"class","w-12 h-12 rounded-full bg-black absolute top-1/2 -translate-x-1/2 left-1/2 grid place-items-center"),f(l,"class","handle relative shadow-lg svelte-prhf1h"),f(t,"class","container svelte-prhf1h"),cr(t,"--split-point",e[1]+"%")},m(x,A){ce(x,t,A),h(t,r),h(r,n),h(n,i),I&&I.m(i,null),h(r,o),h(r,a),h(a,s),k&&k.m(s,null),h(t,u),h(t,l),h(l,d),Te(m,d,null),e[7](t),v=!0,p||(L=[Wt(e[4].call(null,r)),Wt(e[3].call(null,l)),ve(l,"pointercancel",ht(Lo))],p=!0)},p(x,[A]){I&&I.p&&(!v||A&32)&&$t(I,D,x,x[5],v?Gt(D,x[5],A,Io):Xt(x[5]),Mr),(!v||A&4)&&f(i,"style",x[2]),k&&k.p&&(!v||A&32)&&$t(k,R,x,x[5],v?Gt(R,x[5],A,Do):Xt(x[5]),Br),(!v||A&4)&&f(s,"style",x[2]),A&2&&cr(t,"--split-point",x[1]+"%")},i(x){v||(ne(I,x),ne(k,x),ne(m.$$.fragment,x),v=!0)},o(x){se(I,x),se(k,x),se(m.$$.fragment,x),v=!1},d(x){x&&b(t),I&&I.d(x),k&&k.d(x),xe(m),e[7](null),p=!1,nt(L)}}}function Ao(e,t,r){return Math.min(Math.max(e,t),r)}const Lo=()=>{};function ko(e,t,r){let{$$slots:n={},$$scope:i}=t,o=null,a=50;function s(m){m.addEventListener("pointerdown",v=>{const p=v.clientX,L=a,D=document.body.style.cursor;document.body.style.cursor="col-resize";const I=k=>{const x=o?o.clientWidth:window.innerWidth,A=k.clientX-p,N=L+A/x*100;r(1,a=Ao(N,0,100))},R=()=>{document.body.style.cursor=D,window.removeEventListener("pointermove",I),window.removeEventListener("pointerup",R)};window.addEventListener("pointermove",I),window.addEventListener("pointerup",R)})}let u="";function l(m){const v=So(m,{controller:{applyTransform:p=>{r(2,u=`transform: translate(${p.x}px, ${p.y}px) scale(${p.scale})`)},getOwner:()=>m}});return{destroy:()=>v.dispose()}}function d(m){Me[m?"unshift":"push"](()=>{o=m,r(0,o)})}return e.$$set=m=>{"$$scope"in m&&r(5,i=m.$$scope)},[o,a,u,s,l,i,n,d]}class Co extends qe{constructor(t){super(),Ye(this,t,ko,Ro,He,{})}}function Nr(e){let t,r,n;function i(a){e[18](a)}let o={label:"Bayer Level ("+e[2]+")",min:0,max:5,step:1};return e[2]!==void 0&&(o.value=e[2]),t=new Zt({props:o}),Me.push(()=>We(t,"value",i)),{c(){ye(t.$$.fragment)},l(a){Ee(t.$$.fragment,a)},m(a,s){Te(t,a,s),n=!0},p(a,s){const u={};s&4&&(u.label="Bayer Level ("+a[2]+")"),!r&&s&4&&(r=!0,u.value=a[2],Ze(()=>r=!1)),t.$set(u)},i(a){n||(ne(t.$$.fragment,a),n=!0)},o(a){se(t.$$.fragment,a),n=!1},d(a){xe(t,a)}}}function Ur(e){let t,r,n,i,o,a,s,u,l,d,m,v,p,L;return{c(){t=w("fieldset"),r=w("div"),n=w("input"),i=F(),o=w("label"),a=oe("Light"),s=F(),u=w("div"),l=w("input"),d=F(),m=w("label"),v=oe("Dark"),this.h()},l(D){t=y(D,"FIELDSET",{});var I=S(t);r=y(I,"DIV",{class:!0});var R=S(r);n=y(R,"INPUT",{type:!0,name:!0,id:!0}),i=O(R),o=y(R,"LABEL",{for:!0,class:!0});var k=S(o);a=ae(k,"Light"),k.forEach(b),R.forEach(b),s=O(I),u=y(I,"DIV",{class:!0});var x=S(u);l=y(x,"INPUT",{type:!0,name:!0,id:!0}),d=O(x),m=y(x,"LABEL",{for:!0,class:!0});var A=S(m);v=ae(A,"Dark"),A.forEach(b),x.forEach(b),I.forEach(b),this.h()},h(){f(n,"type","color"),f(n,"name","color-light"),f(n,"id","color-light"),f(o,"for","color-light"),f(o,"class","font-medium text-gray-900"),f(r,"class","flex gap-3"),f(l,"type","color"),f(l,"name","color-dark"),f(l,"id","color-dark"),f(m,"for","color-dark"),f(m,"class","font-medium text-gray-900"),f(u,"class","flex gap-3")},m(D,I){ce(D,t,I),h(t,r),h(r,n),Qe(n,e[8]),h(r,i),h(r,o),h(o,a),h(t,s),h(t,u),h(u,l),Qe(l,e[9]),h(u,d),h(u,m),h(m,v),p||(L=[ve(n,"input",e[22]),ve(l,"input",e[23])],p=!0)},p(D,I){I&256&&Qe(n,D[8]),I&512&&Qe(l,D[9])},d(D){D&&b(t),p=!1,nt(L)}}}function Bo(e){let t,r,n;return t=new Lt({props:{src:nn,class:"w-4 h-4"}}),{c(){ye(t.$$.fragment),r=oe(`
				Save`)},l(i){Ee(t.$$.fragment,i),r=ae(i,`
				Save`)},m(i,o){Te(t,i,o),ce(i,r,o),n=!0},p:Se,i(i){n||(ne(t.$$.fragment,i),n=!0)},o(i){se(t.$$.fragment,i),n=!1},d(i){xe(t,i),i&&b(r)}}}function Mo(e){let t,r,n;return{c(){t=w("div"),r=w("p"),n=oe("Drag & Drop Image to Start"),this.h()},l(i){t=y(i,"DIV",{class:!0});var o=S(t);r=y(o,"P",{class:!0});var a=S(r);n=ae(a,"Drag & Drop Image to Start"),a.forEach(b),o.forEach(b),this.h()},h(){f(r,"class","text-2xl text-gray-500"),f(t,"class","w-full h-full grid place-items-center")},m(i,o){ce(i,t,o),h(t,r),h(r,n)},p:Se,i:Se,o:Se,d(i){i&&b(t)}}}function No(e){let t,r,n,i,o,a,s,u;return r=new Co({props:{$$slots:{right:[Po],left:[Uo]},$$scope:{ctx:e}}}),o=new Lt({props:{src:on,class:"w-5 h-5 text-white"}}),{c(){t=w("div"),ye(r.$$.fragment),n=F(),i=w("button"),ye(o.$$.fragment),this.h()},l(l){t=y(l,"DIV",{class:!0});var d=S(t);Ee(r.$$.fragment,d),n=O(d),i=y(d,"BUTTON",{class:!0});var m=S(i);Ee(o.$$.fragment,m),m.forEach(b),d.forEach(b),this.h()},h(){f(i,"class","absolute top-0 right-0 m-4 p-2 bg-black bg-opacity-40 rounded-full"),f(t,"class","w-full h-full relative")},m(l,d){ce(l,t,d),Te(r,t,null),h(t,n),h(t,i),Te(o,i,null),a=!0,s||(u=ve(i,"click",e[27]),s=!0)},p(l,d){const m={};d&536879081&&(m.$$scope={dirty:d,ctx:l}),r.$set(m)},i(l){a||(ne(r.$$.fragment,l),ne(o.$$.fragment,l),a=!0)},o(l){se(r.$$.fragment,l),se(o.$$.fragment,l),a=!1},d(l){l&&b(t),xe(r),xe(o),s=!1,u()}}}function Uo(e){let t,r,n;return{c(){t=w("img"),this.h()},l(i){t=y(i,"IMG",{slot:!0,src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){f(t,"slot","left"),Rt(t.src,r=e[3].src)||f(t,"src",r),f(t,"alt",""),f(t,"style",n=`width: ${e[0]}px; height: ${e[11]}px`),f(t,"class","pixelated max-w-none svelte-1gkt69q")},m(i,o){ce(i,t,o)},p(i,o){o&8&&!Rt(t.src,r=i[3].src)&&f(t,"src",r),o&2049&&n!==(n=`width: ${i[0]}px; height: ${i[11]}px`)&&f(t,"style",n)},d(i){i&&b(t)}}}function Po(e){let t,r,n,i,o;return{c(){t=w("canvas"),this.h()},l(a){t=y(a,"CANVAS",{class:!0,slot:!0,style:!0,width:!0,height:!0,"aria-label":!0}),S(t).forEach(b),this.h()},h(){f(t,"class","pixelated svelte-1gkt69q"),f(t,"slot","right"),f(t,"style",r=`width: ${e[0]}px; height: ${e[11]}px`),f(t,"width",e[0]),f(t,"height",e[11]),f(t,"aria-label","Dithered Image")},m(a,s){ce(a,t,s),e[26](t),i||(o=Wt(n=In.call(null,t,{image:e[3],threshold:e[5],noiseIntensity:e[6],monochrome:e[7],colorLight:e[8],colorDark:e[9],mode:e[12],width:e[0],height:e[11]})),i=!0)},p(a,s){s&2049&&r!==(r=`width: ${a[0]}px; height: ${a[11]}px`)&&f(t,"style",r),s&1&&f(t,"width",a[0]),s&2048&&f(t,"height",a[11]),n&&en(n.update)&&s&7145&&n.update.call(null,{image:a[3],threshold:a[5],noiseIntensity:a[6],monochrome:a[7],colorLight:a[8],colorDark:a[9],mode:a[12],width:a[0],height:a[11]})},d(a){a&&b(t),e[26](null),i=!1,o()}}}function Fo(e){let t,r,n,i,o,a,s,u,l,d,m,v,p,L,D,I,R,k,x,A,N,X,G,U,C,$,B,M,z,Q,P,K,Y,le,ge,ee,ie,re,j,W,Le,De,Ne,fe,_e,pe,be,de,me,ke,Ue,ze;function Bt(E){e[16](E)}let vt={};e[3]!==void 0&&(vt.image=e[3]),d=new Nn({props:vt}),Me.push(()=>We(d,"image",Bt));function Mt(E){e[17](E)}let pt={label:"Dither Mode",options:e[14]};e[1]!==void 0&&(pt.selected=e[1]),R=new dn({props:pt}),Me.push(()=>We(R,"selected",Mt));let J=e[1]==="bayer"&&Nr(e);function ot(E){e[19](E)}let at={label:"Threshold ("+e[5]+")",min:0,max:1,step:.01};e[5]!==void 0&&(at.value=e[5]),N=new Zt({props:at}),Me.push(()=>We(N,"value",ot));function it(E){e[20](E)}let st={label:"Noise Intensity ("+e[6]+")",min:0,max:1.5,step:.01};e[6]!==void 0&&(st.value=e[6]),U=new Zt({props:st}),Me.push(()=>We(U,"value",it));let ue=e[7]&&Ur(e);function Nt(E){e[24](E)}function lt(E){e[25](E)}let je={};e[0]!==void 0&&(je.width=e[0]),e[4]!==void 0&&(je.aspectRatio=e[4]),W=new un({props:je}),Me.push(()=>We(W,"width",Nt)),Me.push(()=>We(W,"aspectRatio",lt)),_e=new Fn({props:{disabled:!e[3],$$slots:{default:[Bo]},$$scope:{ctx:e}}}),_e.$on("click",e[13]);const Ve=[No,Mo],Ie=[];function gt(E,H){return E[3]?0:1}return de=gt(e),me=Ie[de]=Ve[de](e),{c(){t=F(),r=F(),n=w("main"),i=w("aside"),o=w("section"),a=w("div"),s=w("h2"),u=oe("Input Options"),l=F(),ye(d.$$.fragment),v=F(),p=w("div"),L=w("h2"),D=oe("Dithering Options"),I=F(),ye(R.$$.fragment),x=F(),J&&J.c(),A=F(),ye(N.$$.fragment),G=F(),ye(U.$$.fragment),$=F(),B=w("div"),M=w("div"),z=w("input"),Q=F(),P=w("div"),K=w("label"),Y=oe("Monochrome"),le=F(),ue&&ue.c(),ge=F(),ee=w("div"),ie=w("h2"),re=oe("Output Options"),j=F(),ye(W.$$.fragment),Ne=F(),fe=w("footer"),ye(_e.$$.fragment),pe=F(),be=w("section"),me.c(),this.h()},l(E){Qr("svelte-1hm2pfs",document.head).forEach(b),t=O(E),r=O(E),n=y(E,"MAIN",{class:!0});var Ce=S(n);i=y(Ce,"ASIDE",{class:!0});var Re=S(i);o=y(Re,"SECTION",{class:!0});var we=S(o);a=y(we,"DIV",{class:!0});var Ae=S(a);s=y(Ae,"H2",{class:!0});var Pe=S(s);u=ae(Pe,"Input Options"),Pe.forEach(b),l=O(Ae),Ee(d.$$.fragment,Ae),Ae.forEach(b),v=O(we),p=y(we,"DIV",{class:!0});var te=S(p);L=y(te,"H2",{class:!0});var Fe=S(L);D=ae(Fe,"Dithering Options"),Fe.forEach(b),I=O(te),Ee(R.$$.fragment,te),x=O(te),J&&J.l(te),A=O(te),Ee(N.$$.fragment,te),G=O(te),Ee(U.$$.fragment,te),$=O(te),B=y(te,"DIV",{class:!0});var $e=S(B);M=y($e,"DIV",{class:!0});var _t=S(M);z=y(_t,"INPUT",{type:!0,id:!0,class:!0}),_t.forEach(b),Q=O($e),P=y($e,"DIV",{class:!0});var bt=S(P);K=y(bt,"LABEL",{for:!0,class:!0});var wt=S(K);Y=ae(wt,"Monochrome"),wt.forEach(b),bt.forEach(b),$e.forEach(b),le=O(te),ue&&ue.l(te),te.forEach(b),ge=O(we),ee=y(we,"DIV",{class:!0});var Xe=S(ee);ie=y(Xe,"H2",{class:!0});var ut=S(ie);re=ae(ut,"Output Options"),ut.forEach(b),j=O(Xe),Ee(W.$$.fragment,Xe),Xe.forEach(b),we.forEach(b),Ne=O(Re),fe=y(Re,"FOOTER",{class:!0});var Oe=S(fe);Ee(_e.$$.fragment,Oe),Oe.forEach(b),Re.forEach(b),pe=O(Ce),be=y(Ce,"SECTION",{class:!0});var ct=S(be);me.l(ct),ct.forEach(b),Ce.forEach(b),this.h()},h(){document.title="Dithering",f(s,"class","text-base font-semibold leading-7 text-black mb-2"),f(a,"class","grid gap-3"),f(L,"class","text-base font-semibold leading-7 text-black mb-2"),f(z,"type","checkbox"),f(z,"id","monochrome"),f(z,"class","h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"),f(M,"class","flex h-6 items-center"),f(K,"for","monochrome"),f(K,"class","font-medium text-gray-900"),f(P,"class","ml-3 text-sm leading-6"),f(B,"class","relative flex items-start"),f(p,"class","border-t border-gray-100 py-4 grid gap-3"),f(ie,"class","text-base font-semibold leading-7 text-black mb-4"),f(ee,"class","border-t border-gray-100 py-4"),f(o,"class","grid gap-5 overflow-y-auto overflow-x-visible py-8 px-4"),f(fe,"class","py-4 px-4 flex-shrink-0"),f(i,"class","bg-white w-full md:max-w-md border-t md:border-t-0 md:border-r border-r-0 border-gray-100 z-50 overflow-y-hidden md:h-full flex-1 shadow-lg flex flex-col divide-y divide-gray-200 justify-between"),f(be,"class","flex-1 overflow-hidden select-none"),f(n,"class","w-screen max-w-screen h-screen max-h-screen flex md:flex-row flex-col-reverse bg-gray-300")},m(E,H){ce(E,t,H),ce(E,r,H),ce(E,n,H),h(n,i),h(i,o),h(o,a),h(a,s),h(s,u),h(a,l),Te(d,a,null),h(o,v),h(o,p),h(p,L),h(L,D),h(p,I),Te(R,p,null),h(p,x),J&&J.m(p,null),h(p,A),Te(N,p,null),h(p,G),Te(U,p,null),h(p,$),h(p,B),h(B,M),h(M,z),z.checked=e[7],h(B,Q),h(B,P),h(P,K),h(K,Y),h(p,le),ue&&ue.m(p,null),h(o,ge),h(o,ee),h(ee,ie),h(ie,re),h(ee,j),Te(W,ee,null),h(i,Ne),h(i,fe),Te(_e,fe,null),h(n,pe),h(n,be),Ie[de].m(be,null),ke=!0,Ue||(ze=[ve(document.body,"drop",ht(e[15])),ve(document.body,"dragover",ht(Oo)),ve(z,"change",e[21])],Ue=!0)},p(E,[H]){const Ce={};!m&&H&8&&(m=!0,Ce.image=E[3],Ze(()=>m=!1)),d.$set(Ce);const Re={};!k&&H&2&&(k=!0,Re.selected=E[1],Ze(()=>k=!1)),R.$set(Re),E[1]==="bayer"?J?(J.p(E,H),H&2&&ne(J,1)):(J=Nr(E),J.c(),ne(J,1),J.m(p,A)):J&&(dr(),se(J,1,1,()=>{J=null}),fr());const we={};H&32&&(we.label="Threshold ("+E[5]+")"),!X&&H&32&&(X=!0,we.value=E[5],Ze(()=>X=!1)),N.$set(we);const Ae={};H&64&&(Ae.label="Noise Intensity ("+E[6]+")"),!C&&H&64&&(C=!0,Ae.value=E[6],Ze(()=>C=!1)),U.$set(Ae),H&128&&(z.checked=E[7]),E[7]?ue?ue.p(E,H):(ue=Ur(E),ue.c(),ue.m(p,null)):ue&&(ue.d(1),ue=null);const Pe={};!Le&&H&1&&(Le=!0,Pe.width=E[0],Ze(()=>Le=!1)),!De&&H&16&&(De=!0,Pe.aspectRatio=E[4],Ze(()=>De=!1)),W.$set(Pe);const te={};H&8&&(te.disabled=!E[3]),H&536870912&&(te.$$scope={dirty:H,ctx:E}),_e.$set(te);let Fe=de;de=gt(E),de===Fe?Ie[de].p(E,H):(dr(),se(Ie[Fe],1,1,()=>{Ie[Fe]=null}),fr(),me=Ie[de],me?me.p(E,H):(me=Ie[de]=Ve[de](E),me.c()),ne(me,1),me.m(be,null))},i(E){ke||(ne(d.$$.fragment,E),ne(R.$$.fragment,E),ne(J),ne(N.$$.fragment,E),ne(U.$$.fragment,E),ne(W.$$.fragment,E),ne(_e.$$.fragment,E),ne(me),ke=!0)},o(E){se(d.$$.fragment,E),se(R.$$.fragment,E),se(J),se(N.$$.fragment,E),se(U.$$.fragment,E),se(W.$$.fragment,E),se(_e.$$.fragment,E),se(me),ke=!1},d(E){E&&b(t),E&&b(r),E&&b(n),xe(d),xe(R),J&&J.d(),xe(N),xe(U),ue&&ue.d(),xe(W),xe(_e),Ie[de].d(),Ue=!1,nt(ze)}}}const Oo=()=>{};function zo(e,t,r){let n,i,o,a=.5,s=.3,u=!1,l="#ede6cc",d="#21263f",m=null,v=600,p="blue_noise",L=3,D=null;async function I(){m&&await An(m,"dithered","png")}const R=[{name:"Bayer",value:"bayer"},{name:"Blue Noise",value:"blue_noise"},{name:"White Noise",value:"white_noise"}];async function k(P){var Y;const K=(Y=P.dataTransfer)==null?void 0:Y.files[0];if(K){if(!K.type.startsWith("image/")){alert("Please drop an image file");return}try{r(3,D=await qt(K))}catch(le){alert("Failed to load image"),console.error(le)}}}function x(P){D=P,r(3,D)}function A(P){p=P,r(1,p)}function N(P){L=P,r(2,L)}function X(P){a=P,r(5,a)}function G(P){s=P,r(6,s)}function U(){u=this.checked,r(7,u)}function C(){l=this.value,r(8,l)}function $(){d=this.value,r(9,d)}function B(P){v=P,r(0,v)}function M(P){o=P,r(4,o),r(3,D)}function z(P){Me[P?"unshift":"push"](()=>{m=P,r(10,m)})}const Q=()=>r(3,D=null);return e.$$.update=()=>{e.$$.dirty&6&&r(12,n=p==="bayer"?`bayer_${L}`:p),e.$$.dirty&8&&r(4,o=D!=null&&D.width&&(D!=null&&D.height)?D.width/D.height:1),e.$$.dirty&17&&r(11,i=v/o)},[v,p,L,D,o,a,s,u,l,d,m,i,n,I,R,k,x,A,N,X,G,U,C,$,B,M,z,Q]}class Go extends qe{constructor(t){super(),Ye(this,t,zo,Fo,He,{})}}export{Go as component};
